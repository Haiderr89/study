var Bv=i=>{throw TypeError(i)};var Vf=(i,t,e)=>t.has(i)||Bv("Cannot "+e);var ae=(i,t,e)=>(Vf(i,t,"read from private field"),e?e.call(i):t.get(i)),fi=(i,t,e)=>t.has(i)?Bv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),pn=(i,t,e,n)=>(Vf(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),pi=(i,t,e)=>(Vf(i,t,"access private method"),e);var Fv=(i,t,e,n)=>({set _(r){pn(i,t,r,e)},get _(){return ae(i,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function hS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gf={exports:{}},Go={};var Iv;function DC(){if(Iv)return Go;Iv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:i,type:n,key:l,ref:r!==void 0?r:null,props:o}}return Go.Fragment=t,Go.jsx=e,Go.jsxs=e,Go}var jv;function kC(){return jv||(jv=1,Gf.exports=DC()),Gf.exports}var R=kC(),$f={exports:{}},At={};var zv;function LC(){if(zv)return At;zv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function x(O,q,tt){this.props=O,this.context=q,this.refs=E,this.updater=tt||S}x.prototype.isReactComponent={},x.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=x.prototype;function _(O,q,tt){this.props=O,this.context=q,this.refs=E,this.updater=tt||S}var k=_.prototype=new C;k.constructor=_,w(k,x.prototype),k.isPureReactComponent=!0;var D=Array.isArray;function N(){}var P={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function V(O,q,tt){var et=tt.ref;return{$$typeof:i,type:O,key:q,ref:et!==void 0?et:null,props:tt}}function W(O,q){return V(O.type,q,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function nt(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return q[tt]})}var pt=/\/+/g;function it(O,q){return typeof O=="object"&&O!==null&&O.key!=null?nt(""+O.key):q.toString(36)}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,q,tt,et,dt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(bt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case i:case t:ht=!0;break;case p:return ht=O._init,F(ht(O._payload),q,tt,et,dt)}}if(ht)return dt=dt(O),ht=et===""?"."+it(O,0):et,D(dt)?(tt="",ht!=null&&(tt=ht.replace(pt,"$&/")+"/"),F(dt,q,tt,"",function(Ze){return Ze})):dt!=null&&(J(dt)&&(dt=W(dt,tt+(dt.key==null||O&&O.key===dt.key?"":(""+dt.key).replace(pt,"$&/")+"/")+ht)),q.push(dt)),1;ht=0;var Yt=et===""?".":et+":";if(D(O))for(var Nt=0;Nt<O.length;Nt++)et=O[Nt],bt=Yt+it(et,Nt),ht+=F(et,q,tt,bt,dt);else if(Nt=v(O),typeof Nt=="function")for(O=Nt.call(O),Nt=0;!(et=O.next()).done;)et=et.value,bt=Yt+it(et,Nt++),ht+=F(et,q,tt,bt,dt);else if(bt==="object"){if(typeof O.then=="function")return F(yt(O),q,tt,et,dt);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ht}function U(O,q,tt){if(O==null)return O;var et=[],dt=0;return F(O,et,"","",function(bt){return q.call(tt,bt,dt++)}),et}function Q(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ut={map:U,forEach:function(O,q,tt){U(O,function(){q.apply(this,arguments)},tt)},count:function(O){var q=0;return U(O,function(){q++}),q},toArray:function(O){return U(O,function(q){return q})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=m,At.Children=ut,At.Component=x,At.Fragment=e,At.Profiler=r,At.PureComponent=_,At.StrictMode=n,At.Suspense=d,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=w({},O.props),dt=O.key;if(q!=null)for(bt in q.key!==void 0&&(dt=""+q.key),q)!I.call(q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&q.ref===void 0||(et[bt]=q[bt]);var bt=arguments.length-2;if(bt===1)et.children=tt;else if(1<bt){for(var ht=Array(bt),Yt=0;Yt<bt;Yt++)ht[Yt]=arguments[Yt+2];et.children=ht}return V(O.type,dt,et)},At.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},At.createElement=function(O,q,tt){var et,dt={},bt=null;if(q!=null)for(et in q.key!==void 0&&(bt=""+q.key),q)I.call(q,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=q[et]);var ht=arguments.length-2;if(ht===1)dt.children=tt;else if(1<ht){for(var Yt=Array(ht),Nt=0;Nt<ht;Nt++)Yt[Nt]=arguments[Nt+2];dt.children=Yt}if(O&&O.defaultProps)for(et in ht=O.defaultProps,ht)dt[et]===void 0&&(dt[et]=ht[et]);return V(O,bt,dt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:u,render:O}},At.isValidElement=J,At.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:Q}},At.memo=function(O,q){return{$$typeof:f,type:O,compare:q===void 0?null:q}},At.startTransition=function(O){var q=P.T,tt={};P.T=tt;try{var et=O(),dt=P.S;dt!==null&&dt(tt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(N,lt)}catch(bt){lt(bt)}finally{q!==null&&tt.types!==null&&(q.types=tt.types),P.T=q}},At.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},At.use=function(O){return P.H.use(O)},At.useActionState=function(O,q,tt){return P.H.useActionState(O,q,tt)},At.useCallback=function(O,q){return P.H.useCallback(O,q)},At.useContext=function(O){return P.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,q){return P.H.useDeferredValue(O,q)},At.useEffect=function(O,q){return P.H.useEffect(O,q)},At.useEffectEvent=function(O){return P.H.useEffectEvent(O)},At.useId=function(){return P.H.useId()},At.useImperativeHandle=function(O,q,tt){return P.H.useImperativeHandle(O,q,tt)},At.useInsertionEffect=function(O,q){return P.H.useInsertionEffect(O,q)},At.useLayoutEffect=function(O,q){return P.H.useLayoutEffect(O,q)},At.useMemo=function(O,q){return P.H.useMemo(O,q)},At.useOptimistic=function(O,q){return P.H.useOptimistic(O,q)},At.useReducer=function(O,q,tt){return P.H.useReducer(O,q,tt)},At.useRef=function(O){return P.H.useRef(O)},At.useState=function(O){return P.H.useState(O)},At.useSyncExternalStore=function(O,q,tt){return P.H.useSyncExternalStore(O,q,tt)},At.useTransition=function(){return P.H.useTransition()},At.version="19.2.3",At}var Uv;function ym(){return Uv||(Uv=1,$f.exports=LC()),$f.exports}var M=ym();const qf=hS(M);var Xf={exports:{}},$o={},Yf={exports:{}},Wf={};var Hv;function PC(){return Hv||(Hv=1,(function(i){function t(F,U){var Q=F.length;F.push(U);t:for(;0<Q;){var lt=Q-1>>>1,ut=F[lt];if(0<r(ut,U))F[lt]=U,F[Q]=ut,Q=lt;else break t}}function e(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var U=F[0],Q=F.pop();if(Q!==U){F[0]=Q;t:for(var lt=0,ut=F.length,O=ut>>>1;lt<O;){var q=2*(lt+1)-1,tt=F[q],et=q+1,dt=F[et];if(0>r(tt,Q))et<ut&&0>r(dt,tt)?(F[lt]=dt,F[et]=Q,lt=et):(F[lt]=tt,F[q]=Q,lt=q);else if(et<ut&&0>r(dt,Q))F[lt]=dt,F[et]=Q,lt=et;else break t}}return U}function r(F,U){var Q=F.sortIndex-U.sortIndex;return Q!==0?Q:F.id-U.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();i.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,b=3,v=!1,S=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(F){for(var U=e(f);U!==null;){if(U.callback===null)n(f);else if(U.startTime<=F)n(f),U.sortIndex=U.expirationTime,t(d,U);else break;U=e(f)}}function D(F){if(w=!1,k(F),!S)if(e(d)!==null)S=!0,N||(N=!0,nt());else{var U=e(f);U!==null&&yt(D,U.startTime-F)}}var N=!1,P=-1,I=5,V=-1;function W(){return E?!0:!(i.unstable_now()-V<I)}function J(){if(E=!1,N){var F=i.unstable_now();V=F;var U=!0;try{t:{S=!1,w&&(w=!1,C(P),P=-1),v=!0;var Q=b;try{e:{for(k(F),m=e(d);m!==null&&!(m.expirationTime>F&&W());){var lt=m.callback;if(typeof lt=="function"){m.callback=null,b=m.priorityLevel;var ut=lt(m.expirationTime<=F);if(F=i.unstable_now(),typeof ut=="function"){m.callback=ut,k(F),U=!0;break e}m===e(d)&&n(d),k(F)}else n(d);m=e(d)}if(m!==null)U=!0;else{var O=e(f);O!==null&&yt(D,O.startTime-F),U=!1}}break t}finally{m=null,b=Q,v=!1}U=void 0}}finally{U?nt():N=!1}}}var nt;if(typeof _=="function")nt=function(){_(J)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,it=pt.port2;pt.port1.onmessage=J,nt=function(){it.postMessage(null)}}else nt=function(){x(J,0)};function yt(F,U){P=x(function(){F(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var Q=b;b=U;try{return F()}finally{b=Q}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=b;b=F;try{return U()}finally{b=Q}},i.unstable_scheduleCallback=function(F,U,Q){var lt=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?lt+Q:lt):Q=lt,F){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=Q+ut,F={id:p++,callback:U,priorityLevel:F,startTime:Q,expirationTime:ut,sortIndex:-1},Q>lt?(F.sortIndex=Q,t(f,F),e(d)===null&&F===e(f)&&(w?(C(P),P=-1):w=!0,yt(D,Q-lt))):(F.sortIndex=ut,t(d,F),S||v||(S=!0,N||(N=!0,nt()))),F},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(F){var U=b;return function(){var Q=b;b=U;try{return F.apply(this,arguments)}finally{b=Q}}}})(Wf)),Wf}var Vv;function OC(){return Vv||(Vv=1,Yf.exports=PC()),Yf.exports}var Kf={exports:{}},qe={};var Gv;function NC(){if(Gv)return qe;Gv=1;var i=ym();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,qe.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},qe.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},qe.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},qe.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},qe.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qe.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},qe.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qe.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},qe.requestFormReset=function(d){n.d.r(d)},qe.unstable_batchedUpdates=function(d,f){return d(f)},qe.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},qe.useFormStatus=function(){return l.H.useHostTransitionStatus()},qe.version="19.2.3",qe}var $v;function BC(){if($v)return Kf.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Kf.exports=NC(),Kf.exports}var qv;function FC(){if(qv)return $o;qv=1;var i=OC(),t=ym(),e=BC();function n(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(n(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return d(g),s;if(y===h)return d(g),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=y;else{for(var A=!1,T=g.child;T;){if(T===c){A=!0,c=g,h=y;break}if(T===h){A=!0,h=g,c=y;break}T=T.sibling}if(!A){for(T=y.child;T;){if(T===c){A=!0,c=y,h=g;break}if(T===h){A=!0,h=y,c=g;break}T=T.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function nt(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var pt=Symbol.for("react.client.reference");function it(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===pt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case _:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case k:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:it(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return it(s(a))}catch{}}return null}var yt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},lt=[],ut=-1;function O(s){return{current:s}}function q(s){0>ut||(s.current=lt[ut],lt[ut]=null,ut--)}function tt(s,a){ut++,lt[ut]=s.current,s.current=a}var et=O(null),dt=O(null),bt=O(null),ht=O(null);function Yt(s,a){switch(tt(bt,a),tt(dt,s),tt(et,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?av(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=av(a),s=rv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(et),tt(et,s)}function Nt(){q(et),q(dt),q(bt)}function Ze(s){s.memoizedState!==null&&tt(ht,s);var a=et.current,c=rv(a,s.type);a!==c&&(tt(dt,s),tt(et,c))}function Ut(s){dt.current===s&&(q(et),q(dt)),ht.current===s&&(q(ht),zo._currentValue=Q)}var bn,Wt;function Ot(s){if(bn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);bn=a&&a[1]||"",Wt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+s+Wt}var ee=!1;function ke(s,a){if(!s||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch($){var G=$}Reflect.construct(s,[],Z)}else{try{Z.call()}catch($){G=$}s.call(Z.prototype)}}else{try{throw Error()}catch($){G=$}(Z=s())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],T=y[1];if(A&&T){var L=A.split(`
`),H=T.split(`
`);for(g=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(h===L.length||g===H.length)for(h=L.length-1,g=H.length-1;1<=h&&0<=g&&L[h]!==H[g];)g--;for(;1<=h&&0<=g;h--,g--)if(L[h]!==H[g]){if(h!==1||g!==1)do if(h--,g--,0>g||L[h]!==H[g]){var Y=`
`+L[h].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=h&&0<=g);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ot(c):""}function Se(s,a){switch(s.tag){case 26:case 27:case 5:return Ot(s.type);case 16:return Ot("Lazy");case 13:return s.child!==a&&a!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return ke(s.type,!1);case 11:return ke(s.type.render,!1);case 1:return ke(s.type,!0);case 31:return Ot("Activity");default:return""}}function Gl(s){try{var a="",c=null;do a+=Se(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Yr=Object.prototype.hasOwnProperty,Fs=i.unstable_scheduleCallback,Wr=i.unstable_cancelCallback,Ea=i.unstable_shouldYield,Mh=i.unstable_requestPaint,Qe=i.unstable_now,Rh=i.unstable_getCurrentPriorityLevel,$l=i.unstable_ImmediatePriority,ql=i.unstable_UserBlockingPriority,vn=i.unstable_NormalPriority,Ji=i.unstable_LowPriority,ti=i.unstable_IdlePriority,Kr=i.log,f2=i.unstable_setDisableYieldValue,Zr=null,wn=null;function ts(s){if(typeof Kr=="function"&&f2(s),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Zr,s)}catch{}}var An=Math.clz32?Math.clz32:g2,p2=Math.log,m2=Math.LN2;function g2(s){return s>>>=0,s===0?32:31-(p2(s)/m2|0)|0}var Xl=256,Yl=262144,Wl=4194304;function Is(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Kl(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var T=h&134217727;return T!==0?(h=T&~y,h!==0?g=Is(h):(A&=T,A!==0?g=Is(A):c||(c=T&~s,c!==0&&(g=Is(c))))):(T=h&~y,T!==0?g=Is(T):A!==0?g=Is(A):c||(c=h&~s,c!==0&&(g=Is(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function Qr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function y2(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(){var s=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),s}function Dh(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Jr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function b2(s,a,c,h,g,y){var A=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var T=s.entanglements,L=s.expirationTimes,H=s.hiddenUpdates;for(c=A&~c;0<c;){var Y=31-An(c),Z=1<<Y;T[Y]=0,L[Y]=-1;var G=H[Y];if(G!==null)for(H[Y]=null,Y=0;Y<G.length;Y++){var $=G[Y];$!==null&&($.lane&=-536870913)}c&=~Z}h!==0&&Ug(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function Ug(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-An(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Hg(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-An(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}function Vg(s,a){var c=a&-a;return c=(c&42)!==0?1:kh(c),(c&(s.suspendedLanes|a))!==0?0:c}function kh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Lh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Gg(){var s=U.p;return s!==0?s:(s=window.event,s===void 0?32:Rv(s.type))}function $g(s,a){var c=U.p;try{return U.p=s,a()}finally{U.p=c}}var es=Math.random().toString(36).slice(2),Ie="__reactFiber$"+es,on="__reactProps$"+es,Ta="__reactContainer$"+es,Ph="__reactEvents$"+es,v2="__reactListeners$"+es,w2="__reactHandles$"+es,qg="__reactResources$"+es,to="__reactMarker$"+es;function Oh(s){delete s[Ie],delete s[on],delete s[Ph],delete s[v2],delete s[w2]}function Ca(s){var a=s[Ie];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ta]||c[Ie]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=fv(s);s!==null;){if(c=s[Ie])return c;s=fv(s)}return a}s=c,c=s.parentNode}return null}function _a(s){if(s=s[Ie]||s[Ta]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function eo(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(n(33))}function Ma(s){var a=s[qg];return a||(a=s[qg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Le(s){s[to]=!0}var Xg=new Set,Yg={};function js(s,a){Ra(s,a),Ra(s+"Capture",a)}function Ra(s,a){for(Yg[s]=a,s=0;s<a.length;s++)Xg.add(a[s])}var A2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wg={},Kg={};function S2(s){return Yr.call(Kg,s)?!0:Yr.call(Wg,s)?!1:A2.test(s)?Kg[s]=!0:(Wg[s]=!0,!1)}function Zl(s,a,c){if(S2(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Ql(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function _i(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function Fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zg(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function x2(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Nh(s){if(!s._valueTracker){var a=Zg(s)?"checked":"value";s._valueTracker=x2(s,a,""+s[a])}}function Qg(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Zg(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Jl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var E2=/[\n"\\]/g;function In(s){return s.replace(E2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bh(s,a,c,h,g,y,A,T){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Fn(a)):s.value!==""+Fn(a)&&(s.value=""+Fn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Fh(s,A,Fn(a)):c!=null?Fh(s,A,Fn(c)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+Fn(T):s.removeAttribute("name")}function Jg(s,a,c,h,g,y,A,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Nh(s);return}c=c!=null?""+Fn(c):"",a=a!=null?""+Fn(a):c,T||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=T?s.checked:!!h,s.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),Nh(s)}function Fh(s,a,c){a==="number"&&Jl(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Da(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Fn(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ty(s,a,c){if(a!=null&&(a=""+Fn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Fn(c):""}function ey(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(yt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Fn(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),Nh(s)}function ka(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var T2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ny(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||T2.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function iy(s,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&ny(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&ny(s,y,a[y])}function Ih(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tc(s){return _2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Mi(){}var jh=null;function zh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var La=null,Pa=null;function sy(s){var a=_a(s);if(a&&(s=a.stateNode)){var c=s[on]||null;t:switch(s=a.stateNode,a.type){case"input":if(Bh(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+In(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=h[on]||null;if(!g)throw Error(n(90));Bh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Qg(h)}break t;case"textarea":ty(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Da(s,!!c.multiple,a,!1)}}}var Uh=!1;function ay(s,a,c){if(Uh)return s(a,c);Uh=!0;try{var h=s(a);return h}finally{if(Uh=!1,(La!==null||Pa!==null)&&(Uc(),La&&(a=La,s=Pa,Pa=La=null,sy(a),s)))for(a=0;a<s.length;a++)sy(s[a])}}function no(s,a){var c=s.stateNode;if(c===null)return null;var h=c[on]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=!1;if(Ri)try{var io={};Object.defineProperty(io,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Hh=!1}var ns=null,Vh=null,ec=null;function ry(){if(ec)return ec;var s,a=Vh,c=a.length,h,g="value"in ns?ns.value:ns.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&a[c-h]===g[y-h];h++);return ec=g.slice(s,1<h?1-h:void 0)}function nc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ic(){return!0}function oy(){return!1}function ln(s){function a(c,h,g,y,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(c=s[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ic:oy,this.isPropagationStopped=oy,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),a}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=ln(zs),so=m({},zs,{view:0,detail:0}),M2=ln(so),Gh,$h,ao,ac=m({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ao&&(ao&&s.type==="mousemove"?(Gh=s.screenX-ao.screenX,$h=s.screenY-ao.screenY):$h=Gh=0,ao=s),Gh)},movementY:function(s){return"movementY"in s?s.movementY:$h}}),ly=ln(ac),R2=m({},ac,{dataTransfer:0}),D2=ln(R2),k2=m({},so,{relatedTarget:0}),qh=ln(k2),L2=m({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=ln(L2),O2=m({},zs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),N2=ln(O2),B2=m({},zs,{data:0}),cy=ln(B2),F2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=j2[s])?!!a[s]:!1}function Xh(){return z2}var U2=m({},so,{key:function(s){if(s.key){var a=F2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=nc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?I2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(s){return s.type==="keypress"?nc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),H2=ln(U2),V2=m({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=ln(V2),G2=m({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),$2=ln(G2),q2=m({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),X2=ln(q2),Y2=m({},ac,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=ln(Y2),K2=m({},zs,{newState:0,oldState:0}),Z2=ln(K2),Q2=[9,13,27,32],Yh=Ri&&"CompositionEvent"in window,ro=null;Ri&&"documentMode"in document&&(ro=document.documentMode);var J2=Ri&&"TextEvent"in window&&!ro,hy=Ri&&(!Yh||ro&&8<ro&&11>=ro),dy=" ",fy=!1;function py(s,a){switch(s){case"keyup":return Q2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oa=!1;function tT(s,a){switch(s){case"compositionend":return my(a);case"keypress":return a.which!==32?null:(fy=!0,dy);case"textInput":return s=a.data,s===dy&&fy?null:s;default:return null}}function eT(s,a){if(Oa)return s==="compositionend"||!Yh&&py(s,a)?(s=ry(),ec=Vh=ns=null,Oa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hy&&a.locale!=="ko"?null:a.data;default:return null}}var nT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nT[s.type]:a==="textarea"}function yy(s,a,c,h){La?Pa?Pa.push(h):Pa=[h]:La=h,a=Yc(a,"onChange"),0<a.length&&(c=new sc("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var oo=null,lo=null;function iT(s){J0(s,0)}function rc(s){var a=eo(s);if(Qg(a))return s}function by(s,a){if(s==="change")return a}var vy=!1;if(Ri){var Wh;if(Ri){var Kh="oninput"in document;if(!Kh){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Kh=typeof wy.oninput=="function"}Wh=Kh}else Wh=!1;vy=Wh&&(!document.documentMode||9<document.documentMode)}function Ay(){oo&&(oo.detachEvent("onpropertychange",Sy),lo=oo=null)}function Sy(s){if(s.propertyName==="value"&&rc(lo)){var a=[];yy(a,lo,s,zh(s)),ay(iT,a)}}function sT(s,a,c){s==="focusin"?(Ay(),oo=a,lo=c,oo.attachEvent("onpropertychange",Sy)):s==="focusout"&&Ay()}function aT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rc(lo)}function rT(s,a){if(s==="click")return rc(a)}function oT(s,a){if(s==="input"||s==="change")return rc(a)}function lT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Sn=typeof Object.is=="function"?Object.is:lT;function co(s,a){if(Sn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Yr.call(a,g)||!Sn(s[g],a[g]))return!1}return!0}function xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ey(s,a){var c=xy(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=xy(c)}}function Ty(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ty(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Cy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Jl(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Jl(s.document)}return a}function Zh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var cT=Ri&&"documentMode"in document&&11>=document.documentMode,Na=null,Qh=null,uo=null,Jh=!1;function _y(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Jh||Na==null||Na!==Jl(h)||(h=Na,"selectionStart"in h&&Zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),uo&&co(uo,h)||(uo=h,h=Yc(Qh,"onSelect"),0<h.length&&(a=new sc("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Na)))}function Us(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ba={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},td={},My={};Ri&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Hs(s){if(td[s])return td[s];if(!Ba[s])return s;var a=Ba[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in My)return td[s]=a[c];return s}var Ry=Hs("animationend"),Dy=Hs("animationiteration"),ky=Hs("animationstart"),uT=Hs("transitionrun"),hT=Hs("transitionstart"),dT=Hs("transitioncancel"),Ly=Hs("transitionend"),Py=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function ei(s,a){Py.set(s,a),js(a,[s])}var oc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},jn=[],Fa=0,nd=0;function lc(){for(var s=Fa,a=nd=Fa=0;a<s;){var c=jn[a];jn[a++]=null;var h=jn[a];jn[a++]=null;var g=jn[a];jn[a++]=null;var y=jn[a];if(jn[a++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}y!==0&&Oy(c,g,y)}}function cc(s,a,c,h){jn[Fa++]=s,jn[Fa++]=a,jn[Fa++]=c,jn[Fa++]=h,nd|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function id(s,a,c,h){return cc(s,a,c,h),uc(s)}function Vs(s,a){return cc(s,null,null,a),uc(s)}function Oy(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-An(c),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function uc(s){if(50<Po)throw Po=0,ff=null,Error(n(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ia={};function fT(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,a,c,h){return new fT(s,a,c,h)}function sd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Di(s,a){var c=s.alternate;return c===null?(c=xn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Ny(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function hc(s,a,c,h,g,y){var A=0;if(h=s,typeof s=="function")sd(s)&&(A=1);else if(typeof s=="string")A=bC(s,c,et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case V:return s=xn(31,c,a,g),s.elementType=V,s.lanes=y,s;case w:return Gs(c.children,g,y,a);case E:A=8,g|=24;break;case x:return s=xn(12,c,a,g|2),s.elementType=x,s.lanes=y,s;case D:return s=xn(13,c,a,g),s.elementType=D,s.lanes=y,s;case N:return s=xn(19,c,a,g),s.elementType=N,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:A=10;break t;case C:A=9;break t;case k:A=11;break t;case P:A=14;break t;case I:A=16,h=null;break t}A=29,c=Error(n(130,s===null?"null":typeof s,"")),h=null}return a=xn(A,c,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Gs(s,a,c,h){return s=xn(7,s,h,a),s.lanes=c,s}function ad(s,a,c){return s=xn(6,s,null,a),s.lanes=c,s}function By(s){var a=xn(18,null,null,0);return a.stateNode=s,a}function rd(s,a,c){return a=xn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Fy=new WeakMap;function zn(s,a){if(typeof s=="object"&&s!==null){var c=Fy.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Gl(a)},Fy.set(s,a),a)}return{value:s,source:a,stack:Gl(a)}}var ja=[],za=0,dc=null,ho=0,Un=[],Hn=0,is=null,ci=1,ui="";function ki(s,a){ja[za++]=ho,ja[za++]=dc,dc=s,ho=a}function Iy(s,a,c){Un[Hn++]=ci,Un[Hn++]=ui,Un[Hn++]=is,is=s;var h=ci;s=ui;var g=32-An(h)-1;h&=~(1<<g),c+=1;var y=32-An(a)+g;if(30<y){var A=g-g%5;y=(h&(1<<A)-1).toString(32),h>>=A,g-=A,ci=1<<32-An(a)+g|c<<g|h,ui=y+s}else ci=1<<y|c<<g|h,ui=s}function od(s){s.return!==null&&(ki(s,1),Iy(s,1,0))}function ld(s){for(;s===dc;)dc=ja[--za],ja[za]=null,ho=ja[--za],ja[za]=null;for(;s===is;)is=Un[--Hn],Un[Hn]=null,ui=Un[--Hn],Un[Hn]=null,ci=Un[--Hn],Un[Hn]=null}function jy(s,a){Un[Hn++]=ci,Un[Hn++]=ui,Un[Hn++]=is,ci=a.id,ui=a.overflow,is=s}var je=null,ne=null,Lt=!1,ss=null,Vn=!1,cd=Error(n(519));function as(s){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(zn(a,s)),cd}function zy(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ie]=s,a[on]=h,c){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(c=0;c<No.length;c++)Mt(No[c],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),Jg(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),ey(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||iv(a.textContent,c)?(h.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),h.onScroll!=null&&Mt("scroll",a),h.onScrollEnd!=null&&Mt("scrollend",a),h.onClick!=null&&(a.onclick=Mi),a=!0):a=!1,a||as(s,!0)}function Uy(s){for(je=s.return;je;)switch(je.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:je=je.return}}function Ua(s){if(s!==je)return!1;if(!Lt)return Uy(s),Lt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Mf(s.type,s.memoizedProps)),c=!c),c&&ne&&as(s),Uy(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));ne=dv(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));ne=dv(s)}else a===27?(a=ne,vs(s.type)?(s=Pf,Pf=null,ne=s):ne=a):ne=je?$n(s.stateNode.nextSibling):null;return!0}function $s(){ne=je=null,Lt=!1}function ud(){var s=ss;return s!==null&&(dn===null?dn=s:dn.push.apply(dn,s),ss=null),s}function fo(s){ss===null?ss=[s]:ss.push(s)}var hd=O(null),qs=null,Li=null;function rs(s,a,c){tt(hd,a._currentValue),a._currentValue=c}function Pi(s){s._currentValue=hd.current,q(hd)}function dd(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function fd(s,a,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;t:for(;y!==null;){var T=y;y=g;for(var L=0;L<a.length;L++)if(T.context===a[L]){y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),dd(y.return,c,s),h||(A=null);break t}y=T.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(n(341));A.lanes|=c,y=A.alternate,y!==null&&(y.lanes|=c),dd(A,c,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Ha(s,a,c,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var T=g.type;Sn(g.pendingProps.value,A.value)||(s!==null?s.push(T):s=[T])}}else if(g===ht.current){if(A=g.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(zo):s=[zo])}g=g.return}s!==null&&fd(a,s,c,h),a.flags|=262144}function fc(s){for(s=s.firstContext;s!==null;){if(!Sn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xs(s){qs=s,Li=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ze(s){return Hy(qs,s)}function pc(s,a){return qs===null&&Xs(s),Hy(s,a)}function Hy(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Li===null){if(s===null)throw Error(n(308));Li=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Li=Li.next=a;return c}var pT=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},mT=i.unstable_scheduleCallback,gT=i.unstable_NormalPriority,xe={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new pT,data:new Map,refCount:0}}function po(s){s.refCount--,s.refCount===0&&mT(gT,function(){s.controller.abort()})}var mo=null,md=0,Va=0,Ga=null;function yT(s,a){if(mo===null){var c=mo=[];md=0,Va=vf(),Ga={status:"pending",value:void 0,then:function(h){c.push(h)}}}return md++,a.then(Vy,Vy),a}function Vy(){if(--md===0&&mo!==null){Ga!==null&&(Ga.status="fulfilled");var s=mo;mo=null,Va=0,Ga=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function bT(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Gy=F.S;F.S=function(s,a){_0=Qe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&yT(s,a),Gy!==null&&Gy(s,a)};var Ys=O(null);function gd(){var s=Ys.current;return s!==null?s:Kt.pooledCache}function mc(s,a){a===null?tt(Ys,Ys.current):tt(Ys,a.pool)}function $y(){var s=gd();return s===null?null:{parent:xe._currentValue,pool:s}}var $a=Error(n(460)),yd=Error(n(474)),gc=Error(n(542)),yc={then:function(){}};function qy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xy(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Mi,Mi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Wy(s),s;default:if(typeof a.status=="string")a.then(Mi,Mi);else{if(s=Kt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Wy(s),s}throw Ks=a,$a}}function Ws(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ks=c,$a):c}}var Ks=null;function Yy(){if(Ks===null)throw Error(n(459));var s=Ks;return Ks=null,s}function Wy(s){if(s===$a||s===gc)throw Error(n(483))}var qa=null,go=0;function bc(s){var a=go;return go+=1,qa===null&&(qa=[]),Xy(qa,s,a)}function yo(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function vc(s,a){throw a.$$typeof===b?Error(n(525)):(s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Ky(s){function a(j,B){if(s){var z=j.deletions;z===null?(j.deletions=[B],j.flags|=16):z.push(B)}}function c(j,B){if(!s)return null;for(;B!==null;)a(j,B),B=B.sibling;return null}function h(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function g(j,B){return j=Di(j,B),j.index=0,j.sibling=null,j}function y(j,B,z){return j.index=z,s?(z=j.alternate,z!==null?(z=z.index,z<B?(j.flags|=67108866,B):z):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function A(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function T(j,B,z,K){return B===null||B.tag!==6?(B=ad(z,j.mode,K),B.return=j,B):(B=g(B,z),B.return=j,B)}function L(j,B,z,K){var mt=z.type;return mt===w?Y(j,B,z.props.children,K,z.key):B!==null&&(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===I&&Ws(mt)===B.type)?(B=g(B,z.props),yo(B,z),B.return=j,B):(B=hc(z.type,z.key,z.props,null,j.mode,K),yo(B,z),B.return=j,B)}function H(j,B,z,K){return B===null||B.tag!==4||B.stateNode.containerInfo!==z.containerInfo||B.stateNode.implementation!==z.implementation?(B=rd(z,j.mode,K),B.return=j,B):(B=g(B,z.children||[]),B.return=j,B)}function Y(j,B,z,K,mt){return B===null||B.tag!==7?(B=Gs(z,j.mode,K,mt),B.return=j,B):(B=g(B,z),B.return=j,B)}function Z(j,B,z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ad(""+B,j.mode,z),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return z=hc(B.type,B.key,B.props,null,j.mode,z),yo(z,B),z.return=j,z;case S:return B=rd(B,j.mode,z),B.return=j,B;case I:return B=Ws(B),Z(j,B,z)}if(yt(B)||nt(B))return B=Gs(B,j.mode,z,null),B.return=j,B;if(typeof B.then=="function")return Z(j,bc(B),z);if(B.$$typeof===_)return Z(j,pc(j,B),z);vc(j,B)}return null}function G(j,B,z,K){var mt=B!==null?B.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:T(j,B,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===mt?L(j,B,z,K):null;case S:return z.key===mt?H(j,B,z,K):null;case I:return z=Ws(z),G(j,B,z,K)}if(yt(z)||nt(z))return mt!==null?null:Y(j,B,z,K,null);if(typeof z.then=="function")return G(j,B,bc(z),K);if(z.$$typeof===_)return G(j,B,pc(j,z),K);vc(j,z)}return null}function $(j,B,z,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(z)||null,T(B,j,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return j=j.get(K.key===null?z:K.key)||null,L(B,j,K,mt);case S:return j=j.get(K.key===null?z:K.key)||null,H(B,j,K,mt);case I:return K=Ws(K),$(j,B,z,K,mt)}if(yt(K)||nt(K))return j=j.get(z)||null,Y(B,j,K,mt,null);if(typeof K.then=="function")return $(j,B,z,bc(K),mt);if(K.$$typeof===_)return $(j,B,z,pc(B,K),mt);vc(B,K)}return null}function rt(j,B,z,K){for(var mt=null,Bt=null,ct=B,Tt=B=0,Dt=null;ct!==null&&Tt<z.length;Tt++){ct.index>Tt?(Dt=ct,ct=null):Dt=ct.sibling;var Ft=G(j,ct,z[Tt],K);if(Ft===null){ct===null&&(ct=Dt);break}s&&ct&&Ft.alternate===null&&a(j,ct),B=y(Ft,B,Tt),Bt===null?mt=Ft:Bt.sibling=Ft,Bt=Ft,ct=Dt}if(Tt===z.length)return c(j,ct),Lt&&ki(j,Tt),mt;if(ct===null){for(;Tt<z.length;Tt++)ct=Z(j,z[Tt],K),ct!==null&&(B=y(ct,B,Tt),Bt===null?mt=ct:Bt.sibling=ct,Bt=ct);return Lt&&ki(j,Tt),mt}for(ct=h(ct);Tt<z.length;Tt++)Dt=$(ct,j,Tt,z[Tt],K),Dt!==null&&(s&&Dt.alternate!==null&&ct.delete(Dt.key===null?Tt:Dt.key),B=y(Dt,B,Tt),Bt===null?mt=Dt:Bt.sibling=Dt,Bt=Dt);return s&&ct.forEach(function(Es){return a(j,Es)}),Lt&&ki(j,Tt),mt}function vt(j,B,z,K){if(z==null)throw Error(n(151));for(var mt=null,Bt=null,ct=B,Tt=B=0,Dt=null,Ft=z.next();ct!==null&&!Ft.done;Tt++,Ft=z.next()){ct.index>Tt?(Dt=ct,ct=null):Dt=ct.sibling;var Es=G(j,ct,Ft.value,K);if(Es===null){ct===null&&(ct=Dt);break}s&&ct&&Es.alternate===null&&a(j,ct),B=y(Es,B,Tt),Bt===null?mt=Es:Bt.sibling=Es,Bt=Es,ct=Dt}if(Ft.done)return c(j,ct),Lt&&ki(j,Tt),mt;if(ct===null){for(;!Ft.done;Tt++,Ft=z.next())Ft=Z(j,Ft.value,K),Ft!==null&&(B=y(Ft,B,Tt),Bt===null?mt=Ft:Bt.sibling=Ft,Bt=Ft);return Lt&&ki(j,Tt),mt}for(ct=h(ct);!Ft.done;Tt++,Ft=z.next())Ft=$(ct,j,Tt,Ft.value,K),Ft!==null&&(s&&Ft.alternate!==null&&ct.delete(Ft.key===null?Tt:Ft.key),B=y(Ft,B,Tt),Bt===null?mt=Ft:Bt.sibling=Ft,Bt=Ft);return s&&ct.forEach(function(RC){return a(j,RC)}),Lt&&ki(j,Tt),mt}function qt(j,B,z,K){if(typeof z=="object"&&z!==null&&z.type===w&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var mt=z.key;B!==null;){if(B.key===mt){if(mt=z.type,mt===w){if(B.tag===7){c(j,B.sibling),K=g(B,z.props.children),K.return=j,j=K;break t}}else if(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===I&&Ws(mt)===B.type){c(j,B.sibling),K=g(B,z.props),yo(K,z),K.return=j,j=K;break t}c(j,B);break}else a(j,B);B=B.sibling}z.type===w?(K=Gs(z.props.children,j.mode,K,z.key),K.return=j,j=K):(K=hc(z.type,z.key,z.props,null,j.mode,K),yo(K,z),K.return=j,j=K)}return A(j);case S:t:{for(mt=z.key;B!==null;){if(B.key===mt)if(B.tag===4&&B.stateNode.containerInfo===z.containerInfo&&B.stateNode.implementation===z.implementation){c(j,B.sibling),K=g(B,z.children||[]),K.return=j,j=K;break t}else{c(j,B);break}else a(j,B);B=B.sibling}K=rd(z,j.mode,K),K.return=j,j=K}return A(j);case I:return z=Ws(z),qt(j,B,z,K)}if(yt(z))return rt(j,B,z,K);if(nt(z)){if(mt=nt(z),typeof mt!="function")throw Error(n(150));return z=mt.call(z),vt(j,B,z,K)}if(typeof z.then=="function")return qt(j,B,bc(z),K);if(z.$$typeof===_)return qt(j,B,pc(j,z),K);vc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,B!==null&&B.tag===6?(c(j,B.sibling),K=g(B,z),K.return=j,j=K):(c(j,B),K=ad(z,j.mode,K),K.return=j,j=K),A(j)):c(j,B)}return function(j,B,z,K){try{go=0;var mt=qt(j,B,z,K);return qa=null,mt}catch(ct){if(ct===$a||ct===gc)throw ct;var Bt=xn(29,ct,null,j.mode);return Bt.lanes=K,Bt.return=j,Bt}}}var Zs=Ky(!0),Zy=Ky(!1),os=!1;function bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ls(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cs(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(It&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=uc(s),Oy(s,null,c),a}return cc(s,h,a,c),uc(s)}function bo(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Hg(s,c)}}function wd(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Ad=!1;function vo(){if(Ad){var s=Ga;if(s!==null)throw s}}function wo(s,a,c,h){Ad=!1;var g=s.updateQueue;os=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var L=T,H=L.next;L.next=null,A===null?y=H:A.next=H,A=L;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==A&&(T===null?Y.firstBaseUpdate=H:T.next=H,Y.lastBaseUpdate=L))}if(y!==null){var Z=g.baseState;A=0,Y=H=L=null,T=y;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Rt&G)===G:(h&G)===G){G!==0&&G===Va&&(Ad=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=s,vt=T;G=a;var qt=c;switch(vt.tag){case 1:if(rt=vt.payload,typeof rt=="function"){Z=rt.call(qt,Z,G);break t}Z=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=vt.payload,G=typeof rt=="function"?rt.call(qt,Z,G):rt,G==null)break t;Z=m({},Z,G);break t;case 2:os=!0}}G=T.callback,G!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(H=Y=$,L=Z):Y=Y.next=$,A|=G;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;$=T,T=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);Y===null&&(L=Z),g.baseState=L,g.firstBaseUpdate=H,g.lastBaseUpdate=Y,y===null&&(g.shared.lanes=0),ps|=A,s.lanes=A,s.memoizedState=Z}}function Qy(s,a){if(typeof s!="function")throw Error(n(191,s));s.call(a)}function Jy(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Qy(c[s],a)}var Xa=O(null),wc=O(0);function tb(s,a){s=Hi,tt(wc,s),tt(Xa,a),Hi=s|a.baseLanes}function Sd(){tt(wc,Hi),tt(Xa,Xa.current)}function xd(){Hi=wc.current,q(Xa),q(wc)}var En=O(null),Gn=null;function us(s){var a=s.alternate;tt(me,me.current&1),tt(En,s),Gn===null&&(a===null||Xa.current!==null||a.memoizedState!==null)&&(Gn=s)}function Ed(s){tt(me,me.current),tt(En,s),Gn===null&&(Gn=s)}function eb(s){s.tag===22?(tt(me,me.current),tt(En,s),Gn===null&&(Gn=s)):hs()}function hs(){tt(me,me.current),tt(En,En.current)}function Tn(s){q(En),Gn===s&&(Gn=null),q(me)}var me=O(0);function Ac(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||kf(c)||Lf(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Oi=0,Et=null,Gt=null,Ee=null,Sc=!1,Ya=!1,Qs=!1,xc=0,Ao=0,Wa=null,vT=0;function de(){throw Error(n(321))}function Td(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Sn(s[c],a[c]))return!1;return!0}function Cd(s,a,c,h,g,y){return Oi=y,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=s===null||s.memoizedState===null?Ib:Ud,Qs=!1,y=c(h,g),Qs=!1,Ya&&(y=ib(a,c,h,g)),nb(s),y}function nb(s){F.H=Eo;var a=Gt!==null&&Gt.next!==null;if(Oi=0,Ee=Gt=Et=null,Sc=!1,Ao=0,Wa=null,a)throw Error(n(300));s===null||Te||(s=s.dependencies,s!==null&&fc(s)&&(Te=!0))}function ib(s,a,c,h){Et=s;var g=0;do{if(Ya&&(Wa=null),Ao=0,Ya=!1,25<=g)throw Error(n(301));if(g+=1,Ee=Gt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=jb,y=a(c,h)}while(Ya);return y}function wT(){var s=F.H,a=s.useState()[0];return a=typeof a.then=="function"?So(a):a,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(Et.flags|=1024),a}function _d(){var s=xc!==0;return xc=0,s}function Md(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Rd(s){if(Sc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Sc=!1}Oi=0,Ee=Gt=Et=null,Ya=!1,Ao=xc=0,Wa=null}function Je(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Et.memoizedState=Ee=s:Ee=Ee.next=s,Ee}function ge(){if(Gt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var a=Ee===null?Et.memoizedState:Ee.next;if(a!==null)Ee=a,Gt=s;else{if(s===null)throw Et.alternate===null?Error(n(467)):Error(n(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Ee===null?Et.memoizedState=Ee=s:Ee=Ee.next=s}return Ee}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(s){var a=Ao;return Ao+=1,Wa===null&&(Wa=[]),s=Xy(Wa,s,a),a=Et,(Ee===null?a.memoizedState:Ee.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?Ib:Ud),s}function Tc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return So(s);if(s.$$typeof===_)return ze(s)}throw Error(n(438,String(s)))}function Dd(s){var a=null,c=Et.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Ec(),Et.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=W;return a.index++,c}function Ni(s,a){return typeof a=="function"?a(s):a}function Cc(s){var a=ge();return kd(a,Gt,s)}function kd(s,a,c){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var T=A=null,L=null,H=a,Y=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Rt&Z)===Z:(Oi&Z)===Z){var G=H.revertLane;if(G===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Va&&(Y=!0);else if((Oi&G)===G){H=H.next,G===Va&&(Y=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(T=L=Z,A=y):L=L.next=Z,Et.lanes|=G,ps|=G;Z=H.action,Qs&&c(y,Z),y=H.hasEagerState?H.eagerState:c(y,Z)}else G={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(T=L=G,A=y):L=L.next=G,Et.lanes|=Z,ps|=Z;H=H.next}while(H!==null&&H!==a);if(L===null?A=y:L.next=T,!Sn(y,s.memoizedState)&&(Te=!0,Y&&(c=Ga,c!==null)))throw c;s.memoizedState=y,s.baseState=A,s.baseQueue=L,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Ld(s){var a=ge(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do y=s(y,A.action),A=A.next;while(A!==g);Sn(y,a.memoizedState)||(Te=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function sb(s,a,c){var h=Et,g=ge(),y=Lt;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=a();var A=!Sn((Gt||g).memoizedState,c);if(A&&(g.memoizedState=c,Te=!0),g=g.queue,Nd(ob.bind(null,h,g,s),[s]),g.getSnapshot!==a||A||Ee!==null&&Ee.memoizedState.tag&1){if(h.flags|=2048,Ka(9,{destroy:void 0},rb.bind(null,h,g,c,a),null),Kt===null)throw Error(n(349));y||(Oi&127)!==0||ab(h,a,c)}return c}function ab(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Et.updateQueue,a===null?(a=Ec(),Et.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function rb(s,a,c,h){a.value=c,a.getSnapshot=h,lb(a)&&cb(s)}function ob(s,a,c){return c(function(){lb(a)&&cb(s)})}function lb(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Sn(s,c)}catch{return!0}}function cb(s){var a=Vs(s,2);a!==null&&fn(a,s,2)}function Pd(s){var a=Je();if(typeof s=="function"){var c=s;if(s=c(),Qs){ts(!0);try{c()}finally{ts(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},a}function ub(s,a,c,h){return s.baseState=c,kd(s,Gt,typeof h=="function"?h:Ni)}function AT(s,a,c,h,g){if(Rc(s))throw Error(n(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};F.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,hb(a,y)):(y.next=c.next,a.pending=c.next=y)}}function hb(s,a){var c=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=F.T,A={};F.T=A;try{var T=c(g,h),L=F.S;L!==null&&L(A,T),db(s,a,T)}catch(H){Od(s,a,H)}finally{y!==null&&A.types!==null&&(y.types=A.types),F.T=y}}else try{y=c(g,h),db(s,a,y)}catch(H){Od(s,a,H)}}function db(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){fb(s,a,h)},function(h){return Od(s,a,h)}):fb(s,a,c)}function fb(s,a,c){a.status="fulfilled",a.value=c,pb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,hb(s,c)))}function Od(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,pb(a),a=a.next;while(a!==h)}s.action=null}function pb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function mb(s,a){return a}function gb(s,a){if(Lt){var c=Kt.formState;if(c!==null){t:{var h=Et;if(Lt){if(ne){e:{for(var g=ne,y=Vn;g.nodeType!==8;){if(!y){g=null;break e}if(g=$n(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ne=$n(g.nextSibling),h=g.data==="F!";break t}}as(h)}h=!1}h&&(a=c[0])}}return c=Je(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:a},c.queue=h,c=Nb.bind(null,Et,h),h.dispatch=c,h=Pd(!1),y=zd.bind(null,Et,!1,h.queue),h=Je(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,c=AT.bind(null,Et,g,y,c),g.dispatch=c,h.memoizedState=s,[a,c,!1]}function yb(s){var a=ge();return bb(a,Gt,s)}function bb(s,a,c){if(a=kd(s,a,mb)[0],s=Cc(Ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=So(a)}catch(A){throw A===$a?gc:A}else h=a;a=ge();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(Et.flags|=2048,Ka(9,{destroy:void 0},ST.bind(null,g,c),null)),[h,y,s]}function ST(s,a){s.action=a}function vb(s){var a=ge(),c=Gt;if(c!==null)return bb(a,c,s);ge(),a=a.memoizedState,c=ge();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Ka(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Et.updateQueue,a===null&&(a=Ec(),Et.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function wb(){return ge().memoizedState}function _c(s,a,c,h){var g=Je();Et.flags|=s,g.memoizedState=Ka(1|a,{destroy:void 0},c,h===void 0?null:h)}function Mc(s,a,c,h){var g=ge();h=h===void 0?null:h;var y=g.memoizedState.inst;Gt!==null&&h!==null&&Td(h,Gt.memoizedState.deps)?g.memoizedState=Ka(a,y,c,h):(Et.flags|=s,g.memoizedState=Ka(1|a,y,c,h))}function Ab(s,a){_c(8390656,8,s,a)}function Nd(s,a){Mc(2048,8,s,a)}function xT(s){Et.flags|=4;var a=Et.updateQueue;if(a===null)a=Ec(),Et.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Sb(s){var a=ge().memoizedState;return xT({ref:a,nextImpl:s}),function(){if((It&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function xb(s,a){return Mc(4,2,s,a)}function Eb(s,a){return Mc(4,4,s,a)}function Tb(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Cb(s,a,c){c=c!=null?c.concat([s]):null,Mc(4,4,Tb.bind(null,a,s),c)}function Bd(){}function _b(s,a){var c=ge();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Td(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Mb(s,a){var c=ge();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Td(a,h[1]))return h[0];if(h=s(),Qs){ts(!0);try{s()}finally{ts(!1)}}return c.memoizedState=[h,a],h}function Fd(s,a,c){return c===void 0||(Oi&1073741824)!==0&&(Rt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=R0(),Et.lanes|=s,ps|=s,c)}function Rb(s,a,c,h){return Sn(c,a)?c:Xa.current!==null?(s=Fd(s,c,h),Sn(s,a)||(Te=!0),s):(Oi&42)===0||(Oi&1073741824)!==0&&(Rt&261930)===0?(Te=!0,s.memoizedState=c):(s=R0(),Et.lanes|=s,ps|=s,a)}function Db(s,a,c,h,g){var y=U.p;U.p=y!==0&&8>y?y:8;var A=F.T,T={};F.T=T,zd(s,!1,a,c);try{var L=g(),H=F.S;if(H!==null&&H(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=bT(L,h);xo(s,a,Y,Mn(s))}else xo(s,a,h,Mn(s))}catch(Z){xo(s,a,{then:function(){},status:"rejected",reason:Z},Mn())}finally{U.p=y,A!==null&&T.types!==null&&(A.types=T.types),F.T=A}}function ET(){}function Id(s,a,c,h){if(s.tag!==5)throw Error(n(476));var g=kb(s).queue;Db(s,g,a,Q,c===null?ET:function(){return Lb(s),c(h)})}function kb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Q},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Lb(s){var a=kb(s);a.next===null&&(a=s.alternate.memoizedState),xo(s,a.next.queue,{},Mn())}function jd(){return ze(zo)}function Pb(){return ge().memoizedState}function Ob(){return ge().memoizedState}function TT(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Mn();s=ls(c);var h=cs(a,s,c);h!==null&&(fn(h,a,c),bo(h,a,c)),a={cache:pd()},s.payload=a;return}a=a.return}}function CT(s,a,c){var h=Mn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rc(s)?Bb(a,c):(c=id(s,a,c,h),c!==null&&(fn(c,s,h),Fb(c,a,h)))}function Nb(s,a,c){var h=Mn();xo(s,a,c,h)}function xo(s,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rc(s))Bb(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,T=y(A,c);if(g.hasEagerState=!0,g.eagerState=T,Sn(T,A))return cc(s,a,g,0),Kt===null&&lc(),!1}catch{}if(c=id(s,a,g,h),c!==null)return fn(c,s,h),Fb(c,a,h),!0}return!1}function zd(s,a,c,h){if(h={lane:2,revertLane:vf(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Rc(s)){if(a)throw Error(n(479))}else a=id(s,c,h,2),a!==null&&fn(a,s,2)}function Rc(s){var a=s.alternate;return s===Et||a!==null&&a===Et}function Bb(s,a){Ya=Sc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Fb(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Hg(s,c)}}var Eo={readContext:ze,use:Tc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Eo.useEffectEvent=de;var Ib={readContext:ze,use:Tc,useCallback:function(s,a){return Je().memoizedState=[s,a===void 0?null:a],s},useContext:ze,useEffect:Ab,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,_c(4194308,4,Tb.bind(null,a,s),c)},useLayoutEffect:function(s,a){return _c(4194308,4,s,a)},useInsertionEffect:function(s,a){_c(4,2,s,a)},useMemo:function(s,a){var c=Je();a=a===void 0?null:a;var h=s();if(Qs){ts(!0);try{s()}finally{ts(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Je();if(c!==void 0){var g=c(a);if(Qs){ts(!0);try{c(a)}finally{ts(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=CT.bind(null,Et,s),[h.memoizedState,s]},useRef:function(s){var a=Je();return s={current:s},a.memoizedState=s},useState:function(s){s=Pd(s);var a=s.queue,c=Nb.bind(null,Et,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Bd,useDeferredValue:function(s,a){var c=Je();return Fd(c,s,a)},useTransition:function(){var s=Pd(!1);return s=Db.bind(null,Et,s.queue,!0,!1),Je().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Et,g=Je();if(Lt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Kt===null)throw Error(n(349));(Rt&127)!==0||ab(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,Ab(ob.bind(null,h,y,s),[s]),h.flags|=2048,Ka(9,{destroy:void 0},rb.bind(null,h,y,c,a),null),c},useId:function(){var s=Je(),a=Kt.identifierPrefix;if(Lt){var c=ui,h=ci;c=(h&~(1<<32-An(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=xc++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=vT++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:jd,useFormState:gb,useActionState:gb,useOptimistic:function(s){var a=Je();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=zd.bind(null,Et,!0,c),c.dispatch=a,[s,a]},useMemoCache:Dd,useCacheRefresh:function(){return Je().memoizedState=TT.bind(null,Et)},useEffectEvent:function(s){var a=Je(),c={impl:s};return a.memoizedState=c,function(){if((It&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Ud={readContext:ze,use:Tc,useCallback:_b,useContext:ze,useEffect:Nd,useImperativeHandle:Cb,useInsertionEffect:xb,useLayoutEffect:Eb,useMemo:Mb,useReducer:Cc,useRef:wb,useState:function(){return Cc(Ni)},useDebugValue:Bd,useDeferredValue:function(s,a){var c=ge();return Rb(c,Gt.memoizedState,s,a)},useTransition:function(){var s=Cc(Ni)[0],a=ge().memoizedState;return[typeof s=="boolean"?s:So(s),a]},useSyncExternalStore:sb,useId:Pb,useHostTransitionStatus:jd,useFormState:yb,useActionState:yb,useOptimistic:function(s,a){var c=ge();return ub(c,Gt,s,a)},useMemoCache:Dd,useCacheRefresh:Ob};Ud.useEffectEvent=Sb;var jb={readContext:ze,use:Tc,useCallback:_b,useContext:ze,useEffect:Nd,useImperativeHandle:Cb,useInsertionEffect:xb,useLayoutEffect:Eb,useMemo:Mb,useReducer:Ld,useRef:wb,useState:function(){return Ld(Ni)},useDebugValue:Bd,useDeferredValue:function(s,a){var c=ge();return Gt===null?Fd(c,s,a):Rb(c,Gt.memoizedState,s,a)},useTransition:function(){var s=Ld(Ni)[0],a=ge().memoizedState;return[typeof s=="boolean"?s:So(s),a]},useSyncExternalStore:sb,useId:Pb,useHostTransitionStatus:jd,useFormState:vb,useActionState:vb,useOptimistic:function(s,a){var c=ge();return Gt!==null?ub(c,Gt,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:Ob};jb.useEffectEvent=Sb;function Hd(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:m({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Vd={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Mn(),g=ls(h);g.payload=a,c!=null&&(g.callback=c),a=cs(s,g,h),a!==null&&(fn(a,s,h),bo(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Mn(),g=ls(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=cs(s,g,h),a!==null&&(fn(a,s,h),bo(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Mn(),h=ls(c);h.tag=2,a!=null&&(h.callback=a),a=cs(s,h,c),a!==null&&(fn(a,s,c),bo(a,s,c))}};function zb(s,a,c,h,g,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,A):a.prototype&&a.prototype.isPureReactComponent?!co(c,h)||!co(g,y):!0}function Ub(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Vd.enqueueReplaceState(a,a.state,null)}function Js(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=m({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function Hb(s){oc(s)}function Vb(s){console.error(s)}function Gb(s){oc(s)}function Dc(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function $b(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gd(s,a,c){return c=ls(c),c.tag=3,c.payload={element:null},c.callback=function(){Dc(s,a)},c}function qb(s){return s=ls(s),s.tag=3,s}function Xb(s,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){$b(a,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){$b(a,c,h),typeof g!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var T=h.stack;this.componentDidCatch(h.value,{componentStack:T!==null?T:""})})}function _T(s,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Ha(a,c,g,!0),c=En.current,c!==null){switch(c.tag){case 31:case 13:return Gn===null?Hc():c.alternate===null&&fe===0&&(fe=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===yc?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),gf(s,h,g)),!1;case 22:return c.flags|=65536,h===yc?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),gf(s,h,g)),!1}throw Error(n(435,c.tag))}return gf(s,h,g),Hc(),!1}if(Lt)return a=En.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==cd&&(s=Error(n(422),{cause:h}),fo(zn(s,c)))):(h!==cd&&(a=Error(n(423),{cause:h}),fo(zn(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=zn(h,c),g=Gd(s.stateNode,h,g),wd(s,g),fe!==4&&(fe=2)),!1;var y=Error(n(520),{cause:h});if(y=zn(y,c),Lo===null?Lo=[y]:Lo.push(y),fe!==4&&(fe=2),a===null)return!0;h=zn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Gd(c.stateNode,h,s),wd(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ms===null||!ms.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=qb(g),Xb(g,s,c,h),wd(c,g),!1}c=c.return}while(c!==null);return!1}var $d=Error(n(461)),Te=!1;function Ue(s,a,c,h){a.child=s===null?Zy(a,null,c,h):Zs(a,s.child,c,h)}function Yb(s,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var A={};for(var T in h)T!=="ref"&&(A[T]=h[T])}else A=h;return Xs(a),h=Cd(s,a,c,A,y,g),T=_d(),s!==null&&!Te?(Md(s,a,g),Bi(s,a,g)):(Lt&&T&&od(a),a.flags|=1,Ue(s,a,h,g),a.child)}function Wb(s,a,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!sd(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Kb(s,a,y,h,g)):(s=hc(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Jd(s,g)){var A=y.memoizedProps;if(c=c.compare,c=c!==null?c:co,c(A,h)&&s.ref===a.ref)return Bi(s,a,g)}return a.flags|=1,s=Di(y,h),s.ref=a.ref,s.return=a,a.child=s}function Kb(s,a,c,h,g){if(s!==null){var y=s.memoizedProps;if(co(y,h)&&s.ref===a.ref)if(Te=!1,a.pendingProps=h=y,Jd(s,g))(s.flags&131072)!==0&&(Te=!0);else return a.lanes=s.lanes,Bi(s,a,g)}return qd(s,a,c,h,g)}function Zb(s,a,c,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return Qb(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&mc(a,y!==null?y.cachePool:null),y!==null?tb(a,y):Sd(),eb(a);else return h=a.lanes=536870912,Qb(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(mc(a,y.cachePool),tb(a,y),hs(),a.memoizedState=null):(s!==null&&mc(a,null),Sd(),hs());return Ue(s,a,g,c),a.child}function To(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Qb(s,a,c,h,g){var y=gd();return y=y===null?null:{parent:xe._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&mc(a,null),Sd(),eb(a),s!==null&&Ha(s,a,h,!0),a.childLanes=g,null}function kc(s,a){return a=Pc({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Jb(s,a,c){return Zs(a,s.child,null,c),s=kc(a,a.pendingProps),s.flags|=2,Tn(a),a.memoizedState=null,s}function MT(s,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Lt){if(h.mode==="hidden")return s=kc(a,h),a.lanes=536870912,To(null,s);if(Ed(a),(s=ne)?(s=hv(s,Vn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:is!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},c=By(s),c.return=a,a.child=c,je=a,ne=null)):s=null,s===null)throw as(a);return a.lanes=536870912,null}return kc(a,h)}var y=s.memoizedState;if(y!==null){var A=y.dehydrated;if(Ed(a),g)if(a.flags&256)a.flags&=-257,a=Jb(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(n(558));else if(Te||Ha(s,a,c,!1),g=(c&s.childLanes)!==0,Te||g){if(h=Kt,h!==null&&(A=Vg(h,c),A!==0&&A!==y.retryLane))throw y.retryLane=A,Vs(s,A),fn(h,s,A),$d;Hc(),a=Jb(s,a,c)}else s=y.treeContext,ne=$n(A.nextSibling),je=a,Lt=!0,ss=null,Vn=!1,s!==null&&jy(a,s),a=kc(a,h),a.flags|=4096;return a}return s=Di(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Lc(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function qd(s,a,c,h,g){return Xs(a),c=Cd(s,a,c,h,void 0,g),h=_d(),s!==null&&!Te?(Md(s,a,g),Bi(s,a,g)):(Lt&&h&&od(a),a.flags|=1,Ue(s,a,c,g),a.child)}function t0(s,a,c,h,g,y){return Xs(a),a.updateQueue=null,c=ib(a,h,c,g),nb(s),h=_d(),s!==null&&!Te?(Md(s,a,y),Bi(s,a,y)):(Lt&&h&&od(a),a.flags|=1,Ue(s,a,c,y),a.child)}function e0(s,a,c,h,g){if(Xs(a),a.stateNode===null){var y=Ia,A=c.contextType;typeof A=="object"&&A!==null&&(y=ze(A)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vd,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},bd(a),A=c.contextType,y.context=typeof A=="object"&&A!==null?ze(A):Ia,y.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Hd(a,c,A,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Vd.enqueueReplaceState(y,y.state,null),wo(a,h,y,g),vo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var T=a.memoizedProps,L=Js(c,T);y.props=L;var H=y.context,Y=c.contextType;A=Ia,typeof Y=="object"&&Y!==null&&(A=ze(Y));var Z=c.getDerivedStateFromProps;Y=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||H!==A)&&Ub(a,y,h,A),os=!1;var G=a.memoizedState;y.state=G,wo(a,h,y,g),vo(),H=a.memoizedState,T||G!==H||os?(typeof Z=="function"&&(Hd(a,c,Z,h),H=a.memoizedState),(L=os||zb(a,c,L,h,G,H,A))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=H),y.props=h,y.state=H,y.context=A,h=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,vd(s,a),A=a.memoizedProps,Y=Js(c,A),y.props=Y,Z=a.pendingProps,G=y.context,H=c.contextType,L=Ia,typeof H=="object"&&H!==null&&(L=ze(H)),T=c.getDerivedStateFromProps,(H=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==Z||G!==L)&&Ub(a,y,h,L),os=!1,G=a.memoizedState,y.state=G,wo(a,h,y,g),vo();var $=a.memoizedState;A!==Z||G!==$||os||s!==null&&s.dependencies!==null&&fc(s.dependencies)?(typeof T=="function"&&(Hd(a,c,T,h),$=a.memoizedState),(Y=os||zb(a,c,Y,h,G,$,L)||s!==null&&s.dependencies!==null&&fc(s.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,$,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,$,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=$),y.props=h,y.state=$,y.context=L,h=Y):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Lc(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Zs(a,s.child,null,g),a.child=Zs(a,null,c,g)):Ue(s,a,c,g),a.memoizedState=y.state,s=a.child):s=Bi(s,a,g),s}function n0(s,a,c,h){return $s(),a.flags|=256,Ue(s,a,c,h),a.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(s){return{baseLanes:s,cachePool:$y()}}function Wd(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=_n),s}function i0(s,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(me.current&2)!==0),A&&(g=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(Lt){if(g?us(a):hs(),(s=ne)?(s=hv(s,Vn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:is!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},c=By(s),c.return=a,a.child=c,je=a,ne=null)):s=null,s===null)throw as(a);return Lf(s)?a.lanes=32:a.lanes=536870912,null}var T=h.children;return h=h.fallback,g?(hs(),g=a.mode,T=Pc({mode:"hidden",children:T},g),h=Gs(h,g,c,null),T.return=a,h.return=a,T.sibling=h,a.child=T,h=a.child,h.memoizedState=Yd(c),h.childLanes=Wd(s,A,c),a.memoizedState=Xd,To(null,h)):(us(a),Kd(a,T))}var L=s.memoizedState;if(L!==null&&(T=L.dehydrated,T!==null)){if(y)a.flags&256?(us(a),a.flags&=-257,a=Zd(s,a,c)):a.memoizedState!==null?(hs(),a.child=s.child,a.flags|=128,a=null):(hs(),T=h.fallback,g=a.mode,h=Pc({mode:"visible",children:h.children},g),T=Gs(T,g,c,null),T.flags|=2,h.return=a,T.return=a,h.sibling=T,a.child=h,Zs(a,s.child,null,c),h=a.child,h.memoizedState=Yd(c),h.childLanes=Wd(s,A,c),a.memoizedState=Xd,a=To(null,h));else if(us(a),Lf(T)){if(A=T.nextSibling&&T.nextSibling.dataset,A)var H=A.dgst;A=H,h=Error(n(419)),h.stack="",h.digest=A,fo({value:h,source:null,stack:null}),a=Zd(s,a,c)}else if(Te||Ha(s,a,c,!1),A=(c&s.childLanes)!==0,Te||A){if(A=Kt,A!==null&&(h=Vg(A,c),h!==0&&h!==L.retryLane))throw L.retryLane=h,Vs(s,h),fn(A,s,h),$d;kf(T)||Hc(),a=Zd(s,a,c)}else kf(T)?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,ne=$n(T.nextSibling),je=a,Lt=!0,ss=null,Vn=!1,s!==null&&jy(a,s),a=Kd(a,h.children),a.flags|=4096);return a}return g?(hs(),T=h.fallback,g=a.mode,L=s.child,H=L.sibling,h=Di(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,H!==null?T=Di(H,T):(T=Gs(T,g,c,null),T.flags|=2),T.return=a,h.return=a,h.sibling=T,a.child=h,To(null,h),h=a.child,T=s.child.memoizedState,T===null?T=Yd(c):(g=T.cachePool,g!==null?(L=xe._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=$y(),T={baseLanes:T.baseLanes|c,cachePool:g}),h.memoizedState=T,h.childLanes=Wd(s,A,c),a.memoizedState=Xd,To(s.child,h)):(us(a),c=s.child,s=c.sibling,c=Di(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=c,a.memoizedState=null,c)}function Kd(s,a){return a=Pc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Pc(s,a){return s=xn(22,s,null,a),s.lanes=0,s}function Zd(s,a,c){return Zs(a,s.child,null,c),s=Kd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function s0(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),dd(s.return,a,c)}function Qd(s,a,c,h,g,y){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=g,A.treeForkCount=y)}function a0(s,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var A=me.current,T=(A&2)!==0;if(T?(A=A&1|2,a.flags|=128):A&=1,tt(me,A),Ue(s,a,h,c),h=Lt?ho:0,!T&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s0(s,c,a);else if(s.tag===19)s0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Ac(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Qd(a,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ac(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Qd(a,!0,c,null,y,h);break;case"together":Qd(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Bi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ps|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Ha(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Di(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Di(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Jd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&fc(s)))}function RT(s,a,c){switch(a.tag){case 3:Yt(a,a.stateNode.containerInfo),rs(a,xe,s.memoizedState.cache),$s();break;case 27:case 5:Ze(a);break;case 4:Yt(a,a.stateNode.containerInfo);break;case 10:rs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ed(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(us(a),a.flags|=128,null):(c&a.child.childLanes)!==0?i0(s,a,c):(us(a),s=Bi(s,a,c),s!==null?s.sibling:null);us(a);break;case 19:var g=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Ha(s,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return a0(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),tt(me,me.current),h)break;return null;case 22:return a.lanes=0,Zb(s,a,c,a.pendingProps);case 24:rs(a,xe,s.memoizedState.cache)}return Bi(s,a,c)}function r0(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Te=!0;else{if(!Jd(s,c)&&(a.flags&128)===0)return Te=!1,RT(s,a,c);Te=(s.flags&131072)!==0}else Te=!1,Lt&&(a.flags&1048576)!==0&&Iy(a,ho,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ws(a.elementType),a.type=s,typeof s=="function")sd(s)?(h=Js(s,h),a.tag=1,a=e0(null,a,s,h,c)):(a.tag=0,a=qd(null,a,s,h,c));else{if(s!=null){var g=s.$$typeof;if(g===k){a.tag=11,a=Yb(null,a,s,h,c);break t}else if(g===P){a.tag=14,a=Wb(null,a,s,h,c);break t}}throw a=it(s)||s,Error(n(306,a,""))}}return a;case 0:return qd(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=Js(h,a.pendingProps),e0(s,a,h,g,c);case 3:t:{if(Yt(a,a.stateNode.containerInfo),s===null)throw Error(n(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,vd(s,a),wo(a,h,null,c);var A=a.memoizedState;if(h=A.cache,rs(a,xe,h),h!==y.cache&&fd(a,[xe],c,!0),vo(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=n0(s,a,h,c);break t}else if(h!==g){g=zn(Error(n(424)),a),fo(g),a=n0(s,a,h,c);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ne=$n(s.firstChild),je=a,Lt=!0,ss=null,Vn=!0,c=Zy(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($s(),h===g){a=Bi(s,a,c);break t}Ue(s,a,h,c)}a=a.child}return a;case 26:return Lc(s,a),s===null?(c=yv(a.type,null,a.pendingProps,null))?a.memoizedState=c:Lt||(c=a.type,s=a.pendingProps,h=Wc(bt.current).createElement(c),h[Ie]=a,h[on]=s,He(h,c,s),Le(h),a.stateNode=h):a.memoizedState=yv(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ze(a),s===null&&Lt&&(h=a.stateNode=pv(a.type,a.pendingProps,bt.current),je=a,Vn=!0,g=ne,vs(a.type)?(Pf=g,ne=$n(h.firstChild)):ne=g),Ue(s,a,a.pendingProps.children,c),Lc(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Lt&&((g=h=ne)&&(h=aC(h,a.type,a.pendingProps,Vn),h!==null?(a.stateNode=h,je=a,ne=$n(h.firstChild),Vn=!1,g=!0):g=!1),g||as(a)),Ze(a),g=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,h=y.children,Mf(g,y)?h=null:A!==null&&Mf(g,A)&&(a.flags|=32),a.memoizedState!==null&&(g=Cd(s,a,wT,null,null,c),zo._currentValue=g),Lc(s,a),Ue(s,a,h,c),a.child;case 6:return s===null&&Lt&&((s=c=ne)&&(c=rC(c,a.pendingProps,Vn),c!==null?(a.stateNode=c,je=a,ne=null,s=!0):s=!1),s||as(a)),null;case 13:return i0(s,a,c);case 4:return Yt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Zs(a,null,h,c):Ue(s,a,h,c),a.child;case 11:return Yb(s,a,a.type,a.pendingProps,c);case 7:return Ue(s,a,a.pendingProps,c),a.child;case 8:return Ue(s,a,a.pendingProps.children,c),a.child;case 12:return Ue(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,rs(a,a.type,h.value),Ue(s,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Xs(a),g=ze(g),h=h(g),a.flags|=1,Ue(s,a,h,c),a.child;case 14:return Wb(s,a,a.type,a.pendingProps,c);case 15:return Kb(s,a,a.type,a.pendingProps,c);case 19:return a0(s,a,c);case 31:return MT(s,a,c);case 22:return Zb(s,a,c,a.pendingProps);case 24:return Xs(a),h=ze(xe),s===null?(g=gd(),g===null&&(g=Kt,y=pd(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},bd(a),rs(a,xe,g)):((s.lanes&c)!==0&&(vd(s,a),wo(a,null,null,c),vo()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),rs(a,xe,h)):(h=y.cache,rs(a,xe,h),h!==g.cache&&fd(a,[xe],c,!0))),Ue(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Fi(s){s.flags|=4}function tf(s,a,c,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(P0())s.flags|=8192;else throw Ks=yc,yd}else s.flags&=-16777217}function o0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Sv(a))if(P0())s.flags|=8192;else throw Ks=yc,yd}function Oc(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?zg():536870912,s.lanes|=a,tr|=a)}function Co(s,a){if(!Lt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ie(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function DT(s,a,c){var h=a.pendingProps;switch(ld(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(a),null;case 1:return ie(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Pi(xe),Nt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ua(a)?Fi(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ud())),ie(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Fi(a),y!==null?(ie(a),o0(a,y)):(ie(a),tf(a,g,null,h,c))):y?y!==s.memoizedState?(Fi(a),ie(a),o0(a,y)):(ie(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Fi(a),ie(a),tf(a,g,s,h,c)),null;case 27:if(Ut(a),c=bt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Fi(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return ie(a),null}s=et.current,Ua(a)?zy(a):(s=pv(g,h,c),a.stateNode=s,Fi(a))}return ie(a),null;case 5:if(Ut(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Fi(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return ie(a),null}if(y=et.current,Ua(a))zy(a);else{var A=Wc(bt.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}y[Ie]=a,y[on]=h;t:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break t;for(;A.sibling===null;){if(A.return===null||A.return===a)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=y;t:switch(He(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Fi(a)}}return ie(a),tf(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Fi(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(s=bt.current,Ua(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,g=je,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Ie]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||iv(s.nodeValue,c)),s||as(a,!0)}else s=Wc(s).createTextNode(h),s[Ie]=a,a.stateNode=s}return ie(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Ua(a),c!==null){if(s===null){if(!h)throw Error(n(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Ie]=a}else $s(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ie(a),s=!1}else c=ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Tn(a),a):(Tn(a),null);if((a.flags&128)!==0)throw Error(n(558))}return ie(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ua(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Ie]=a}else $s(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ie(a),g=!1}else g=ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Tn(a),a):(Tn(a),null)}return Tn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),Oc(a,a.updateQueue),ie(a),null);case 4:return Nt(),s===null&&xf(a.stateNode.containerInfo),ie(a),null;case 10:return Pi(a.type),ie(a),null;case 19:if(q(me),h=a.memoizedState,h===null)return ie(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)Co(h,!1);else{if(fe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ac(s),y!==null){for(a.flags|=128,Co(h,!1),s=y.updateQueue,a.updateQueue=s,Oc(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Ny(c,s),c=c.sibling;return tt(me,me.current&1|2),Lt&&ki(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&Qe()>jc&&(a.flags|=128,g=!0,Co(h,!1),a.lanes=4194304)}else{if(!g)if(s=Ac(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Oc(a,s),Co(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Lt)return ie(a),null}else 2*Qe()-h.renderingStartTime>jc&&c!==536870912&&(a.flags|=128,g=!0,Co(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Qe(),s.sibling=null,c=me.current,tt(me,g?c&1|2:c&1),Lt&&ki(a,h.treeForkCount),s):(ie(a),null);case 22:case 23:return Tn(a),xd(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(ie(a),a.subtreeFlags&6&&(a.flags|=8192)):ie(a),c=a.updateQueue,c!==null&&Oc(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&q(Ys),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Pi(xe),ie(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function kT(s,a){switch(ld(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Pi(xe),Nt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ut(a),null;case 31:if(a.memoizedState!==null){if(Tn(a),a.alternate===null)throw Error(n(340));$s()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Tn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));$s()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return q(me),null;case 4:return Nt(),null;case 10:return Pi(a.type),null;case 22:case 23:return Tn(a),xd(),s!==null&&q(Ys),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Pi(xe),null;case 25:return null;default:return null}}function l0(s,a){switch(ld(a),a.tag){case 3:Pi(xe),Nt();break;case 26:case 27:case 5:Ut(a);break;case 4:Nt();break;case 31:a.memoizedState!==null&&Tn(a);break;case 13:Tn(a);break;case 19:q(me);break;case 10:Pi(a.type);break;case 22:case 23:Tn(a),xd(),s!==null&&q(Ys);break;case 24:Pi(xe)}}function _o(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var y=c.create,A=c.inst;h=y(),A.destroy=h}c=c.next}while(c!==g)}}catch(T){Vt(a,a.return,T)}}function ds(s,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var A=h.inst,T=A.destroy;if(T!==void 0){A.destroy=void 0,g=a;var L=c,H=T;try{H()}catch(Y){Vt(g,L,Y)}}}h=h.next}while(h!==y)}}catch(Y){Vt(a,a.return,Y)}}function c0(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Jy(a,c)}catch(h){Vt(s,s.return,h)}}}function u0(s,a,c){c.props=Js(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){Vt(s,a,h)}}function Mo(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){Vt(s,a,g)}}function hi(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Vt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Vt(s,a,g)}else c.current=null}function h0(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Vt(s,s.return,g)}}function ef(s,a,c){try{var h=s.stateNode;JT(h,s.type,c,a),h[on]=a}catch(g){Vt(s,s.return,g)}}function d0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vs(s.type)||s.tag===4}function nf(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||d0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Mi));else if(h!==4&&(h===27&&vs(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(sf(s,a,c),s=s.sibling;s!==null;)sf(s,a,c),s=s.sibling}function Nc(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&vs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Nc(s,a,c),s=s.sibling;s!==null;)Nc(s,a,c),s=s.sibling}function f0(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);He(a,h,c),a[Ie]=s,a[on]=c}catch(y){Vt(s,s.return,y)}}var Ii=!1,Ce=!1,af=!1,p0=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function LT(s,a){if(s=s.containerInfo,Cf=nu,s=Cy(s),Zh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var A=0,T=-1,L=-1,H=0,Y=0,Z=s,G=null;e:for(;;){for(var $;Z!==c||g!==0&&Z.nodeType!==3||(T=A+g),Z!==y||h!==0&&Z.nodeType!==3||(L=A+h),Z.nodeType===3&&(A+=Z.nodeValue.length),($=Z.firstChild)!==null;)G=Z,Z=$;for(;;){if(Z===s)break e;if(G===c&&++H===g&&(T=A),G===y&&++Y===h&&(L=A),($=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=$}c=T===-1||L===-1?null:{start:T,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(_f={focusedElem:s,selectionRange:c},nu=!1,Pe=a;Pe!==null;)if(a=Pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Pe=s;else for(;Pe!==null;){switch(a=Pe,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var rt=Js(c.type,g);s=h.getSnapshotBeforeUpdate(rt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Vt(c,c.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Df(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Df(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=a.sibling,s!==null){s.return=a.return,Pe=s;break}Pe=a.return}}function m0(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:zi(s,c),h&4&&_o(5,c);break;case 1:if(zi(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(A){Vt(c,c.return,A)}else{var g=Js(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(c,c.return,A)}}h&64&&c0(c),h&512&&Mo(c,c.return);break;case 3:if(zi(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Jy(s,a)}catch(A){Vt(c,c.return,A)}}break;case 27:a===null&&h&4&&f0(c);case 26:case 5:zi(s,c),a===null&&h&4&&h0(c),h&512&&Mo(c,c.return);break;case 12:zi(s,c);break;case 31:zi(s,c),h&4&&b0(s,c);break;case 13:zi(s,c),h&4&&v0(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=UT.bind(null,c),oC(s,c))));break;case 22:if(h=c.memoizedState!==null||Ii,!h){a=a!==null&&a.memoizedState!==null||Ce,g=Ii;var y=Ce;Ii=h,(Ce=a)&&!y?Ui(s,c,(c.subtreeFlags&8772)!==0):zi(s,c),Ii=g,Ce=y}break;case 30:break;default:zi(s,c)}}function g0(s){var a=s.alternate;a!==null&&(s.alternate=null,g0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Oh(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var se=null,cn=!1;function ji(s,a,c){for(c=c.child;c!==null;)y0(s,a,c),c=c.sibling}function y0(s,a,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Zr,c)}catch{}switch(c.tag){case 26:Ce||hi(c,a),ji(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ce||hi(c,a);var h=se,g=cn;vs(c.type)&&(se=c.stateNode,cn=!1),ji(s,a,c),Fo(c.stateNode),se=h,cn=g;break;case 5:Ce||hi(c,a);case 6:if(h=se,g=cn,se=null,ji(s,a,c),se=h,cn=g,se!==null)if(cn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(c.stateNode)}catch(y){Vt(c,a,y)}else try{se.removeChild(c.stateNode)}catch(y){Vt(c,a,y)}break;case 18:se!==null&&(cn?(s=se,cv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),lr(s)):cv(se,c.stateNode));break;case 4:h=se,g=cn,se=c.stateNode.containerInfo,cn=!0,ji(s,a,c),se=h,cn=g;break;case 0:case 11:case 14:case 15:ds(2,c,a),Ce||ds(4,c,a),ji(s,a,c);break;case 1:Ce||(hi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&u0(c,a,h)),ji(s,a,c);break;case 21:ji(s,a,c);break;case 22:Ce=(h=Ce)||c.memoizedState!==null,ji(s,a,c),Ce=h;break;default:ji(s,a,c)}}function b0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{lr(s)}catch(c){Vt(a,a.return,c)}}}function v0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{lr(s)}catch(c){Vt(a,a.return,c)}}function PT(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new p0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new p0),a;default:throw Error(n(435,s.tag))}}function Bc(s,a){var c=PT(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=HT.bind(null,s,h);h.then(g,g)}})}function un(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=s,A=a,T=A;t:for(;T!==null;){switch(T.tag){case 27:if(vs(T.type)){se=T.stateNode,cn=!1;break t}break;case 5:se=T.stateNode,cn=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(se===null)throw Error(n(160));y0(y,A,g),se=null,cn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)w0(a,s),a=a.sibling}var ni=null;function w0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:un(a,s),hn(s),h&4&&(ds(3,s,s.return),_o(3,s),ds(5,s,s.return));break;case 1:un(a,s),hn(s),h&512&&(Ce||c===null||hi(c,c.return)),h&64&&Ii&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=ni;if(un(a,s),hn(s),h&512&&(Ce||c===null||hi(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[to]||y[Ie]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),He(y,h,c),y[Ie]=s,Le(y),h=y;break t;case"link":var A=wv("link","href",g).get(h+(c.href||""));if(A){for(var T=0;T<A.length;T++)if(y=A[T],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(T,1);break e}}y=g.createElement(h),He(y,h,c),g.head.appendChild(y);break;case"meta":if(A=wv("meta","content",g).get(h+(c.content||""))){for(T=0;T<A.length;T++)if(y=A[T],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(T,1);break e}}y=g.createElement(h),He(y,h,c),g.head.appendChild(y);break;default:throw Error(n(468,h))}y[Ie]=s,Le(y),h=y}s.stateNode=h}else Av(g,s.type,s.stateNode);else s.stateNode=vv(g,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Av(g,s.type,s.stateNode):vv(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ef(s,s.memoizedProps,c.memoizedProps)}break;case 27:un(a,s),hn(s),h&512&&(Ce||c===null||hi(c,c.return)),c!==null&&h&4&&ef(s,s.memoizedProps,c.memoizedProps);break;case 5:if(un(a,s),hn(s),h&512&&(Ce||c===null||hi(c,c.return)),s.flags&32){g=s.stateNode;try{ka(g,"")}catch(rt){Vt(s,s.return,rt)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,ef(s,g,c!==null?c.memoizedProps:g)),h&1024&&(af=!0);break;case 6:if(un(a,s),hn(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(rt){Vt(s,s.return,rt)}}break;case 3:if(Qc=null,g=ni,ni=Kc(a.containerInfo),un(a,s),ni=g,hn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{lr(a.containerInfo)}catch(rt){Vt(s,s.return,rt)}af&&(af=!1,A0(s));break;case 4:h=ni,ni=Kc(s.stateNode.containerInfo),un(a,s),hn(s),ni=h;break;case 12:un(a,s),hn(s);break;case 31:un(a,s),hn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Bc(s,h)));break;case 13:un(a,s),hn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ic=Qe()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Bc(s,h)));break;case 22:g=s.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,H=Ii,Y=Ce;if(Ii=H||g,Ce=Y||L,un(a,s),Ce=Y,Ii=H,hn(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||L||Ii||Ce||ta(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){L=c=a;try{if(y=L.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{T=L.stateNode;var Z=L.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(rt){Vt(L,L.return,rt)}}}else if(a.tag===6){if(c===null){L=a;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(rt){Vt(L,L.return,rt)}}}else if(a.tag===18){if(c===null){L=a;try{var $=L.stateNode;g?uv($,!0):uv(L.stateNode,!1)}catch(rt){Vt(L,L.return,rt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Bc(s,c))));break;case 19:un(a,s),hn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Bc(s,h)));break;case 30:break;case 21:break;default:un(a,s),hn(s)}}function hn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(d0(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=nf(s);Nc(s,y,g);break;case 5:var A=c.stateNode;c.flags&32&&(ka(A,""),c.flags&=-33);var T=nf(s);Nc(s,T,A);break;case 3:case 4:var L=c.stateNode.containerInfo,H=nf(s);sf(s,H,L);break;default:throw Error(n(161))}}catch(Y){Vt(s,s.return,Y)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function A0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;A0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function zi(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m0(s,a.alternate,a),a=a.sibling}function ta(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ds(4,a,a.return),ta(a);break;case 1:hi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&u0(a,a.return,c),ta(a);break;case 27:Fo(a.stateNode);case 26:case 5:hi(a,a.return),ta(a);break;case 22:a.memoizedState===null&&ta(a);break;case 30:ta(a);break;default:ta(a)}s=s.sibling}}function Ui(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ui(g,y,c),_o(4,y);break;case 1:if(Ui(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Vt(h,h.return,H)}if(h=y,g=h.updateQueue,g!==null){var T=h.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)Qy(L[g],T)}catch(H){Vt(h,h.return,H)}}c&&A&64&&c0(y),Mo(y,y.return);break;case 27:f0(y);case 26:case 5:Ui(g,y,c),c&&h===null&&A&4&&h0(y),Mo(y,y.return);break;case 12:Ui(g,y,c);break;case 31:Ui(g,y,c),c&&A&4&&b0(g,y);break;case 13:Ui(g,y,c),c&&A&4&&v0(g,y);break;case 22:y.memoizedState===null&&Ui(g,y,c),Mo(y,y.return);break;case 30:break;default:Ui(g,y,c)}a=a.sibling}}function rf(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&po(c))}function of(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&po(s))}function ii(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)S0(s,a,c,h),a=a.sibling}function S0(s,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ii(s,a,c,h),g&2048&&_o(9,a);break;case 1:ii(s,a,c,h);break;case 3:ii(s,a,c,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&po(s)));break;case 12:if(g&2048){ii(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,T=y.onPostCommit;typeof T=="function"&&T(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Vt(a,a.return,L)}}else ii(s,a,c,h);break;case 31:ii(s,a,c,h);break;case 13:ii(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,A=a.alternate,a.memoizedState!==null?y._visibility&2?ii(s,a,c,h):Ro(s,a):y._visibility&2?ii(s,a,c,h):(y._visibility|=2,Za(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&rf(A,a);break;case 24:ii(s,a,c,h),g&2048&&of(a.alternate,a);break;default:ii(s,a,c,h)}}function Za(s,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,A=a,T=c,L=h,H=A.flags;switch(A.tag){case 0:case 11:case 15:Za(y,A,T,L,g),_o(8,A);break;case 23:break;case 22:var Y=A.stateNode;A.memoizedState!==null?Y._visibility&2?Za(y,A,T,L,g):Ro(y,A):(Y._visibility|=2,Za(y,A,T,L,g)),g&&H&2048&&rf(A.alternate,A);break;case 24:Za(y,A,T,L,g),g&&H&2048&&of(A.alternate,A);break;default:Za(y,A,T,L,g)}a=a.sibling}}function Ro(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,g=h.flags;switch(h.tag){case 22:Ro(c,h),g&2048&&rf(h.alternate,h);break;case 24:Ro(c,h),g&2048&&of(h.alternate,h);break;default:Ro(c,h)}a=a.sibling}}var Do=8192;function Qa(s,a,c){if(s.subtreeFlags&Do)for(s=s.child;s!==null;)x0(s,a,c),s=s.sibling}function x0(s,a,c){switch(s.tag){case 26:Qa(s,a,c),s.flags&Do&&s.memoizedState!==null&&vC(c,ni,s.memoizedState,s.memoizedProps);break;case 5:Qa(s,a,c);break;case 3:case 4:var h=ni;ni=Kc(s.stateNode.containerInfo),Qa(s,a,c),ni=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Do,Do=16777216,Qa(s,a,c),Do=h):Qa(s,a,c));break;default:Qa(s,a,c)}}function E0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function ko(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Pe=h,C0(h,s)}E0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T0(s),s=s.sibling}function T0(s){switch(s.tag){case 0:case 11:case 15:ko(s),s.flags&2048&&ds(9,s,s.return);break;case 3:ko(s);break;case 12:ko(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Fc(s)):ko(s);break;default:ko(s)}}function Fc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Pe=h,C0(h,s)}E0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ds(8,a,a.return),Fc(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Fc(a));break;default:Fc(a)}s=s.sibling}}function C0(s,a){for(;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:ds(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:po(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Pe=h;else t:for(c=s;Pe!==null;){h=Pe;var g=h.sibling,y=h.return;if(g0(h),h===c){Pe=null;break t}if(g!==null){g.return=y,Pe=g;break t}Pe=y}}}var OT={getCacheForType:function(s){var a=ze(xe),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return ze(xe).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,It=0,Kt=null,_t=null,Rt=0,Ht=0,Cn=null,fs=!1,Ja=!1,lf=!1,Hi=0,fe=0,ps=0,ea=0,cf=0,_n=0,tr=0,Lo=null,dn=null,uf=!1,Ic=0,_0=0,jc=1/0,zc=null,ms=null,Re=0,gs=null,er=null,Vi=0,hf=0,df=null,M0=null,Po=0,ff=null;function Mn(){return(It&2)!==0&&Rt!==0?Rt&-Rt:F.T!==null?vf():Gg()}function R0(){if(_n===0)if((Rt&536870912)===0||Lt){var s=Yl;Yl<<=1,(Yl&3932160)===0&&(Yl=262144),_n=s}else _n=536870912;return s=En.current,s!==null&&(s.flags|=32),_n}function fn(s,a,c){(s===Kt&&(Ht===2||Ht===9)||s.cancelPendingCommit!==null)&&(nr(s,0),ys(s,Rt,_n,!1)),Jr(s,c),((It&2)===0||s!==Kt)&&(s===Kt&&((It&2)===0&&(ea|=c),fe===4&&ys(s,Rt,_n,!1)),di(s))}function D0(s,a,c){if((It&6)!==0)throw Error(n(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||Qr(s,a),g=h?IT(s,a):mf(s,a,!0),y=h;do{if(g===0){Ja&&!h&&ys(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!BT(c)){g=mf(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;t:{var T=s;g=Lo;var L=T.current.memoizedState.isDehydrated;if(L&&(nr(T,A).flags|=256),A=mf(T,A,!1),A!==2){if(lf&&!L){T.errorRecoveryDisabledLanes|=y,ea|=y,g=4;break t}y=dn,dn=g,y!==null&&(dn===null?dn=y:dn.push.apply(dn,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){nr(s,0),ys(s,a,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:ys(h,a,_n,!fs);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(g=Ic+300-Qe(),10<g)){if(ys(h,a,_n,!fs),Kl(h,0,!0)!==0)break t;Vi=a,h.timeoutHandle=ov(k0.bind(null,h,c,dn,zc,uf,a,_n,ea,tr,fs,y,"Throttled",-0,0),g);break t}k0(h,c,dn,zc,uf,a,_n,ea,tr,fs,y,null,-0,0)}}break}while(!0);di(s)}function k0(s,a,c,h,g,y,A,T,L,H,Y,Z,G,$){if(s.timeoutHandle=-1,Z=a.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},x0(a,y,Z);var rt=(y&62914560)===y?Ic-Qe():(y&4194048)===y?_0-Qe():0;if(rt=wC(Z,rt),rt!==null){Vi=y,s.cancelPendingCommit=rt(j0.bind(null,s,a,y,c,h,g,A,T,L,Y,Z,null,G,$)),ys(s,y,A,!H);return}}j0(s,a,y,c,h,g,A,T,L)}function BT(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!Sn(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ys(s,a,c,h){a&=~cf,a&=~ea,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-An(g),A=1<<y;h[y]=-1,g&=~A}c!==0&&Ug(s,c,a)}function Uc(){return(It&6)===0?(Oo(0),!1):!0}function pf(){if(_t!==null){if(Ht===0)var s=_t.return;else s=_t,Li=qs=null,Rd(s),qa=null,go=0,s=_t;for(;s!==null;)l0(s.alternate,s),s=s.return;_t=null}}function nr(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,nC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Vi=0,pf(),Kt=s,_t=c=Di(s.current,null),Rt=a,Ht=0,Cn=null,fs=!1,Ja=Qr(s,a),lf=!1,tr=_n=cf=ea=ps=fe=0,dn=Lo=null,uf=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-An(h),y=1<<g;a|=s[g],h&=~y}return Hi=a,lc(),c}function L0(s,a){Et=null,F.H=Eo,a===$a||a===gc?(a=Yy(),Ht=3):a===yd?(a=Yy(),Ht=4):Ht=a===$d?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,_t===null&&(fe=1,Dc(s,zn(a,s.current)))}function P0(){var s=En.current;return s===null?!0:(Rt&4194048)===Rt?Gn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?s===Gn:!1}function O0(){var s=F.H;return F.H=Eo,s===null?Eo:s}function N0(){var s=F.A;return F.A=OT,s}function Hc(){fe=4,fs||(Rt&4194048)!==Rt&&En.current!==null||(Ja=!0),(ps&134217727)===0&&(ea&134217727)===0||Kt===null||ys(Kt,Rt,_n,!1)}function mf(s,a,c){var h=It;It|=2;var g=O0(),y=N0();(Kt!==s||Rt!==a)&&(zc=null,nr(s,a)),a=!1;var A=fe;t:do try{if(Ht!==0&&_t!==null){var T=_t,L=Cn;switch(Ht){case 8:pf(),A=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(a=!0);var H=Ht;if(Ht=0,Cn=null,ir(s,T,L,H),c&&Ja){A=0;break t}break;default:H=Ht,Ht=0,Cn=null,ir(s,T,L,H)}}FT(),A=fe;break}catch(Y){L0(s,Y)}while(!0);return a&&s.shellSuspendCounter++,Li=qs=null,It=h,F.H=g,F.A=y,_t===null&&(Kt=null,Rt=0,lc()),A}function FT(){for(;_t!==null;)B0(_t)}function IT(s,a){var c=It;It|=2;var h=O0(),g=N0();Kt!==s||Rt!==a?(zc=null,jc=Qe()+500,nr(s,a)):Ja=Qr(s,a);t:do try{if(Ht!==0&&_t!==null){a=_t;var y=Cn;e:switch(Ht){case 1:Ht=0,Cn=null,ir(s,a,y,1);break;case 2:case 9:if(qy(y)){Ht=0,Cn=null,F0(a);break}a=function(){Ht!==2&&Ht!==9||Kt!==s||(Ht=7),di(s)},y.then(a,a);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:qy(y)?(Ht=0,Cn=null,F0(a)):(Ht=0,Cn=null,ir(s,a,y,7));break;case 5:var A=null;switch(_t.tag){case 26:A=_t.memoizedState;case 5:case 27:var T=_t;if(A?Sv(A):T.stateNode.complete){Ht=0,Cn=null;var L=T.sibling;if(L!==null)_t=L;else{var H=T.return;H!==null?(_t=H,Vc(H)):_t=null}break e}}Ht=0,Cn=null,ir(s,a,y,5);break;case 6:Ht=0,Cn=null,ir(s,a,y,6);break;case 8:pf(),fe=6;break t;default:throw Error(n(462))}}jT();break}catch(Y){L0(s,Y)}while(!0);return Li=qs=null,F.H=h,F.A=g,It=c,_t!==null?0:(Kt=null,Rt=0,lc(),fe)}function jT(){for(;_t!==null&&!Ea();)B0(_t)}function B0(s){var a=r0(s.alternate,s,Hi);s.memoizedProps=s.pendingProps,a===null?Vc(s):_t=a}function F0(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=t0(c,a,a.pendingProps,a.type,void 0,Rt);break;case 11:a=t0(c,a,a.pendingProps,a.type.render,a.ref,Rt);break;case 5:Rd(a);default:l0(c,a),a=_t=Ny(a,Hi),a=r0(c,a,Hi)}s.memoizedProps=s.pendingProps,a===null?Vc(s):_t=a}function ir(s,a,c,h){Li=qs=null,Rd(a),qa=null,go=0;var g=a.return;try{if(_T(s,g,a,c,Rt)){fe=1,Dc(s,zn(c,s.current)),_t=null;return}}catch(y){if(g!==null)throw _t=g,y;fe=1,Dc(s,zn(c,s.current)),_t=null;return}a.flags&32768?(Lt||h===1?s=!0:Ja||(Rt&536870912)!==0?s=!1:(fs=s=!0,(h===2||h===9||h===3||h===6)&&(h=En.current,h!==null&&h.tag===13&&(h.flags|=16384))),I0(a,s)):Vc(a)}function Vc(s){var a=s;do{if((a.flags&32768)!==0){I0(a,fs);return}s=a.return;var c=DT(a.alternate,a,Hi);if(c!==null){_t=c;return}if(a=a.sibling,a!==null){_t=a;return}_t=a=s}while(a!==null);fe===0&&(fe=5)}function I0(s,a){do{var c=kT(s.alternate,s);if(c!==null){c.flags&=32767,_t=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){_t=s;return}_t=s=c}while(s!==null);fe=6,_t=null}function j0(s,a,c,h,g,y,A,T,L){s.cancelPendingCommit=null;do Gc();while(Re!==0);if((It&6)!==0)throw Error(n(327));if(a!==null){if(a===s.current)throw Error(n(177));if(y=a.lanes|a.childLanes,y|=nd,b2(s,c,y,A,T,L),s===Kt&&(_t=Kt=null,Rt=0),er=a,gs=s,Vi=c,hf=y,df=g,M0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,VT(vn,function(){return G0(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,g=U.p,U.p=2,A=It,It|=4;try{LT(s,a,c)}finally{It=A,U.p=g,F.T=h}}Re=1,z0(),U0(),H0()}}function z0(){if(Re===1){Re=0;var s=gs,a=er,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null;var h=U.p;U.p=2;var g=It;It|=4;try{w0(a,s);var y=_f,A=Cy(s.containerInfo),T=y.focusedElem,L=y.selectionRange;if(A!==T&&T&&T.ownerDocument&&Ty(T.ownerDocument.documentElement,T)){if(L!==null&&Zh(T)){var H=L.start,Y=L.end;if(Y===void 0&&(Y=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var $=G.getSelection(),rt=T.textContent.length,vt=Math.min(L.start,rt),qt=L.end===void 0?vt:Math.min(L.end,rt);!$.extend&&vt>qt&&(A=qt,qt=vt,vt=A);var j=Ey(T,vt),B=Ey(T,qt);if(j&&B&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var z=Z.createRange();z.setStart(j.node,j.offset),$.removeAllRanges(),vt>qt?($.addRange(z),$.extend(B.node,B.offset)):(z.setEnd(B.node,B.offset),$.addRange(z))}}}}for(Z=[],$=T;$=$.parentNode;)$.nodeType===1&&Z.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var K=Z[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}nu=!!Cf,_f=Cf=null}finally{It=g,U.p=h,F.T=c}}s.current=a,Re=2}}function U0(){if(Re===2){Re=0;var s=gs,a=er,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=F.T,F.T=null;var h=U.p;U.p=2;var g=It;It|=4;try{m0(s,a.alternate,a)}finally{It=g,U.p=h,F.T=c}}Re=3}}function H0(){if(Re===4||Re===3){Re=0,Mh();var s=gs,a=er,c=Vi,h=M0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Re=5:(Re=0,er=gs=null,V0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ms=null),Lh(c),a=a.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Zr,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=F.T,g=U.p,U.p=2,F.T=null;try{for(var y=s.onRecoverableError,A=0;A<h.length;A++){var T=h[A];y(T.value,{componentStack:T.stack})}}finally{F.T=a,U.p=g}}(Vi&3)!==0&&Gc(),di(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===ff?Po++:(Po=0,ff=s):Po=0,Oo(0)}}function V0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,po(a)))}function Gc(){return z0(),U0(),H0(),G0()}function G0(){if(Re!==5)return!1;var s=gs,a=hf;hf=0;var c=Lh(Vi),h=F.T,g=U.p;try{U.p=32>c?32:c,F.T=null,c=df,df=null;var y=gs,A=Vi;if(Re=0,er=gs=null,Vi=0,(It&6)!==0)throw Error(n(331));var T=It;if(It|=4,T0(y.current),S0(y,y.current,A,c),It=T,Oo(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Zr,y)}catch{}return!0}finally{U.p=g,F.T=h,V0(s,a)}}function $0(s,a,c){a=zn(c,a),a=Gd(s.stateNode,a,2),s=cs(s,a,2),s!==null&&(Jr(s,2),di(s))}function Vt(s,a,c){if(s.tag===3)$0(s,s,c);else for(;a!==null;){if(a.tag===3){$0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ms===null||!ms.has(h))){s=zn(c,s),c=qb(2),h=cs(a,c,2),h!==null&&(Xb(c,h,a,s),Jr(h,2),di(h));break}}a=a.return}}function gf(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new NT;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(lf=!0,g.add(c),s=zT.bind(null,s,a,c),a.then(s,s))}function zT(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Kt===s&&(Rt&c)===c&&(fe===4||fe===3&&(Rt&62914560)===Rt&&300>Qe()-Ic?(It&2)===0&&nr(s,0):cf|=c,tr===Rt&&(tr=0)),di(s)}function q0(s,a){a===0&&(a=zg()),s=Vs(s,a),s!==null&&(Jr(s,a),di(s))}function UT(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),q0(s,c)}function HT(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),q0(s,c)}function VT(s,a){return Fs(s,a)}var $c=null,sr=null,yf=!1,qc=!1,bf=!1,bs=0;function di(s){s!==sr&&s.next===null&&(sr===null?$c=sr=s:sr=sr.next=s),qc=!0,yf||(yf=!0,$T())}function Oo(s,a){if(!bf&&qc){bf=!0;do for(var c=!1,h=$c;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var A=h.suspendedLanes,T=h.pingedLanes;y=(1<<31-An(42|s)+1)-1,y&=g&~(A&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,K0(h,y))}else y=Rt,y=Kl(h,h===Kt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Qr(h,y)||(c=!0,K0(h,y));h=h.next}while(c);bf=!1}}function GT(){X0()}function X0(){qc=yf=!1;var s=0;bs!==0&&eC()&&(s=bs);for(var a=Qe(),c=null,h=$c;h!==null;){var g=h.next,y=Y0(h,a);y===0?(h.next=null,c===null?$c=g:c.next=g,g===null&&(sr=c)):(c=h,(s!==0||(y&3)!==0)&&(qc=!0)),h=g}Re!==0&&Re!==5||Oo(s),bs!==0&&(bs=0)}function Y0(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-An(y),T=1<<A,L=g[A];L===-1?((T&c)===0||(T&h)!==0)&&(g[A]=y2(T,a)):L<=a&&(s.expiredLanes|=T),y&=~T}if(a=Kt,c=Rt,c=Kl(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(Ht===2||Ht===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Wr(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Qr(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Wr(h),Lh(c)){case 2:case 8:c=ql;break;case 32:c=vn;break;case 268435456:c=ti;break;default:c=vn}return h=W0.bind(null,s),c=Fs(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Wr(h),s.callbackPriority=2,s.callbackNode=null,2}function W0(s,a){if(Re!==0&&Re!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Gc()&&s.callbackNode!==c)return null;var h=Rt;return h=Kl(s,s===Kt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(D0(s,h,a),Y0(s,Qe()),s.callbackNode!=null&&s.callbackNode===c?W0.bind(null,s):null)}function K0(s,a){if(Gc())return null;D0(s,a,!0)}function $T(){iC(function(){(It&6)!==0?Fs($l,GT):X0()})}function vf(){if(bs===0){var s=Va;s===0&&(s=Xl,Xl<<=1,(Xl&261888)===0&&(Xl=256)),bs=s}return bs}function Z0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:tc(""+s)}function Q0(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function qT(s,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=Z0((g[on]||null).action),A=h.submitter;A&&(a=(a=A[on]||null)?Z0(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var T=new sc("action","action",null,h,g);s.push({event:T,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(bs!==0){var L=A?Q0(g,A):new FormData(g);Id(c,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(T.preventDefault(),L=A?Q0(g,A):new FormData(g),Id(c,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var wf=0;wf<ed.length;wf++){var Af=ed[wf],XT=Af.toLowerCase(),YT=Af[0].toUpperCase()+Af.slice(1);ei(XT,"on"+YT)}ei(Ry,"onAnimationEnd"),ei(Dy,"onAnimationIteration"),ei(ky,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(uT,"onTransitionRun"),ei(hT,"onTransitionStart"),ei(dT,"onTransitionCancel"),ei(Ly,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function J0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var A=h.length-1;0<=A;A--){var T=h[A],L=T.instance,H=T.currentTarget;if(T=T.listener,L!==y&&g.isPropagationStopped())break t;y=T,g.currentTarget=H;try{y(g)}catch(Y){oc(Y)}g.currentTarget=null,y=L}else for(A=0;A<h.length;A++){if(T=h[A],L=T.instance,H=T.currentTarget,T=T.listener,L!==y&&g.isPropagationStopped())break t;y=T,g.currentTarget=H;try{y(g)}catch(Y){oc(Y)}g.currentTarget=null,y=L}}}}function Mt(s,a){var c=a[Ph];c===void 0&&(c=a[Ph]=new Set);var h=s+"__bubble";c.has(h)||(tv(a,s,2,!1),c.add(h))}function Sf(s,a,c){var h=0;a&&(h|=4),tv(c,s,h,a)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function xf(s){if(!s[Xc]){s[Xc]=!0,Xg.forEach(function(c){c!=="selectionchange"&&(WT.has(c)||Sf(c,!1,s),Sf(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Xc]||(a[Xc]=!0,Sf("selectionchange",!1,a))}}function tv(s,a,c,h){switch(Rv(a)){case 2:var g=xC;break;case 8:g=EC;break;default:g=If}c=g.bind(null,a,c,s),g=void 0,!Hh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Ef(s,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var T=h.stateNode.containerInfo;if(T===g)break;if(A===4)for(A=h.return;A!==null;){var L=A.tag;if((L===3||L===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;T!==null;){if(A=Ca(T),A===null)return;if(L=A.tag,L===5||L===6||L===26||L===27){h=y=A;continue t}T=T.parentNode}}h=h.return}ay(function(){var H=y,Y=zh(c),Z=[];t:{var G=Py.get(s);if(G!==void 0){var $=sc,rt=s;switch(s){case"keypress":if(nc(c)===0)break t;case"keydown":case"keyup":$=H2;break;case"focusin":rt="focus",$=qh;break;case"focusout":rt="blur",$=qh;break;case"beforeblur":case"afterblur":$=qh;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=D2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=$2;break;case Ry:case Dy:case ky:$=P2;break;case Ly:$=X2;break;case"scroll":case"scrollend":$=M2;break;case"wheel":$=W2;break;case"copy":case"cut":case"paste":$=N2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=uy;break;case"toggle":case"beforetoggle":$=Z2}var vt=(a&4)!==0,qt=!vt&&(s==="scroll"||s==="scrollend"),j=vt?G!==null?G+"Capture":null:G;vt=[];for(var B=H,z;B!==null;){var K=B;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||j===null||(K=no(B,j),K!=null&&vt.push(Bo(B,K,z))),qt)break;B=B.return}0<vt.length&&(G=new $(G,rt,null,c,Y),Z.push({event:G,listeners:vt}))}}if((a&7)===0){t:{if(G=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",G&&c!==jh&&(rt=c.relatedTarget||c.fromElement)&&(Ca(rt)||rt[Ta]))break t;if(($||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,$?(rt=c.relatedTarget||c.toElement,$=H,rt=rt?Ca(rt):null,rt!==null&&(qt=o(rt),vt=rt.tag,rt!==qt||vt!==5&&vt!==27&&vt!==6)&&(rt=null)):($=null,rt=H),$!==rt)){if(vt=ly,K="onMouseLeave",j="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(vt=uy,K="onPointerLeave",j="onPointerEnter",B="pointer"),qt=$==null?G:eo($),z=rt==null?G:eo(rt),G=new vt(K,B+"leave",$,c,Y),G.target=qt,G.relatedTarget=z,K=null,Ca(Y)===H&&(vt=new vt(j,B+"enter",rt,c,Y),vt.target=z,vt.relatedTarget=qt,K=vt),qt=K,$&&rt)e:{for(vt=KT,j=$,B=rt,z=0,K=j;K;K=vt(K))z++;K=0;for(var mt=B;mt;mt=vt(mt))K++;for(;0<z-K;)j=vt(j),z--;for(;0<K-z;)B=vt(B),K--;for(;z--;){if(j===B||B!==null&&j===B.alternate){vt=j;break e}j=vt(j),B=vt(B)}vt=null}else vt=null;$!==null&&ev(Z,G,$,vt,!1),rt!==null&&qt!==null&&ev(Z,qt,rt,vt,!0)}}t:{if(G=H?eo(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Bt=by;else if(gy(G))if(vy)Bt=oT;else{Bt=aT;var ct=sT}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ih(H.elementType)&&(Bt=by):Bt=rT;if(Bt&&(Bt=Bt(s,H))){yy(Z,Bt,c,Y);break t}ct&&ct(s,G,H),s==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Fh(G,"number",G.value)}switch(ct=H?eo(H):window,s){case"focusin":(gy(ct)||ct.contentEditable==="true")&&(Na=ct,Qh=H,uo=null);break;case"focusout":uo=Qh=Na=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,_y(Z,c,Y);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":_y(Z,c,Y)}var Tt;if(Yh)t:{switch(s){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Oa?py(s,c)&&(Dt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Dt="onCompositionStart");Dt&&(hy&&c.locale!=="ko"&&(Oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Oa&&(Tt=ry()):(ns=Y,Vh="value"in ns?ns.value:ns.textContent,Oa=!0)),ct=Yc(H,Dt),0<ct.length&&(Dt=new cy(Dt,s,null,c,Y),Z.push({event:Dt,listeners:ct}),Tt?Dt.data=Tt:(Tt=my(c),Tt!==null&&(Dt.data=Tt)))),(Tt=J2?tT(s,c):eT(s,c))&&(Dt=Yc(H,"onBeforeInput"),0<Dt.length&&(ct=new cy("onBeforeInput","beforeinput",null,c,Y),Z.push({event:ct,listeners:Dt}),ct.data=Tt)),qT(Z,s,H,c,Y)}J0(Z,a)})}function Bo(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Yc(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=no(s,c),g!=null&&h.unshift(Bo(s,g,y)),g=no(s,a),g!=null&&h.push(Bo(s,g,y))),s.tag===3)return h;s=s.return}return[]}function KT(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ev(s,a,c,h,g){for(var y=a._reactName,A=[];c!==null&&c!==h;){var T=c,L=T.alternate,H=T.stateNode;if(T=T.tag,L!==null&&L===h)break;T!==5&&T!==26&&T!==27||H===null||(L=H,g?(H=no(c,y),H!=null&&A.unshift(Bo(c,H,L))):g||(H=no(c,y),H!=null&&A.push(Bo(c,H,L)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var ZT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function nv(s){return(typeof s=="string"?s:""+s).replace(ZT,`
`).replace(QT,"")}function iv(s,a){return a=nv(a),nv(s)===a}function $t(s,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ka(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ka(s,""+h);break;case"className":Ql(s,"class",h);break;case"tabIndex":Ql(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(s,c,h);break;case"style":iy(s,h,y);break;case"data":if(a!=="object"){Ql(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=tc(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&$t(s,a,"name",g.name,g,null),$t(s,a,"formEncType",g.formEncType,g,null),$t(s,a,"formMethod",g.formMethod,g,null),$t(s,a,"formTarget",g.formTarget,g,null)):($t(s,a,"encType",g.encType,g,null),$t(s,a,"method",g.method,g,null),$t(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=tc(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Mi);break;case"onScroll":h!=null&&Mt("scroll",s);break;case"onScrollEnd":h!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=tc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),Zl(s,"popover",h);break;case"xlinkActuate":_i(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_i(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_i(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_i(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_i(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_i(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_i(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_i(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_i(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Zl(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=C2.get(c)||c,Zl(s,c,h))}}function Tf(s,a,c,h,g,y){switch(c){case"style":iy(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof h=="string"?ka(s,h):(typeof h=="number"||typeof h=="bigint")&&ka(s,""+h);break;case"onScroll":h!=null&&Mt("scroll",s);break;case"onScrollEnd":h!=null&&Mt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yg.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=s[on]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,g);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Zl(s,c,h)}}}function He(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var A=c[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:$t(s,a,y,A,c,null)}}g&&$t(s,a,"srcSet",c.srcSet,c,null),h&&$t(s,a,"src",c.src,c,null);return;case"input":Mt("invalid",s);var T=y=A=g=null,L=null,H=null;for(h in c)if(c.hasOwnProperty(h)){var Y=c[h];if(Y!=null)switch(h){case"name":g=Y;break;case"type":A=Y;break;case"checked":L=Y;break;case"defaultChecked":H=Y;break;case"value":y=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,a));break;default:$t(s,a,h,Y,c,null)}}Jg(s,y,T,L,H,A,g,!1);return;case"select":Mt("invalid",s),h=A=y=null;for(g in c)if(c.hasOwnProperty(g)&&(T=c[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":A=T;break;case"multiple":h=T;default:$t(s,a,g,T,c,null)}a=y,c=A,s.multiple=!!h,a!=null?Da(s,!!h,a,!1):c!=null&&Da(s,!!h,c,!0);return;case"textarea":Mt("invalid",s),y=g=h=null;for(A in c)if(c.hasOwnProperty(A)&&(T=c[A],T!=null))switch(A){case"value":h=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:$t(s,a,A,T,c,null)}ey(s,h,g,y);return;case"option":for(L in c)c.hasOwnProperty(L)&&(h=c[L],h!=null)&&(L==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":$t(s,a,L,h,c,null));return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(h=0;h<No.length;h++)Mt(No[h],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(h=c[H],h!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:$t(s,a,H,h,c,null)}return;default:if(Ih(a)){for(Y in c)c.hasOwnProperty(Y)&&(h=c[Y],h!==void 0&&Tf(s,a,Y,h,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(h=c[T],h!=null&&$t(s,a,T,h,c,null))}function JT(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,T=null,L=null,H=null,Y=null;for($ in c){var Z=c[$];if(c.hasOwnProperty($)&&Z!=null)switch($){case"checked":break;case"value":break;case"defaultValue":L=Z;default:h.hasOwnProperty($)||$t(s,a,$,null,h,Z)}}for(var G in h){var $=h[G];if(Z=c[G],h.hasOwnProperty(G)&&($!=null||Z!=null))switch(G){case"type":y=$;break;case"name":g=$;break;case"checked":H=$;break;case"defaultChecked":Y=$;break;case"value":A=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,a));break;default:$!==Z&&$t(s,a,G,$,h,Z)}}Bh(s,A,T,L,H,Y,y,g);return;case"select":$=A=T=G=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":$=L;default:h.hasOwnProperty(y)||$t(s,a,y,null,h,L)}for(g in h)if(y=h[g],L=c[g],h.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":G=y;break;case"defaultValue":T=y;break;case"multiple":A=y;default:y!==L&&$t(s,a,g,y,h,L)}a=T,c=A,h=$,G!=null?Da(s,!!c,G,!1):!!h!=!!c&&(a!=null?Da(s,!!c,a,!0):Da(s,!!c,c?[]:"",!1));return;case"textarea":$=G=null;for(T in c)if(g=c[T],c.hasOwnProperty(T)&&g!=null&&!h.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(s,a,T,null,h,g)}for(A in h)if(g=h[A],y=c[A],h.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":G=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&$t(s,a,A,g,h,y)}ty(s,G,$);return;case"option":for(var rt in c)G=c[rt],c.hasOwnProperty(rt)&&G!=null&&!h.hasOwnProperty(rt)&&(rt==="selected"?s.selected=!1:$t(s,a,rt,null,h,G));for(L in h)G=h[L],$=c[L],h.hasOwnProperty(L)&&G!==$&&(G!=null||$!=null)&&(L==="selected"?s.selected=G&&typeof G!="function"&&typeof G!="symbol":$t(s,a,L,G,h,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in c)G=c[vt],c.hasOwnProperty(vt)&&G!=null&&!h.hasOwnProperty(vt)&&$t(s,a,vt,null,h,G);for(H in h)if(G=h[H],$=c[H],h.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,a));break;default:$t(s,a,H,G,h,$)}return;default:if(Ih(a)){for(var qt in c)G=c[qt],c.hasOwnProperty(qt)&&G!==void 0&&!h.hasOwnProperty(qt)&&Tf(s,a,qt,void 0,h,G);for(Y in h)G=h[Y],$=c[Y],!h.hasOwnProperty(Y)||G===$||G===void 0&&$===void 0||Tf(s,a,Y,G,h,$);return}}for(var j in c)G=c[j],c.hasOwnProperty(j)&&G!=null&&!h.hasOwnProperty(j)&&$t(s,a,j,null,h,G);for(Z in h)G=h[Z],$=c[Z],!h.hasOwnProperty(Z)||G===$||G==null&&$==null||$t(s,a,Z,G,h,$)}function sv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,A=g.initiatorType,T=g.duration;if(y&&T&&sv(A)){for(A=0,T=g.responseEnd,h+=1;h<c.length;h++){var L=c[h],H=L.startTime;if(H>T)break;var Y=L.transferSize,Z=L.initiatorType;Y&&sv(Z)&&(L=L.responseEnd,A+=Y*(L<T?1:(T-H)/(L-H)))}if(--h,a+=8*(y+A)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Cf=null,_f=null;function Wc(s){return s.nodeType===9?s:s.ownerDocument}function av(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Mf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rf=null;function eC(){var s=window.event;return s&&s.type==="popstate"?s===Rf?!1:(Rf=s,!0):(Rf=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(s){return lv.resolve(null).then(s).catch(sC)}:ov;function sC(s){setTimeout(function(){throw s})}function vs(s){return s==="head"}function cv(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(g),lr(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Fo(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Fo(c);for(var y=c.firstChild;y;){var A=y.nextSibling,T=y.nodeName;y[to]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=A}}else c==="body"&&Fo(s.ownerDocument.body);c=g}while(c);lr(a)}function uv(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function Df(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Df(c),Oh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function aC(s,a,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[to])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=$n(s.nextSibling),s===null)break}return null}function rC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=$n(s.nextSibling),s===null))return null;return s}function hv(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=$n(s.nextSibling),s===null))return null;return s}function kf(s){return s.data==="$?"||s.data==="$~"}function Lf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oC(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function $n(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Pf=null;function dv(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return $n(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function fv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function pv(s,a,c){switch(a=Wc(c),s){case"html":if(s=a.documentElement,!s)throw Error(n(452));return s;case"head":if(s=a.head,!s)throw Error(n(453));return s;case"body":if(s=a.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Fo(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Oh(s)}var qn=new Map,mv=new Set;function Kc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gi=U.d;U.d={f:lC,r:cC,D:uC,C:hC,L:dC,m:fC,X:mC,S:pC,M:gC};function lC(){var s=Gi.f(),a=Uc();return s||a}function cC(s){var a=_a(s);a!==null&&a.tag===5&&a.type==="form"?Lb(a):Gi.r(s)}var ar=typeof document>"u"?null:document;function gv(s,a,c){var h=ar;if(h&&typeof a=="string"&&a){var g=In(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),mv.has(g)||(mv.add(g),s={rel:s,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),He(a,"link",s),Le(a),h.head.appendChild(a)))}}function uC(s){Gi.D(s),gv("dns-prefetch",s,null)}function hC(s,a){Gi.C(s,a),gv("preconnect",s,a)}function dC(s,a,c){Gi.L(s,a,c);var h=ar;if(h&&s&&a){var g='link[rel="preload"][as="'+In(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+In(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+In(c.imageSizes)+'"]')):g+='[href="'+In(s)+'"]';var y=g;switch(a){case"style":y=rr(s);break;case"script":y=or(s)}qn.has(y)||(s=m({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),qn.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(Io(y))||a==="script"&&h.querySelector(jo(y))||(a=h.createElement("link"),He(a,"link",s),Le(a),h.head.appendChild(a)))}}function fC(s,a){Gi.m(s,a);var c=ar;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+In(h)+'"][href="'+In(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=or(s)}if(!qn.has(y)&&(s=m({rel:"modulepreload",href:s},a),qn.set(y,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(jo(y)))return}h=c.createElement("link"),He(h,"link",s),Le(h),c.head.appendChild(h)}}}function pC(s,a,c){Gi.S(s,a,c);var h=ar;if(h&&s){var g=Ma(h).hoistableStyles,y=rr(s);a=a||"default";var A=g.get(y);if(!A){var T={loading:0,preload:null};if(A=h.querySelector(Io(y)))T.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},c),(c=qn.get(y))&&Of(s,c);var L=A=h.createElement("link");Le(L),He(L,"link",s),L._p=new Promise(function(H,Y){L.onload=H,L.onerror=Y}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zc(A,a,h)}A={type:"stylesheet",instance:A,count:1,state:T},g.set(y,A)}}}function mC(s,a){Gi.X(s,a);var c=ar;if(c&&s){var h=Ma(c).hoistableScripts,g=or(s),y=h.get(g);y||(y=c.querySelector(jo(g)),y||(s=m({src:s,async:!0},a),(a=qn.get(g))&&Nf(s,a),y=c.createElement("script"),Le(y),He(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function gC(s,a){Gi.M(s,a);var c=ar;if(c&&s){var h=Ma(c).hoistableScripts,g=or(s),y=h.get(g);y||(y=c.querySelector(jo(g)),y||(s=m({src:s,async:!0,type:"module"},a),(a=qn.get(g))&&Nf(s,a),y=c.createElement("script"),Le(y),He(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function yv(s,a,c,h){var g=(g=bt.current)?Kc(g):null;if(!g)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=rr(c.href),c=Ma(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=rr(c.href);var y=Ma(g).hoistableStyles,A=y.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=g.querySelector(Io(s)))&&!y._p&&(A.instance=y,A.state.loading=5),qn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qn.set(s,c),y||yC(g,s,c,A.state))),a&&h===null)throw Error(n(528,""));return A}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=or(c),c=Ma(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function rr(s){return'href="'+In(s)+'"'}function Io(s){return'link[rel="stylesheet"]['+s+"]"}function bv(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function yC(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),He(a,"link",c),Le(a),s.head.appendChild(a))}function or(s){return'[src="'+In(s)+'"]'}function jo(s){return"script[async]"+s}function vv(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+In(c.href)+'"]');if(h)return a.instance=h,Le(h),h;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Le(h),He(h,"style",g),Zc(h,c.precedence,s),a.instance=h;case"stylesheet":g=rr(c.href);var y=s.querySelector(Io(g));if(y)return a.state.loading|=4,a.instance=y,Le(y),y;h=bv(c),(g=qn.get(g))&&Of(h,g),y=(s.ownerDocument||s).createElement("link"),Le(y);var A=y;return A._p=new Promise(function(T,L){A.onload=T,A.onerror=L}),He(y,"link",h),a.state.loading|=4,Zc(y,c.precedence,s),a.instance=y;case"script":return y=or(c.src),(g=s.querySelector(jo(y)))?(a.instance=g,Le(g),g):(h=c,(g=qn.get(y))&&(h=m({},c),Nf(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Le(g),He(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Zc(h,c.precedence,s));return a.instance}function Zc(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,A=0;A<h.length;A++){var T=h[A];if(T.dataset.precedence===a)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Of(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Nf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Qc=null;function wv(s,a,c){if(Qc===null){var h=new Map,g=Qc=new Map;g.set(c,h)}else g=Qc,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var y=c[g];if(!(y[to]||y[Ie]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var T=h.get(A);T?T.push(y):h.set(A,[y])}}return h}function Av(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function bC(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Sv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function vC(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=rr(h.href),y=a.querySelector(Io(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Jc.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Le(y);return}y=a.ownerDocument||a,h=bv(h),(g=qn.get(g))&&Of(h,g),y=y.createElement("link"),Le(y);var A=y;A._p=new Promise(function(T,L){A.onload=T,A.onerror=L}),He(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Jc.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Bf=0;function wC(s,a){return s.stylesheets&&s.count===0&&eu(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&eu(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Bf===0&&(Bf=62500*tC());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&eu(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Bf?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tu=null;function eu(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tu=new Map,a.forEach(AC,s),tu=null,Jc.call(s))}function AC(s,a){if(!(a.state.loading&4)){var c=tu.get(s);if(c)var h=c.get(null);else{c=new Map,tu.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}g=a.instance,A=g.getAttribute("data-precedence"),y=c.get(A)||h,y===h&&c.set(null,g),c.set(A,g),this.count++,h=Jc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var zo={$$typeof:_,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function SC(s,a,c,h,g,y,A,T,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.hiddenUpdates=Dh(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function xv(s,a,c,h,g,y,A,T,L,H,Y,Z){return s=new SC(s,a,c,A,L,H,Y,Z,T),a=1,y===!0&&(a|=24),y=xn(3,null,null,a),s.current=y,y.stateNode=s,a=pd(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},bd(y),s}function Ev(s){return s?(s=Ia,s):Ia}function Tv(s,a,c,h,g,y){g=Ev(g),h.context===null?h.context=g:h.pendingContext=g,h=ls(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=cs(s,h,a),c!==null&&(fn(c,s,a),bo(c,s,a))}function Cv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ff(s,a){Cv(s,a),(s=s.alternate)&&Cv(s,a)}function _v(s){if(s.tag===13||s.tag===31){var a=Vs(s,67108864);a!==null&&fn(a,s,67108864),Ff(s,67108864)}}function Mv(s){if(s.tag===13||s.tag===31){var a=Mn();a=kh(a);var c=Vs(s,a);c!==null&&fn(c,s,a),Ff(s,a)}}var nu=!0;function xC(s,a,c,h){var g=F.T;F.T=null;var y=U.p;try{U.p=2,If(s,a,c,h)}finally{U.p=y,F.T=g}}function EC(s,a,c,h){var g=F.T;F.T=null;var y=U.p;try{U.p=8,If(s,a,c,h)}finally{U.p=y,F.T=g}}function If(s,a,c,h){if(nu){var g=jf(h);if(g===null)Ef(s,a,h,iu,c),Dv(s,h);else if(CC(g,s,a,c,h))h.stopPropagation();else if(Dv(s,h),a&4&&-1<TC.indexOf(s)){for(;g!==null;){var y=_a(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Is(y.pendingLanes);if(A!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;A;){var L=1<<31-An(A);T.entanglements[1]|=L,A&=~L}di(y),(It&6)===0&&(jc=Qe()+500,Oo(0))}}break;case 31:case 13:T=Vs(y,2),T!==null&&fn(T,y,2),Uc(),Ff(y,2)}if(y=jf(h),y===null&&Ef(s,a,h,iu,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Ef(s,a,h,null,c)}}function jf(s){return s=zh(s),zf(s)}var iu=null;function zf(s){if(iu=null,s=Ca(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return iu=s,null}function Rv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rh()){case $l:return 2;case ql:return 8;case vn:case Ji:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Uf=!1,ws=null,As=null,Ss=null,Uo=new Map,Ho=new Map,xs=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(s,a){switch(s){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(a.pointerId)}}function Vo(s,a,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=_a(a),a!==null&&_v(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function CC(s,a,c,h,g){switch(a){case"focusin":return ws=Vo(ws,s,a,c,h,g),!0;case"dragenter":return As=Vo(As,s,a,c,h,g),!0;case"mouseover":return Ss=Vo(Ss,s,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return Uo.set(y,Vo(Uo.get(y)||null,s,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ho.set(y,Vo(Ho.get(y)||null,s,a,c,h,g)),!0}return!1}function kv(s){var a=Ca(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,$g(s.priority,function(){Mv(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,$g(s.priority,function(){Mv(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function su(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=jf(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);jh=h,c.target.dispatchEvent(h),jh=null}else return a=_a(c),a!==null&&_v(a),s.blockedOn=c,!1;a.shift()}return!0}function Lv(s,a,c){su(s)&&c.delete(a)}function _C(){Uf=!1,ws!==null&&su(ws)&&(ws=null),As!==null&&su(As)&&(As=null),Ss!==null&&su(Ss)&&(Ss=null),Uo.forEach(Lv),Ho.forEach(Lv)}function au(s,a){s.blockedOn===a&&(s.blockedOn=null,Uf||(Uf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_C)))}var ru=null;function Pv(s){ru!==s&&(ru=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ru===s&&(ru=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(zf(h||c)===null)continue;break}var y=_a(c);y!==null&&(s.splice(a,3),a-=3,Id(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function lr(s){function a(L){return au(L,s)}ws!==null&&au(ws,s),As!==null&&au(As,s),Ss!==null&&au(Ss,s),Uo.forEach(a),Ho.forEach(a);for(var c=0;c<xs.length;c++){var h=xs[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<xs.length&&(c=xs[0],c.blockedOn===null);)kv(c),c.blockedOn===null&&xs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],A=g[on]||null;if(typeof y=="function")A||Pv(c);else if(A){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[on]||null)T=A.formAction;else if(zf(g)!==null)continue}else T=A.action;typeof T=="function"?c[h+1]=T:(c.splice(h,3),h-=3),Pv(c)}}}function Ov(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Hf(s){this._internalRoot=s}ou.prototype.render=Hf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=Mn();Tv(c,h,s,a,null,null)},ou.prototype.unmount=Hf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Tv(s.current,2,null,s,null,null),Uc(),a[Ta]=null}};function ou(s){this._internalRoot=s}ou.prototype.unstable_scheduleHydration=function(s){if(s){var a=Gg();s={blockedOn:null,target:s,priority:a};for(var c=0;c<xs.length&&a!==0&&a<xs[c].priority;c++);xs.splice(c,0,s),c===0&&kv(s)}};var Nv=t.version;if(Nv!=="19.2.3")throw Error(n(527,Nv,"19.2.3"));U.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var MC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Zr=lu.inject(MC),wn=lu}catch{}}return $o.createRoot=function(s,a){if(!r(s))throw Error(n(299));var c=!1,h="",g=Hb,y=Vb,A=Gb;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=xv(s,1,!1,null,null,c,h,null,g,y,A,Ov),s[Ta]=a.current,xf(s),new Hf(a)},$o.hydrateRoot=function(s,a,c){if(!r(s))throw Error(n(299));var h=!1,g="",y=Hb,A=Vb,T=Gb,L=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&(L=c.formState)),a=xv(s,1,!0,a,c??null,h,g,L,y,A,T,Ov),a.context=Ev(null),c=a.current,h=Mn(),h=kh(h),g=ls(h),g.callback=null,cs(c,g,h),c=h,a.current.lanes=c,Jr(a,c),di(a),s[Ta]=a.current,xf(s),new ou(a)},$o.version="19.2.3",$o}var Xv;function IC(){if(Xv)return Xf.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xf.exports=FC(),Xf.exports}var dS=IC();var Yv="popstate";function jC(i={}){function t(n,r){let{pathname:o,search:l,hash:u}=n.location;return Dp("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:cl(r)}return UC(t,e,null,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zC(){return Math.random().toString(36).substring(2,10)}function Wv(i,t){return{usr:i.state,key:i.key,idx:t}}function Dp(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Br(t):t,state:e,key:t&&t.key||n||zC()}}function cl({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Br(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function UC(i,t,e,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let E=p(),x=E==null?null:E-f;f=E,d&&d({action:u,location:w.location,delta:x})}function b(E,x){u="PUSH";let C=Dp(w.location,E,x);f=p()+1;let _=Wv(C,f),k=w.createHref(C);try{l.pushState(_,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(k)}o&&d&&d({action:u,location:w.location,delta:1})}function v(E,x){u="REPLACE";let C=Dp(w.location,E,x);f=p();let _=Wv(C,f),k=w.createHref(C);l.replaceState(_,"",k),o&&d&&d({action:u,location:w.location,delta:0})}function S(E){return HC(E)}let w={get action(){return u},get location(){return i(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Yv,m),d=E,()=>{r.removeEventListener(Yv,m),d=null}},createHref(E){return t(r,E)},createURL:S,encodeLocation(E){let x=S(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:v,go(E){return l.go(E)}};return w}function HC(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:cl(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function fS(i,t,e="/"){return VC(i,t,e,!1)}function VC(i,t,e,n){let r=typeof t=="string"?Br(t):t,o=Wi(r.pathname||"/",e);if(o==null)return null;let l=pS(i);GC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=e_(o);u=JC(l[d],f,n)}return u}function pS(i,t=[],e=[],n="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;oe(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let m=Xi([n,p.relativePath]),b=e.concat(p);l.children&&l.children.length>0&&(oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pS(l.children,t,b,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:ZC(m,l.index),routesMeta:b})};return i.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of mS(l.path))o(l,u,!0,d)}),t}function mS(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=mS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>i.startsWith("/")&&d===""?"/":d)}function GC(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:QC(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var $C=/^:[\w-]+$/,qC=3,XC=2,YC=1,WC=10,KC=-2,Kv=i=>i==="*";function ZC(i,t){let e=i.split("/"),n=e.length;return e.some(Kv)&&(n+=KC),t&&(n+=XC),e.filter(r=>!Kv(r)).reduce((r,o)=>r+($C.test(o)?qC:o===""?YC:WC),n)}function QC(i,t){return i.length===t.length&&i.slice(0,-1).every((n,r)=>n===t[r])?i[i.length-1]-t[t.length-1]:0}function JC(i,t,e=!1){let{routesMeta:n}=i,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=Bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&e&&!n[n.length-1].route.index&&(m=Bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Xi([o,m.pathname]),pathnameBase:a_(Xi([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=Xi([o,m.pathnameBase]))}return l}function Bu(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=t_(i.path,i.caseSensitive,i.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let S=u[b]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[b];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:i}}function t_(i,t=!1,e=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function e_(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Wi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n_=i=>gS.test(i);function i_(i,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof i=="string"?Br(i):i,o;if(e)if(n_(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=Zv(e.substring(1),"/"):o=Zv(e,t)}else o=t;return{pathname:o,search:r_(n),hash:o_(r)}}function Zv(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Zf(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s_(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function bm(i){let t=s_(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function vm(i,t,e,n=!1){let r;typeof i=="string"?r=Br(i):(r={...i},oe(!r.pathname||!r.pathname.includes("?"),Zf("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),Zf("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),Zf("#","search","hash",r)));let o=i===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let m=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;r.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=i_(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Xi=i=>i.join("/").replace(/\/\/+/g,"/"),a_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),r_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,o_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,l_=class{constructor(i,t,e,n=!1){this.status=i,this.statusText=t||"",this.internal=n,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function c_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function u_(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bS(i,t){let e=i;if(typeof e!="string"||!gS.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let n=e,r=!1;if(yS)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Wi(l.pathname,t);l.origin===o.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{Qn(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var h_=["GET",...vS];new Set(h_);var Fr=M.createContext(null);Fr.displayName="DataRouter";var rh=M.createContext(null);rh.displayName="DataRouterState";var d_=M.createContext(!1),wS=M.createContext({isTransitioning:!1});wS.displayName="ViewTransition";var f_=M.createContext(new Map);f_.displayName="Fetchers";var p_=M.createContext(null);p_.displayName="Await";var On=M.createContext(null);On.displayName="Navigation";var Al=M.createContext(null);Al.displayName="Location";var Ci=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var wm=M.createContext(null);wm.displayName="RouteError";var AS="REACT_ROUTER_ERROR",m_="REDIRECT",g_="ROUTE_ERROR_RESPONSE";function y_(i){if(i.startsWith(`${AS}:${m_}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function b_(i){if(i.startsWith(`${AS}:${g_}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new l_(t.status,t.statusText,t.data)}catch{}}function v_(i,{relative:t}={}){oe(Ir(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=M.useContext(On),{hash:r,pathname:o,search:l}=xl(i,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Xi([e,o])),n.createHref({pathname:u,search:l,hash:r})}function Ir(){return M.useContext(Al)!=null}function Ns(){return oe(Ir(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Al).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(i){M.useContext(On).static||M.useLayoutEffect(i)}function Sl(){let{isDataRoute:i}=M.useContext(Ci);return i?L_():w_()}function w_(){oe(Ir(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(Fr),{basename:t,navigator:e}=M.useContext(On),{matches:n}=M.useContext(Ci),{pathname:r}=Ns(),o=JSON.stringify(bm(n)),l=M.useRef(!1);return xS(()=>{l.current=!0}),M.useCallback((d,f={})=>{if(Qn(l.current,SS),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=vm(d,JSON.parse(o),r,f.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Xi([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,i])}M.createContext(null);function xl(i,{relative:t}={}){let{matches:e}=M.useContext(Ci),{pathname:n}=Ns(),r=JSON.stringify(bm(e));return M.useMemo(()=>vm(i,JSON.parse(r),n,t==="path"),[i,r,n,t])}function A_(i,t){return ES(i,t)}function ES(i,t,e,n,r){oe(Ir(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(On),{matches:l}=M.useContext(Ci),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";CS(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Ns(),v;if(t){let C=typeof t=="string"?Br(t):t;oe(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=b;let S=v.pathname||"/",w=S;if(p!=="/"){let C=p.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=fS(i,{pathname:w});Qn(m||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=C_(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Xi([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Xi([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,e,n,r);return t&&x?M.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function S_(){let i=k_(),t=c_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:r},e):null,l)}var x_=M.createElement(S_,null),TS=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const e=b_(i.digest);e&&(i=e)}let t=i!==void 0?M.createElement(Ci.Provider,{value:this.props.routeContext},M.createElement(wm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?M.createElement(E_,{error:i},t):t}};TS.contextType=d_;var Qf=new WeakMap;function E_({children:i,error:t}){let{basename:e}=M.useContext(On);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=y_(t.digest);if(n){let r=Qf.get(t);if(r)throw r;let o=bS(n.location,e);if(yS&&!Qf.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw Qf.set(t,l),l}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return i}function T_({routeContext:i,match:t,children:e}){let n=M.useContext(Fr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Ci.Provider,{value:i},e)}function C_(i,t=[],e=null,n=null,r=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let o=i,l=e?.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(e)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:b,errors:v}=e,S=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&n?(p,m)=>{n(p,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:u_(e.matches),errorInfo:m})}:void 0;return o.reduceRight((p,m,b)=>{let v,S=!1,w=null,E=null;e&&(v=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||x_,u&&(d<0&&b===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):d===b&&(S=!0,E=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,b+1)),C=()=>{let _;return v?_=w:S?_=E:m.route.Component?_=M.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,M.createElement(T_,{match:m,routeContext:{outlet:p,matches:x,isDataRoute:e!=null},children:_})};return e&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?M.createElement(TS,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:f}):C()},null)}function Am(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function __(i){let t=M.useContext(Fr);return oe(t,Am(i)),t}function M_(i){let t=M.useContext(rh);return oe(t,Am(i)),t}function R_(i){let t=M.useContext(Ci);return oe(t,Am(i)),t}function Sm(i){let t=R_(i),e=t.matches[t.matches.length-1];return oe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function D_(){return Sm("useRouteId")}function k_(){let i=M.useContext(wm),t=M_("useRouteError"),e=Sm("useRouteError");return i!==void 0?i:t.errors?.[e]}function L_(){let{router:i}=__("useNavigate"),t=Sm("useNavigate"),e=M.useRef(!1);return xS(()=>{e.current=!0}),M.useCallback(async(r,o={})=>{Qn(e.current,SS),e.current&&(typeof r=="number"?await i.navigate(r):await i.navigate(r,{fromRouteId:t,...o}))},[i,t])}var Qv={};function CS(i,t,e){!t&&!Qv[i]&&(Qv[i]=!0,Qn(!1,e))}M.memo(P_);function P_({routes:i,future:t,state:e,onError:n}){return ES(i,void 0,e,n,t)}function O_({to:i,replace:t,state:e,relative:n}){oe(Ir(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=M.useContext(On);Qn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Ci),{pathname:l}=Ns(),u=Sl(),d=vm(i,bm(o),l,n==="path"),f=JSON.stringify(d);return M.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:n})},[u,f,n,t,e]),null}function Qo(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N_({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){oe(!Ir(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof e=="string"&&(e=Br(e));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:v="default"}=e,S=M.useMemo(()=>{let w=Wi(f,u);return w==null?null:{location:{pathname:w,search:p,hash:m,state:b,key:v},navigationType:n}},[u,f,p,m,b,v,n]);return Qn(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(On.Provider,{value:d},M.createElement(Al.Provider,{children:t,value:S}))}function B_({children:i,location:t}){return A_(kp(i),t)}function kp(i,t=[]){let e=[];return M.Children.forEach(i,(n,r)=>{if(!M.isValidElement(n))return;let o=[...t,r];if(n.type===M.Fragment){e.push.apply(e,kp(n.props.children,o));return}oe(n.type===Qo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=kp(n.props.children,o)),e.push(l)}),e}var Tu="get",Cu="application/x-www-form-urlencoded";function oh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function F_(i){return oh(i)&&i.tagName.toLowerCase()==="button"}function I_(i){return oh(i)&&i.tagName.toLowerCase()==="form"}function j_(i){return oh(i)&&i.tagName.toLowerCase()==="input"}function z_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function U_(i,t){return i.button===0&&(!t||t==="_self")&&!z_(i)}var cu=null;function H_(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var V_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(i){return i!=null&&!V_.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):i}function G_(i,t){let e,n,r,o,l;if(I_(i)){let u=i.getAttribute("action");n=u?Wi(u,t):null,e=i.getAttribute("method")||Tu,r=Jf(i.getAttribute("enctype"))||Cu,o=new FormData(i)}else if(F_(i)||j_(i)&&(i.type==="submit"||i.type==="image")){let u=i.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||u.getAttribute("action");if(n=d?Wi(d,t):null,e=i.getAttribute("formmethod")||u.getAttribute("method")||Tu,r=Jf(i.getAttribute("formenctype"))||Jf(u.getAttribute("enctype"))||Cu,o=new FormData(u,i),!H_()){let{name:f,type:p,value:m}=i;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,m)}}else{if(oh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Tu,n=null,r=Cu,l=i}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function $_(i,t,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:t&&Wi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function q_(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Y_(i,t,e){let n=await Promise.all(i.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await q_(o,e);return l.links?l.links():[]}return[]}));return Q_(n.flat(1).filter(X_).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Jv(i,t,e,n,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function W_(i,t,{includeHydrateFallback:e}={}){return K_(i.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function K_(i){return[...new Set(i)]}function Z_(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function Q_(i,t){let e=new Set;return new Set(t),i.reduce((n,r)=>{let o=JSON.stringify(Z_(r));return e.has(o)||(e.add(o),n.push({key:o,link:r})),n},[])}function _S(){let i=M.useContext(Fr);return xm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function J_(){let i=M.useContext(rh);return xm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Em=M.createContext(void 0);Em.displayName="FrameworkContext";function MS(){let i=M.useContext(Em);return xm(i,"You must render this element inside a <HydratedRouter> element"),i}function tM(i,t){let e=M.useContext(Em),[n,r]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,b=M.useRef(null);M.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let w=x=>{x.forEach(C=>{l(C.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[i]),M.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{r(!0)},S=()=>{r(!1),l(!1)};return e?i!=="intent"?[o,b,{}]:[o,b,{onFocus:qo(u,v),onBlur:qo(d,S),onMouseEnter:qo(f,v),onMouseLeave:qo(p,S),onTouchStart:qo(m,v)}]:[!1,b,{}]}function qo(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function eM({page:i,...t}){let{router:e}=_S(),n=M.useMemo(()=>fS(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?M.createElement(iM,{page:i,matches:n,...t}):null}function nM(i){let{manifest:t,routeModules:e}=MS(),[n,r]=M.useState([]);return M.useEffect(()=>{let o=!1;return Y_(i,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[i,t,e]),n}function iM({page:i,matches:t,...e}){let n=Ns(),{future:r,manifest:o,routeModules:l}=MS(),{basename:u}=_S(),{loaderData:d,matches:f}=J_(),p=M.useMemo(()=>Jv(i,t,f,o,n,"data"),[i,t,f,o,n]),m=M.useMemo(()=>Jv(i,t,f,o,n,"assets"),[i,t,f,o,n]),b=M.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let w=new Set,E=!1;if(t.forEach(C=>{let _=o.routes[C.route.id];!_||!_.hasLoader||(!p.some(k=>k.route.id===C.route.id)&&C.route.id in d&&l[C.route.id]?.shouldRevalidate||_.hasClientLoader?E=!0:w.add(C.route.id))}),w.size===0)return[];let x=$_(i,u,r.unstable_trailingSlashAwareDataRequests,"data");return E&&w.size>0&&x.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,n,o,p,t,i,l]),v=M.useMemo(()=>W_(m,o),[m,o]),S=nM(m);return M.createElement(M.Fragment,null,b.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),S.map(({key:w,link:E})=>M.createElement("link",{key:w,nonce:e.nonce,...E})))}function sM(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aM&&(window.__reactRouterVersion="7.12.0")}catch{}function rM({basename:i,children:t,unstable_useTransitions:e,window:n}){let r=M.useRef();r.current==null&&(r.current=jC({window:n,v5Compat:!0}));let o=r.current,[l,u]=M.useState({action:o.action,location:o.location}),d=M.useCallback(f=>{e===!1?u(f):M.startTransition(()=>u(f))},[e]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(N_,{basename:i,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=M.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...v},S){let{basename:w,unstable_useTransitions:E}=M.useContext(On),x=typeof f=="string"&&RS.test(f),C=bS(f,w);f=C.to;let _=v_(f,{relative:r}),[k,D,N]=tM(n,v),P=uM(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:E});function I(W){t&&t(W),W.defaultPrevented||P(W)}let V=M.createElement("a",{...v,...N,href:C.absoluteURL||_,onClick:C.isExternal||o?t:I,ref:sM(S,D),target:d,"data-discover":!x&&e==="render"?"true":void 0});return k&&!x?M.createElement(M.Fragment,null,V,M.createElement(eM,{page:_})):V});DS.displayName="Link";var oM=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=xl(l,{relative:f.relative}),b=Ns(),v=M.useContext(rh),{navigator:S,basename:w}=M.useContext(On),E=v!=null&&mM(m)&&u===!0,x=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,C=b.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(C=C.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&w&&(_=Wi(_,w)||_);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=C===x||!r&&C.startsWith(x)&&C.charAt(k)==="/",N=_!=null&&(_===x||!r&&_.startsWith(x)&&_.charAt(x.length)==="/"),P={isActive:D,isPending:N,isTransitioning:E},I=D?t:void 0,V;typeof n=="function"?V=n(P):V=[n,D?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(P):o;return M.createElement(DS,{...f,"aria-current":I,className:V,ref:p,style:W,to:l,viewTransition:u},typeof d=="function"?d(P):d)});oM.displayName="NavLink";var lM=M.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:o,method:l=Tu,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...v},S)=>{let{unstable_useTransitions:w}=M.useContext(On),E=fM(),x=pM(u,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&RS.test(u),k=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,P=N?.getAttribute("formmethod")||l,I=()=>E(N||D.currentTarget,{fetcherKey:t,method:P,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b});w&&e!==!1?M.startTransition(()=>I()):I()};return M.createElement("form",{ref:S,method:C,action:x,onSubmit:n?d:k,...v,"data-discover":!_&&i==="render"?"true":void 0})});lM.displayName="Form";function cM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(i){let t=M.useContext(Fr);return oe(t,cM(i)),t}function uM(i,{target:t,replace:e,state:n,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Sl(),p=Ns(),m=xl(i,{relative:o});return M.useCallback(b=>{if(U_(b,t)){b.preventDefault();let v=e!==void 0?e:cl(p)===cl(m),S=()=>f(i,{replace:v,state:n,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?M.startTransition(()=>S()):S()}},[p,f,m,e,n,t,i,r,o,l,u,d])}var hM=0,dM=()=>`__${String(++hM)}__`;function fM(){let{router:i}=kS("useSubmit"),{basename:t}=M.useContext(On),e=D_(),n=i.fetch,r=i.navigate;return M.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:m}=G_(o,t);if(l.navigate===!1){let b=l.fetcherKey||dM();await n(b,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,t,e])}function pM(i,{relative:t}={}){let{basename:e}=M.useContext(On),n=M.useContext(Ci);oe(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...xl(i||".",{relative:t})},l=Ns();if(i==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!i||i===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Xi([e,o.pathname])),cl(o)}function mM(i,{relative:t}={}){let e=M.useContext(wS);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kS("useViewTransitionState"),r=xl(i,{relative:t});if(!e.isTransitioning)return!1;let o=Wi(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Wi(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Bu(r.pathname,l)!=null||Bu(r.pathname,o)!=null}const LS=M.createContext(),gM={isConfigured:!1,isActive:!1,totalTime:0,goal:"",slides:[],currentSlideIndex:0,extensionsUsed:0,isPanicMode:!1,startTime:null},yM=(i,t)=>{switch(t.type){case"SET_CONFIG":return{...i,totalTime:t.payload.totalTime,goal:t.payload.goal,isConfigured:!0};case"UPDATE_CONFIG":return{...i,totalTime:t.payload.totalTime,goal:t.payload.goal,isConfigured:!0};case"LOAD_SLIDES":return{...i,slides:t.payload.slides.map((l,u)=>({...l,id:u,status:"pending",timeSpent:0,extensions:0})),currentSlideIndex:0};case"START_SESSION":return{...i,slides:t.payload.slides||i.slides,totalTime:t.payload.totalTime||i.totalTime,startTime:t.payload.startTime||Date.now(),isActive:!0,isConfigured:!0,currentSlideIndex:0};case"UPDATE_SLIDE_DIFFICULTY":const{slideId:e,difficulty:n}=t.payload;let r;typeof n=="number"?r=n:r={easy:45,medium:120,hard:240}[n]||60;const o=i.isPanicMode?.8:1;return{...i,slides:i.slides.map(l=>l.id===e?{...l,difficulty:n,timeAllocated:Math.floor(r*o)}:l)};case"NEXT_SLIDE":return{...i,slides:i.slides.map((l,u)=>u===i.currentSlideIndex?{...l,status:"completed"}:l),currentSlideIndex:Math.min(i.currentSlideIndex+1,i.slides.length-1)};case"USE_EXTENSION":return{...i,extensionsUsed:i.extensionsUsed+1,isPanicMode:i.extensionsUsed+1>3?!0:i.isPanicMode};default:return i}},bM=({children:i})=>{const[t,e]=M.useReducer(yM,gM);return R.jsx(LS.Provider,{value:{state:t,dispatch:e},children:i})},Tm=()=>{const i=M.useContext(LS);if(!i)throw new Error("useSession must be used within a SessionProvider");return i};const vM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),tw=i=>{const t=wM(i);return t.charAt(0).toUpperCase()+t.slice(1)},PS=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),AM=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var SM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xM=M.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...u},d)=>M.createElement("svg",{ref:d,...SM,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:PS("lucide",r),...!o&&!AM(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>M.createElement(f,p)),...Array.isArray(o)?o:[o]]));const we=(i,t)=>{const e=M.forwardRef(({className:n,...r},o)=>M.createElement(xM,{ref:o,iconNode:t,className:PS(`lucide-${vM(tw(i))}`,`lucide-${i}`,n),...r}));return e.displayName=tw(i),e};const EM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TM=we("arrow-left",EM);const CM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],El=we("arrow-right",CM);const _M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],MM=we("circle-alert",_M);const RM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cm=we("circle-check-big",RM);const DM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rr=we("clock",DM);const kM=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],LM=we("facebook",kM);const PM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],OM=we("file-check",PM);const NM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BM=we("file-text",NM);const FM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],IM=we("instagram",FM);const jM=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zM=we("pen-line",jM);const UM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],HM=we("refresh-cw",UM);const VM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GM=we("rotate-ccw",VM);const $M=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],OS=we("sparkles",$M);const qM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],XM=we("trending-up",qM);const YM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],WM=we("trophy",YM);const KM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ZM=we("twitter",KM);const QM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],JM=we("upload",QM);const tR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eR=we("user",tR);const nR=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],iR=we("watch",nR);const sR=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],aR=we("youtube",sR);const rR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oR=we("zap",rR);function lR({onFileSelect:i}){const[t,e]=M.useState(!1),[n,r]=M.useState(""),o=M.useRef(null),l=m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?e(!0):m.type==="dragleave"&&e(!1)},u=m=>["application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(m.type)?m.type.includes("powerpoint")||m.type.includes("presentation")?(r("PowerPoint files need to be converted to PDF first. Please save your presentation as PDF and upload again."),!1):(r(""),!0):(r("Please upload a PDF or PowerPoint file."),!1),d=m=>{if(m.preventDefault(),m.stopPropagation(),e(!1),m.dataTransfer.files&&m.dataTransfer.files[0]){const b=m.dataTransfer.files[0];u(b)&&i(b)}},f=m=>{if(m.preventDefault(),m.target.files&&m.target.files[0]){const b=m.target.files[0];u(b)&&i(b)}},p=()=>{o.current.click()};return R.jsxs("div",{className:`upload-dropzone ${t?"drag-active":""}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:d,onClick:p,children:[R.jsx("input",{ref:o,type:"file",accept:".pdf,.ppt,.pptx",onChange:f,style:{display:"none"}}),R.jsx("div",{className:"upload-icon",children:R.jsx(JM,{size:36,strokeWidth:1.5})}),R.jsxs("p",{className:"upload-text",children:["Choose a file or drag &",R.jsx("br",{}),"drop it here"]}),R.jsx("p",{className:"upload-subtext",children:"PDF or PowerPoint formats, up to 200MB"}),n&&R.jsx("div",{style:{position:"absolute",bottom:"1rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:600},children:n})]})}const _m=M.createContext({});function Mm(i){const t=M.useRef(null);return t.current===null&&(t.current=i()),t.current}const NS=typeof window<"u",BS=NS?M.useLayoutEffect:M.useEffect,lh=M.createContext(null);function Rm(i,t){i.indexOf(t)===-1&&i.push(t)}function Fu(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ei=(i,t,e)=>e>t?t:e<i?i:e;let Dm=()=>{};const Ki={},FS=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function IS(i){return typeof i=="object"&&i!==null}const jS=i=>/^0[^.\s]+$/u.test(i);function km(i){let t;return()=>(t===void 0&&(t=i()),t)}const Zn=i=>i,cR=(i,t)=>e=>t(i(e)),Tl=(...i)=>i.reduce(cR),ul=(i,t,e)=>{const n=t-i;return n===0?1:(e-i)/n};class Lm{constructor(){this.subscriptions=[]}add(t){return Rm(this.subscriptions,t),()=>Fu(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=i=>i*1e3,Kn=i=>i/1e3;function zS(i,t){return t?i*(1e3/t):0}const US=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,uR=1e-7,hR=12;function dR(i,t,e,n,r){let o,l,u=0;do l=t+(e-t)/2,o=US(l,n,r)-i,o>0?e=l:t=l;while(Math.abs(o)>uR&&++u<hR);return l}function Cl(i,t,e,n){if(i===t&&e===n)return Zn;const r=o=>dR(o,0,1,i,e);return o=>o===0||o===1?o:US(r(o),t,n)}const HS=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,VS=i=>t=>1-i(1-t),GS=Cl(.33,1.53,.69,.99),Pm=VS(GS),$S=HS(Pm),qS=i=>(i*=2)<1?.5*Pm(i):.5*(2-Math.pow(2,-10*(i-1))),Om=i=>1-Math.sin(Math.acos(i)),XS=VS(Om),YS=HS(Om),fR=Cl(.42,0,1,1),pR=Cl(0,0,.58,1),WS=Cl(.42,0,.58,1),mR=i=>Array.isArray(i)&&typeof i[0]!="number",KS=i=>Array.isArray(i)&&typeof i[0]=="number",gR={linear:Zn,easeIn:fR,easeInOut:WS,easeOut:pR,circIn:Om,circInOut:YS,circOut:XS,backIn:Pm,backInOut:$S,backOut:GS,anticipate:qS},yR=i=>typeof i=="string",ew=i=>{if(KS(i)){Dm(i.length===4);const[t,e,n,r]=i;return Cl(t,e,n,r)}else if(yR(i))return gR[i];return i},uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bR(i,t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),i()),p(u)}const f={schedule:(p,m=!1,b=!1)=>{const S=b&&r?e:n;return m&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(u=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(p))}};return f}const vR=40;function ZS(i,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=uu.reduce((_,k)=>(_[k]=bR(o),_),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:b,render:v,postRender:S}=l,w=()=>{const _=Ki.useManualTiming?r.timestamp:performance.now();e=!1,Ki.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(_-r.timestamp,vR),1)),r.timestamp=_,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),p.process(r),m.process(r),b.process(r),v.process(r),S.process(r),r.isProcessing=!1,e&&t&&(n=!1,i(w))},E=()=>{e=!0,n=!0,r.isProcessing||i(w)};return{schedule:uu.reduce((_,k)=>{const D=l[k];return _[k]=(N,P=!1,I=!1)=>(e||E(),D.schedule(N,P,I)),_},{}),cancel:_=>{for(let k=0;k<uu.length;k++)l[uu[k]].cancel(_)},state:r,steps:l}}const{schedule:Jt,cancel:Ls,state:Ge,steps:tp}=ZS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let _u;function wR(){_u=void 0}const en={now:()=>(_u===void 0&&en.set(Ge.isProcessing||Ki.useManualTiming?Ge.timestamp:performance.now()),_u),set:i=>{_u=i,queueMicrotask(wR)}},QS=i=>t=>typeof t=="string"&&t.startsWith(i),JS=QS("--"),AR=QS("var(--"),Nm=i=>AR(i)?SR.test(i.split("/*")[0].trim()):!1,SR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function nw(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const jr={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},hl={...jr,transform:i=>Ei(0,1,i)},hu={...jr,default:1},il=i=>Math.round(i*1e5)/1e5,Bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xR(i){return i==null}const ER=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fm=(i,t)=>e=>!!(typeof e=="string"&&ER.test(e)&&e.startsWith(i)||t&&!xR(e)&&Object.prototype.hasOwnProperty.call(e,t)),t1=(i,t,e)=>n=>{if(typeof n!="string")return n;const[r,o,l,u]=n.match(Bm);return{[i]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},TR=i=>Ei(0,255,i),ep={...jr,transform:i=>Math.round(TR(i))},la={test:Fm("rgb","red"),parse:t1("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:n=1})=>"rgba("+ep.transform(i)+", "+ep.transform(t)+", "+ep.transform(e)+", "+il(hl.transform(n))+")"};function CR(i){let t="",e="",n="",r="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Lp={test:Fm("#"),parse:CR,transform:la.transform},_l=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Ts=_l("deg"),xi=_l("%"),ot=_l("px"),_R=_l("vh"),MR=_l("vw"),iw={...xi,parse:i=>xi.parse(i)/100,transform:i=>xi.transform(i*100)},pr={test:Fm("hsl","hue"),parse:t1("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(i)+", "+xi.transform(il(t))+", "+xi.transform(il(e))+", "+il(hl.transform(n))+")"},Me={test:i=>la.test(i)||Lp.test(i)||pr.test(i),parse:i=>la.test(i)?la.parse(i):pr.test(i)?pr.parse(i):Lp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?la.transform(i):pr.transform(i),getAnimatableNone:i=>{const t=Me.parse(i);return t.alpha=0,Me.transform(t)}},RR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DR(i){return isNaN(i)&&typeof i=="string"&&(i.match(Bm)?.length||0)+(i.match(RR)?.length||0)>0}const e1="number",n1="color",kR="var",LR="var(",sw="${}",PR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(i){const t=i.toString(),e=[],n={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(PR,d=>(Me.test(d)?(n.color.push(o),r.push(n1),e.push(Me.parse(d))):d.startsWith(LR)?(n.var.push(o),r.push(kR),e.push(d)):(n.number.push(o),r.push(e1),e.push(parseFloat(d))),++o,sw)).split(sw);return{values:e,split:u,indexes:n,types:r}}function i1(i){return dl(i).values}function s1(i){const{split:t,types:e}=dl(i),n=t.length;return r=>{let o="";for(let l=0;l<n;l++)if(o+=t[l],r[l]!==void 0){const u=e[l];u===e1?o+=il(r[l]):u===n1?o+=Me.transform(r[l]):o+=r[l]}return o}}const OR=i=>typeof i=="number"?0:Me.test(i)?Me.getAnimatableNone(i):i;function NR(i){const t=i1(i);return s1(i)(t.map(OR))}const Ps={test:DR,parse:i1,createTransformer:s1,getAnimatableNone:NR};function np(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function BR({hue:i,saturation:t,lightness:e,alpha:n}){i/=360,t/=100,e/=100;let r=0,o=0,l=0;if(!t)r=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=np(d,u,i+1/3),o=np(d,u,i),l=np(d,u,i-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function Iu(i,t){return e=>e>0?t:i}const ue=(i,t,e)=>i+(t-i)*e,ip=(i,t,e)=>{const n=i*i,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},FR=[Lp,la,pr],IR=i=>FR.find(t=>t.test(i));function aw(i){const t=IR(i);if(!t)return!1;let e=t.parse(i);return t===pr&&(e=BR(e)),e}const rw=(i,t)=>{const e=aw(i),n=aw(t);if(!e||!n)return Iu(i,t);const r={...e};return o=>(r.red=ip(e.red,n.red,o),r.green=ip(e.green,n.green,o),r.blue=ip(e.blue,n.blue,o),r.alpha=ue(e.alpha,n.alpha,o),la.transform(r))},Pp=new Set(["none","hidden"]);function jR(i,t){return Pp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function zR(i,t){return e=>ue(i,t,e)}function Im(i){return typeof i=="number"?zR:typeof i=="string"?Nm(i)?Iu:Me.test(i)?rw:VR:Array.isArray(i)?a1:typeof i=="object"?Me.test(i)?rw:UR:Iu}function a1(i,t){const e=[...i],n=e.length,r=i.map((o,l)=>Im(o)(o,t[l]));return o=>{for(let l=0;l<n;l++)e[l]=r[l](o);return e}}function UR(i,t){const e={...i,...t},n={};for(const r in e)i[r]!==void 0&&t[r]!==void 0&&(n[r]=Im(i[r])(i[r],t[r]));return r=>{for(const o in n)e[o]=n[o](r);return e}}function HR(i,t){const e=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=i.indexes[o][n[o]],u=i.values[l]??0;e[r]=u,n[o]++}return e}const VR=(i,t)=>{const e=Ps.createTransformer(t),n=dl(i),r=dl(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Pp.has(i)&&!r.values.length||Pp.has(t)&&!n.values.length?jR(i,t):Tl(a1(HR(n,r),r.values),e):Iu(i,t)};function r1(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?ue(i,t,e):Im(i)(i,t)}const GR=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Jt.update(t,e),stop:()=>Ls(t),now:()=>Ge.isProcessing?Ge.timestamp:en.now()}},o1=(i,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)n+=Math.round(i(o/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ju=2e4;function jm(i){let t=0;const e=50;let n=i.next(t);for(;!n.done&&t<ju;)t+=e,n=i.next(t);return t>=ju?1/0:t}function $R(i,t=100,e){const n=e({...i,keyframes:[0,t]}),r=Math.min(jm(n),ju);return{type:"keyframes",ease:o=>n.next(r*o).value/t,duration:Kn(r)}}const qR=5;function l1(i,t,e){const n=Math.max(t-qR,0);return zS(e-i(n),t-n)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function XR({duration:i=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:n=pe.mass}){let r,o,l=1-t;l=Ei(pe.minDamping,pe.maxDamping,l),i=Ei(pe.minDuration,pe.maxDuration,Kn(i)),l<1?(r=f=>{const p=f*l,m=p*i,b=p-e,v=Op(f,l),S=Math.exp(-m);return sp-b/v*S},o=f=>{const m=f*l*i,b=m*e+e,v=Math.pow(l,2)*Math.pow(f,2)*i,S=Math.exp(-m),w=Op(Math.pow(f,2),l);return(-r(f)+sp>0?-1:1)*((b-v)*S)/w}):(r=f=>{const p=Math.exp(-f*i),m=(f-e)*i+1;return-sp+p*m},o=f=>{const p=Math.exp(-f*i),m=(e-f)*(i*i);return p*m});const u=5/i,d=WR(r,o,u);if(i=oi(i),isNaN(d))return{stiffness:pe.stiffness,damping:pe.damping,duration:i};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:i}}}const YR=12;function WR(i,t,e){let n=e;for(let r=1;r<YR;r++)n=n-i(n)/t(n);return n}function Op(i,t){return i*Math.sqrt(1-t*t)}const KR=["duration","bounce"],ZR=["stiffness","damping","mass"];function ow(i,t){return t.some(e=>i[e]!==void 0)}function QR(i){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...i};if(!ow(i,ZR)&&ow(i,KR))if(i.visualDuration){const e=i.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,o=2*Ei(.05,1,1-(i.bounce||0))*Math.sqrt(r);t={...t,mass:pe.mass,stiffness:r,damping:o}}else{const e=XR(i);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function zu(i=pe.visualDuration,t=pe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:n,restDelta:r}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:b,isResolvedFromDuration:v}=QR({...e,velocity:-Kn(e.velocity||0)}),S=b||0,w=f/(2*Math.sqrt(d*p)),E=l-o,x=Kn(Math.sqrt(d/p)),C=Math.abs(E)<5;n||(n=C?pe.restSpeed.granular:pe.restSpeed.default),r||(r=C?pe.restDelta.granular:pe.restDelta.default);let _;if(w<1){const D=Op(x,w);_=N=>{const P=Math.exp(-w*x*N);return l-P*((S+w*x*E)/D*Math.sin(D*N)+E*Math.cos(D*N))}}else if(w===1)_=D=>l-Math.exp(-x*D)*(E+(S+x*E)*D);else{const D=x*Math.sqrt(w*w-1);_=N=>{const P=Math.exp(-w*x*N),I=Math.min(D*N,300);return l-P*((S+w*x*E)*Math.sinh(I)+D*E*Math.cosh(I))/D}}const k={calculatedDuration:v&&m||null,next:D=>{const N=_(D);if(v)u.done=D>=m;else{let P=D===0?S:0;w<1&&(P=D===0?oi(S):l1(_,D,N));const I=Math.abs(P)<=n,V=Math.abs(l-N)<=r;u.done=I&&V}return u.value=u.done?l:N,u},toString:()=>{const D=Math.min(jm(k),ju),N=o1(P=>k.next(D*P).value,D,30);return D+"ms "+N},toTransition:()=>{}};return k}zu.applyToOptions=i=>{const t=$R(i,100,zu);return i.ease=t.ease,i.duration=oi(t.duration),i.type="keyframes",i};function Np({keyframes:i,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const m=i[0],b={done:!1,value:m},v=I=>u!==void 0&&I<u||d!==void 0&&I>d,S=I=>u===void 0?d:d===void 0||Math.abs(u-I)<Math.abs(d-I)?u:d;let w=e*t;const E=m+w,x=l===void 0?E:l(E);x!==E&&(w=x-m);const C=I=>-w*Math.exp(-I/n),_=I=>x+C(I),k=I=>{const V=C(I),W=_(I);b.done=Math.abs(V)<=f,b.value=b.done?x:W};let D,N;const P=I=>{v(b.value)&&(D=I,N=zu({keyframes:[b.value,S(b.value)],velocity:l1(_,I,b.value),damping:r,stiffness:o,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:I=>{let V=!1;return!N&&D===void 0&&(V=!0,k(I),P(I)),D!==void 0&&I>=D?N.next(I-D):(!V&&k(I),b)}}}function JR(i,t,e){const n=[],r=e||Ki.mix||r1,o=i.length-1;for(let l=0;l<o;l++){let u=r(i[l],i[l+1]);if(t){const d=Array.isArray(t)?t[l]||Zn:t;u=Tl(d,u)}n.push(u)}return n}function tD(i,t,{clamp:e=!0,ease:n,mixer:r}={}){const o=i.length;if(Dm(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=i[0]===i[1];i[0]>i[o-1]&&(i=[...i].reverse(),t=[...t].reverse());const u=JR(t,n,r),d=u.length,f=p=>{if(l&&p<i[0])return t[0];let m=0;if(d>1)for(;m<i.length-2&&!(p<i[m+1]);m++);const b=ul(i[m],i[m+1],p);return u[m](b)};return e?p=>f(Ei(i[0],i[o-1],p)):f}function eD(i,t){const e=i[i.length-1];for(let n=1;n<=t;n++){const r=ul(0,t,n);i.push(ue(e,1,r))}}function nD(i){const t=[0];return eD(t,i.length-1),t}function iD(i,t){return i.map(e=>e*t)}function sD(i,t){return i.map(()=>t||WS).splice(0,i.length-1)}function sl({duration:i=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=mR(n)?n.map(ew):ew(n),o={done:!1,value:t[0]},l=iD(e&&e.length===t.length?e:nD(t),i),u=tD(l,t,{ease:Array.isArray(r)?r:sD(t,r)});return{calculatedDuration:i,next:d=>(o.value=u(d),o.done=d>=i,o)}}const aD=i=>i!==null;function zm(i,{repeat:t,repeatType:e="loop"},n,r=1){const o=i.filter(aD),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||n===void 0?o[u]:n}const rD={decay:Np,inertia:Np,tween:sl,keyframes:sl,spring:zu};function c1(i){typeof i.type=="string"&&(i.type=rD[i.type])}class Um{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const oD=i=>i/100;class Hm extends Um{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==en.now()&&this.tick(en.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;c1(t);const{type:e=sl,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=e||sl;d!==sl&&typeof u[0]!="number"&&(this.mixKeyframes=Tl(oD,r1(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=jm(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:b,repeatDelay:v,type:S,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const x=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let _=this.currentTime,k=n;if(m){const I=Math.min(this.currentTime,r)/u;let V=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&V--,V=Math.min(V,m+1),V%2&&(b==="reverse"?(W=1-W,v&&(W-=v/u)):b==="mirror"&&(k=l)),_=Ei(0,1,W)*u}const D=C?{done:!1,value:p[0]}:k.next(_);o&&(D.value=o(D.value));let{done:N}=D;!C&&d!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&S!==Np&&(D.value=zm(p,this.options,E,this.speed)),w&&w(D.value),P&&this.finish(),D}then(t,e){return this.finished.then(t,e)}get duration(){return Kn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(this.currentTime)}set time(t){t=oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(en.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=GR,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function lD(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const ca=i=>i*180/Math.PI,Bp=i=>{const t=ca(Math.atan2(i[1],i[0]));return Fp(t)},cD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Bp,rotateZ:Bp,skewX:i=>ca(Math.atan(i[1])),skewY:i=>ca(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Fp=i=>(i=i%360,i<0&&(i+=360),i),lw=Bp,cw=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),uw=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),uD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cw,scaleY:uw,scale:i=>(cw(i)+uw(i))/2,rotateX:i=>Fp(ca(Math.atan2(i[6],i[5]))),rotateY:i=>Fp(ca(Math.atan2(-i[2],i[0]))),rotateZ:lw,rotate:lw,skewX:i=>ca(Math.atan(i[4])),skewY:i=>ca(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Ip(i){return i.includes("scale")?1:0}function jp(i,t){if(!i||i==="none")return Ip(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(e)n=uD,r=e;else{const u=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=cD,r=u}if(!r)return Ip(t);const o=n[t],l=r[1].split(",").map(dD);return typeof o=="function"?o(l):l[o]}const hD=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return jp(e,t)};function dD(i){return parseFloat(i.trim())}const zr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ur=new Set(zr),hw=i=>i===jr||i===ot,fD=new Set(["x","y","z"]),pD=zr.filter(i=>!fD.has(i));function mD(i){const t=[];return pD.forEach(e=>{const n=i.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const _s={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>jp(t,"x"),y:(i,{transform:t})=>jp(t,"y")};_s.translateX=_s.x;_s.translateY=_s.y;const pa=new Set;let zp=!1,Up=!1,Hp=!1;function u1(){if(Up){const i=Array.from(pa).filter(n=>n.needsMeasurement),t=new Set(i.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=mD(n);r.length&&(e.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Up=!1,zp=!1,pa.forEach(i=>i.complete(Hp)),pa.clear()}function h1(){pa.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Up=!0)})}function gD(){Hp=!0,h1(),u1(),Hp=!1}class Vm{constructor(t,e,n,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),zp||(zp=!0,Jt.read(h1),Jt.resolveKeyframes(u1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(t[0]===null){const o=r?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&e){const u=n.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}lD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yD=i=>i.startsWith("--");function bD(i,t,e){yD(t)?i.style.setProperty(t,e):i.style[t]=e}const vD=km(()=>window.ScrollTimeline!==void 0),wD={};function AD(i,t){const e=km(i);return()=>wD[t]??e()}const d1=AD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jo=([i,t,e,n])=>`cubic-bezier(${i}, ${t}, ${e}, ${n})`,dw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jo([0,.65,.55,1]),circOut:Jo([.55,0,1,.45]),backIn:Jo([.31,.01,.66,-.59]),backOut:Jo([.33,1.53,.69,.99])};function f1(i,t){if(i)return typeof i=="function"?d1()?o1(i,t):"ease-out":KS(i)?Jo(i):Array.isArray(i)?i.map(e=>f1(e,t)||dw.easeOut):dw[i]}function SD(i,t,e,{delay:n=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const m=f1(u,r);Array.isArray(m)&&(p.easing=m);const b={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),i.animate(p,b)}function p1(i){return typeof i=="function"&&"applyToOptions"in i}function xD({type:i,...t}){return p1(i)&&d1()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class m1 extends Um{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,Dm(typeof t.type!="string");const f=xD(t);this.animation=SD(e,n,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=zm(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):bD(e,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&vD()?(this.animation.timeline=t,Zn):e(this)}}const g1={anticipate:qS,backInOut:$S,circInOut:YS};function ED(i){return i in g1}function TD(i){typeof i.ease=="string"&&ED(i.ease)&&(i.ease=g1[i.ease])}const ap=10;class CD extends m1{constructor(t){TD(t),c1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Hm({...l,autoplay:!1}),d=Math.max(ap,en.now()-this.startTime),f=Ei(0,ap,d-ap);e.setWithVelocity(u.sample(Math.max(0,d-f)).value,u.sample(d).value,f),u.stop()}}const fw=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ps.test(i)||i==="0")&&!i.startsWith("url("));function _D(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function MD(i,t,e,n){const r=i[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=i[i.length-1],l=fw(r,t),u=fw(o,t);return!l||!u?!1:_D(i)||(e==="spring"||p1(e))&&n}function Vp(i){i.duration=0,i.type="keyframes"}const RD=new Set(["opacity","clipPath","filter","transform"]),DD=km(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kD(i){const{motionValue:t,name:e,repeatDelay:n,repeatType:r,damping:o,type:l}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return DD()&&e&&RD.has(e)&&(e!=="transform"||!f)&&!d&&!n&&r!=="mirror"&&o!==0&&l!=="inertia"}const LD=40;class PD extends Um{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=en.now();const b={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:p,...m},v=p?.KeyframeResolver||Vm;this.keyframeResolver=new v(u,(S,w,E)=>this.onKeyframesResolved(S,w,b,!E),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:p}=n;this.resolvedAt=en.now(),MD(t,o,l,u)||((Ki.instantAnimations||!d)&&p?.(zm(t,n,e)),t[0]=t[t.length-1],Vp(n),n.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>LD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},v=!f&&kD(b),S=b.motionValue?.owner?.current,w=v?new CD({...b,element:S}):new Hm(b);w.finished.then(()=>{this.notifyFinished()}).catch(Zn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function y1(i,t,e,n=0,r=1){const o=Array.from(i).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=i.size,u=(l-1)*n;return typeof e=="function"?e(o,l):r===1?o*n:u-o*n}const OD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ND(i){const t=OD.exec(i);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function b1(i,t,e=1){const[n,r]=ND(i);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return FS(l)?parseFloat(l):l}return Nm(r)?b1(r,t,e+1):r}const BD={type:"spring",stiffness:500,damping:25,restSpeed:10},FD=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),ID={type:"keyframes",duration:.8},jD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zD=(i,{keyframes:t})=>t.length>2?ID:Ur.has(i)?i.startsWith("scale")?FD(t[1]):BD:jD,UD=i=>i!==null;function HD(i,{repeat:t,repeatType:e="loop"},n){const r=i.filter(UD),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}function v1(i,t){if(i?.inherit&&t){const{inherit:e,...n}=i;return{...t,...n}}return i}function Gm(i,t){const e=i?.[t]??i?.default??i;return e!==i?v1(e,i):e}function VD({when:i,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const $m=(i,t,e,n={},r,o)=>l=>{const u=Gm(n,i)||{},d=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-oi(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:i,motionValue:t,element:o?void 0:r};VD(u)||Object.assign(p,zD(i,p)),p.duration&&(p.duration=oi(p.duration)),p.repeatDelay&&(p.repeatDelay=oi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Vp(p),p.delay===0&&(m=!0)),(Ki.instantAnimations||Ki.skipAnimations||r?.shouldSkipAnimations)&&(m=!0,Vp(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!o&&t.get()!==void 0){const b=HD(p.keyframes,u);if(b!==void 0){Jt.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new Hm(p):new PD(p)};function pw(i){const t=[{},{}];return i?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function qm(i,t,e,n){if(typeof t=="function"){const[r,o]=pw(n);t=t(e!==void 0?e:i.custom,r,o)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[r,o]=pw(n);t=t(e!==void 0?e:i.custom,r,o)}return t}function Ar(i,t,e){const n=i.getProps();return qm(n,t,e!==void 0?e:n.custom,i)}const w1=new Set(["width","height","top","left","right","bottom",...zr]),mw=30,GD=i=>!isNaN(parseFloat(i));class $D{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=en.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=en.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Lm);const n=this.events[t].add(e);return t==="change"?()=>{n(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,mw);return zS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dr(i,t){return new $D(i,t)}const Gp=i=>Array.isArray(i);function qD(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,Dr(e))}function XD(i){return Gp(i)?i[i.length-1]||0:i}function YD(i,t){const e=Ar(i,t);let{transitionEnd:n={},transition:r={},...o}=e||{};o={...o,...n};for(const l in o){const u=XD(o[l]);qD(i,l,u)}}const We=i=>!!(i&&i.getVelocity);function WD(i){return!!(We(i)&&i.add)}function $p(i,t){const e=i.getValue("willChange");if(WD(e))return e.add(t);if(!e&&Ki.WillChange){const n=new Ki.WillChange("auto");i.addValue("willChange",n),n.add(t)}}function Xm(i){return i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const KD="framerAppearId",A1="data-"+Xm(KD);function S1(i){return i.props[A1]}function ZD({protectedKeys:i,needsAnimating:t},e){const n=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function x1(i,t,{delay:e=0,transitionOverride:n,type:r}={}){let{transition:o,transitionEnd:l,...u}=t;const d=i.getDefaultTransition();o=o?v1(o,d):d;const f=o?.reduceMotion;n&&(o=n);const p=[],m=r&&i.animationState&&i.animationState.getState()[r];for(const b in u){const v=i.getValue(b,i.latestValues[b]??null),S=u[b];if(S===void 0||m&&ZD(m,b))continue;const w={delay:e,...Gm(o||{},b)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(S)&&S===E&&!w.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const k=S1(i);if(k){const D=window.MotionHandoffAnimation(k,b,Jt);D!==null&&(w.startTime=D,x=!0)}}$p(i,b);const C=f??i.shouldReduceMotion;v.start($m(b,v,S,C&&w1.has(b)?{type:!1}:w,i,x));const _=v.animation;_&&p.push(_)}if(l){const b=()=>Jt.update(()=>{l&&YD(i,l)});p.length?Promise.all(p).then(b):b()}return p}function qp(i,t,e={}){const n=Ar(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(r=e.transitionOverride);const o=n?()=>Promise.all(x1(i,n,e)):()=>Promise.resolve(),l=i.variantChildren&&i.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=r;return QD(i,t,d,f,p,m,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function QD(i,t,e=0,n=0,r=0,o=1,l){const u=[];for(const d of i.variantChildren)d.notify("AnimationStart",t),u.push(qp(d,t,{...l,delay:e+(typeof n=="function"?0:n)+y1(i.variantChildren,d,n,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function JD(i,t,e={}){i.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(o=>qp(i,o,e));n=Promise.all(r)}else if(typeof t=="string")n=qp(i,t,e);else{const r=typeof t=="function"?Ar(i,t,e.custom):t;n=Promise.all(x1(i,r,e))}return n.then(()=>{i.notify("AnimationComplete",t)})}const tk={test:i=>i==="auto",parse:i=>i},E1=i=>t=>t.test(i),T1=[jr,ot,xi,Ts,MR,_R,tk],gw=i=>T1.find(E1(i));function ek(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||jS(i):!0}const nk=new Set(["brightness","contrast","saturate","opacity"]);function ik(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[n]=e.match(Bm)||[];if(!n)return i;const r=e.replace(n,"");let o=nk.has(t)?1:0;return n!==e&&(o*=100),t+"("+o+r+")"}const sk=/\b([a-z-]*)\(.*?\)/gu,Xp={...Ps,getAnimatableNone:i=>{const t=i.match(sk);return t?t.map(ik).join(" "):i}},yw={...jr,transform:Math.round},ak={rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:hu,scaleX:hu,scaleY:hu,scaleZ:hu,skew:Ts,skewX:Ts,skewY:Ts,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:hl,originX:iw,originY:iw,originZ:ot},Ym={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,inset:ot,insetBlock:ot,insetBlockStart:ot,insetBlockEnd:ot,insetInline:ot,insetInlineStart:ot,insetInlineEnd:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,paddingBlock:ot,paddingBlockStart:ot,paddingBlockEnd:ot,paddingInline:ot,paddingInlineStart:ot,paddingInlineEnd:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,marginBlock:ot,marginBlockStart:ot,marginBlockEnd:ot,marginInline:ot,marginInlineStart:ot,marginInlineEnd:ot,fontSize:ot,backgroundPositionX:ot,backgroundPositionY:ot,...ak,zIndex:yw,fillOpacity:hl,strokeOpacity:hl,numOctaves:yw},rk={...Ym,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Xp,WebkitFilter:Xp},C1=i=>rk[i];function _1(i,t){let e=C1(i);return e!==Xp&&(e=Ps),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const ok=new Set(["auto","none","0"]);function lk(i,t,e){let n=0,r;for(;n<i.length&&!r;){const o=i[n];typeof o=="string"&&!ok.has(o)&&dl(o).values.length&&(r=i[n]),n++}if(r&&e)for(const o of t)i[o]=_1(e,r)}class ck extends Vm{constructor(t,e,n,r,o){super(t,e,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),Nm(m))){const b=b1(m,e.current);b!==void 0&&(t[p]=b),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!w1.has(n)||t.length!==2)return;const[r,o]=t,l=gw(r),u=gw(o),d=nw(r),f=nw(o);if(d!==f&&_s[n]){this.needsMeasurement=!0;return}if(l!==u)if(hw(l)&&hw(u))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else _s[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||ek(t[r]))&&n.push(r);n.length&&lk(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_s[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=_s[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const uk=new Set(["opacity","clipPath","filter","transform"]);function M1(i,t,e){if(i==null)return[];if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const r=e?.[i]??n.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i).filter(n=>n!=null)}const R1=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function Yp(i){return IS(i)&&"offsetHeight"in i}const{schedule:Wm}=ZS(queueMicrotask,!1),ai={x:!1,y:!1};function D1(){return ai.x||ai.y}function hk(i){return i==="x"||i==="y"?ai[i]?null:(ai[i]=!0,()=>{ai[i]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function k1(i,t){const e=M1(i),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function dk(i){return!(i.pointerType==="touch"||D1())}function fk(i,t,e={}){const[n,r,o]=k1(i,e);return n.forEach(l=>{let u=!1,d=!1,f;const p=()=>{l.removeEventListener("pointerleave",S)},m=E=>{f&&(f(E),f=void 0),p()},b=E=>{u=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,m(E))},v=()=>{u=!0,window.addEventListener("pointerup",b,r),window.addEventListener("pointercancel",b,r)},S=E=>{if(E.pointerType!=="touch"){if(u){d=!0;return}m(E)}},w=E=>{if(!dk(E))return;d=!1;const x=t(l,E);typeof x=="function"&&(f=x,l.addEventListener("pointerleave",S,r))};l.addEventListener("pointerenter",w,r),l.addEventListener("pointerdown",v,r)}),o}const L1=(i,t)=>t?i===t?!0:L1(i,t.parentElement):!1,Km=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,pk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mk(i){return pk.has(i.tagName)||i.isContentEditable===!0}const gk=new Set(["INPUT","SELECT","TEXTAREA"]);function yk(i){return gk.has(i.tagName)||i.isContentEditable===!0}const Mu=new WeakSet;function bw(i){return t=>{t.key==="Enter"&&i(t)}}function rp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bk=(i,t)=>{const e=i.currentTarget;if(!e)return;const n=bw(()=>{if(Mu.has(e))return;rp(e,"down");const r=bw(()=>{rp(e,"up")}),o=()=>rp(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function vw(i){return Km(i)&&!D1()}const ww=new WeakSet;function vk(i,t,e={}){const[n,r,o]=k1(i,e),l=u=>{const d=u.currentTarget;if(!vw(u)||ww.has(u))return;Mu.add(d),e.stopPropagation&&ww.add(u);const f=t(d,u),p=(v,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",b),Mu.has(d)&&Mu.delete(d),vw(v)&&typeof f=="function"&&f(v,{success:S})},m=v=>{p(v,d===window||d===document||e.useGlobalTarget||L1(d,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",b,r)};return n.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),Yp(u)&&(u.addEventListener("focus",f=>bk(f,r)),!mk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function Zm(i){return IS(i)&&"ownerSVGElement"in i}const Ru=new WeakMap;let Du;const P1=(i,t,e)=>(n,r)=>r&&r[0]?r[0][i+"Size"]:Zm(n)&&"getBBox"in n?n.getBBox()[t]:n[e],wk=P1("inline","width","offsetWidth"),Ak=P1("block","height","offsetHeight");function Sk({target:i,borderBoxSize:t}){Ru.get(i)?.forEach(e=>{e(i,{get width(){return wk(i,t)},get height(){return Ak(i,t)}})})}function xk(i){i.forEach(Sk)}function Ek(){typeof ResizeObserver>"u"||(Du=new ResizeObserver(xk))}function Tk(i,t){Du||Ek();const e=M1(i);return e.forEach(n=>{let r=Ru.get(n);r||(r=new Set,Ru.set(n,r)),r.add(t),Du?.observe(n)}),()=>{e.forEach(n=>{const r=Ru.get(n);r?.delete(t),r?.size||Du?.unobserve(n)})}}const ku=new Set;let mr;function Ck(){mr=()=>{const i={get width(){return window.innerWidth},get height(){return window.innerHeight}};ku.forEach(t=>t(i))},window.addEventListener("resize",mr)}function _k(i){return ku.add(i),mr||Ck(),()=>{ku.delete(i),!ku.size&&typeof mr=="function"&&(window.removeEventListener("resize",mr),mr=void 0)}}function Aw(i,t){return typeof i=="function"?_k(i):Tk(i,t)}function Mk(i){return Zm(i)&&i.tagName==="svg"}const Rk=[...T1,Me,Ps],Dk=i=>Rk.find(E1(i)),Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),gr=()=>({x:Sw(),y:Sw()}),xw=()=>({min:0,max:0}),De=()=>({x:xw(),y:xw()}),kk=new WeakMap;function ch(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function fl(i){return typeof i=="string"||Array.isArray(i)}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jm=["initial",...Qm];function uh(i){return ch(i.animate)||Jm.some(t=>fl(i[t]))}function O1(i){return!!(uh(i)||i.variants)}function Lk(i,t,e){for(const n in t){const r=t[n],o=e[n];if(We(r))i.addValue(n,r);else if(We(o))i.addValue(n,Dr(r,{owner:i}));else if(o!==r)if(i.hasValue(n)){const l=i.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=i.getStaticValue(n);i.addValue(n,Dr(l!==void 0?l:r,{owner:i}))}}for(const n in e)t[n]===void 0&&i.removeValue(n);return t}const Wp={current:null},N1={current:!1},Pk=typeof window<"u";function Ok(){if(N1.current=!0,!!Pk)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wp.current=i.matches;i.addEventListener("change",t),t()}else Wp.current=!1}const Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Uu={};function B1(i){Uu=i}function Nk(){return Uu}class Bk{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,skipAnimations:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Vm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=en.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Jt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=uh(e),this.isVariantNode=O1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in b){const S=b[v];f[v]!==void 0&&We(S)&&S.set(f[v])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,kk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(N1.current||Ok(),this.shouldReduceMotion=Wp.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&uk.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:u,times:d,ease:f,duration:p}=e.accelerate,m=new m1({element:this.current,name:t,keyframes:u,times:d,ease:f,duration:oi(p)}),b=l(m);this.valueSubscriptions.set(t,()=>{b(),m.cancel()});return}const n=Ur.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uu){const e=Uu[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Ew.length;n++){const r=Ew[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=Lk(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=Dr(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(FS(n)||jS(n))?n=parseFloat(n):!Dk(n)&&Ps.test(e)&&(n=_1(t,e)),this.setBaseTarget(t,We(n)?n.get():n)),We(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const o=qm(this.props,e,this.presenceContext?.custom);o&&(n=o[t])}if(e&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!We(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Lm),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Wm.render(this.render)}}class F1 extends Bk{constructor(){super(...arguments),this.KeyframeResolver=ck}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const n=t.style;return n?n[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;We(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Bs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function I1({top:i,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:i,max:n}}}function Fk({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function Ik(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),n=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function op(i){return i===void 0||i===1}function Kp({scale:i,scaleX:t,scaleY:e}){return!op(i)||!op(t)||!op(e)}function aa(i){return Kp(i)||j1(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function j1(i){return Tw(i.x)||Tw(i.y)}function Tw(i){return i&&i!=="0%"}function Hu(i,t,e){const n=i-e,r=t*n;return e+r}function Cw(i,t,e,n,r){return r!==void 0&&(i=Hu(i,r,n)),Hu(i,e,n)+t}function Zp(i,t=0,e=1,n,r){i.min=Cw(i.min,t,e,n,r),i.max=Cw(i.max,t,e,n,r)}function z1(i,{x:t,y:e}){Zp(i.x,t.translate,t.scale,t.originPoint),Zp(i.y,e.translate,e.scale,e.originPoint)}const _w=.999999999999,Mw=1.0000000000001;function jk(i,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=e[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&br(i,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,z1(i,l)),n&&aa(o.latestValues)&&br(i,o.latestValues))}t.x<Mw&&t.x>_w&&(t.x=1),t.y<Mw&&t.y>_w&&(t.y=1)}function yr(i,t){i.min=i.min+t,i.max=i.max+t}function Rw(i,t,e,n,r=.5){const o=ue(i.min,i.max,r);Zp(i,t,e,o,n)}function br(i,t){Rw(i.x,t.x,t.scaleX,t.scale,t.originX),Rw(i.y,t.y,t.scaleY,t.scale,t.originY)}function U1(i,t){return I1(Ik(i.getBoundingClientRect(),t))}function zk(i,t,e){const n=U1(i,e),{scroll:r}=t;return r&&(yr(n.x,r.offset.x),yr(n.y,r.offset.y)),n}const Uk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hk=zr.length;function Vk(i,t,e){let n="",r=!0;for(let o=0;o<Hk;o++){const l=zr[o],u=i[l];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(l.startsWith("scale")?1:0);else{const f=parseFloat(u);d=l.startsWith("scale")?f===1:f===0}if(!d||e){const f=R1(u,Ym[l]);if(!d){r=!1;const p=Uk[l]||l;n+=`${p}(${f}) `}e&&(t[l]=f)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function tg(i,t,e){const{style:n,vars:r,transformOrigin:o}=i;let l=!1,u=!1;for(const d in t){const f=t[d];if(Ur.has(d)){l=!0;continue}else if(JS(d)){r[d]=f;continue}else{const p=R1(f,Ym[d]);d.startsWith("origin")?(u=!0,o[d]=p):n[d]=p}}if(t.transform||(l||e?n.transform=Vk(t,i.transform,e):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;n.transformOrigin=`${d} ${f} ${p}`}}function H1(i,{style:t,vars:e},n,r){const o=i.style;let l;for(l in t)o[l]=t[l];r?.applyProjectionStyles(o,n);for(l in e)o.setProperty(l,e[l])}function Dw(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const Xo={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(ot.test(i))i=parseFloat(i);else return i;const e=Dw(i,t.target.x),n=Dw(i,t.target.y);return`${e}% ${n}%`}},Gk={correct:(i,{treeScale:t,projectionDelta:e})=>{const n=i,r=Ps.parse(i);if(r.length>5)return n;const o=Ps.createTransformer(i),l=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+l]/=u,r[1+l]/=d;const f=ue(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}},Qp={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:Gk};function V1(i,{layout:t,layoutId:e}){return Ur.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!Qp[i]||i==="opacity")}function eg(i,t,e){const n=i.style,r=t?.style,o={};if(!n)return o;for(const l in n)(We(n[l])||r&&We(r[l])||V1(l,i)||e?.getValue(l)?.liveStyle!==void 0)&&(o[l]=n[l]);return o}function $k(i){return window.getComputedStyle(i)}class qk extends F1{constructor(){super(...arguments),this.type="html",this.renderInstance=H1}readValueFromInstance(t,e){if(Ur.has(e))return this.projection?.isProjecting?Ip(e):hD(t,e);{const n=$k(t),r=(JS(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return U1(t,e)}build(t,e,n){tg(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return eg(t,e,n)}}const Xk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yk={offset:"strokeDashoffset",array:"strokeDasharray"};function Wk(i,t,e=1,n=0,r=!0){i.pathLength=1;const o=r?Xk:Yk;i[o.offset]=`${-n}`,i[o.array]=`${t} ${e}`}const Kk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function G1(i,{attrX:t,attrY:e,attrScale:n,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},d,f,p){if(tg(i,u,f),d){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:m,style:b}=i;m.transform&&(b.transform=m.transform,delete m.transform),(b.transform||m.transformOrigin)&&(b.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete m.transformBox);for(const v of Kk)m[v]!==void 0&&(b[v]=m[v],delete m[v]);t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),n!==void 0&&(m.scale=n),r!==void 0&&Wk(m,r,o,l,!1)}const $1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),q1=i=>typeof i=="string"&&i.toLowerCase()==="svg";function Zk(i,t,e,n){H1(i,t,void 0,n);for(const r in t.attrs)i.setAttribute($1.has(r)?r:Xm(r),t.attrs[r])}function X1(i,t,e){const n=eg(i,t,e);for(const r in i)if(We(i[r])||We(t[r])){const o=zr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=i[r]}return n}class Qk extends F1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ur.has(e)){const n=C1(e);return n&&n.default||0}return e=$1.has(e)?e:Xm(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return X1(t,e,n)}build(t,e,n){G1(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){Zk(t,e,n,r)}mount(t){this.isSVGTag=q1(t.tagName),super.mount(t)}}const Jk=Jm.length;function Y1(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Y1(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<Jk;e++){const n=Jm[e],r=i.props[n];(fl(r)||r===!1)&&(t[n]=r)}return t}function W1(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let n=0;n<e;n++)if(t[n]!==i[n])return!1;return!0}const tL=[...Qm].reverse(),eL=Qm.length;function nL(i){return t=>Promise.all(t.map(({animation:e,options:n})=>JD(i,e,n)))}function iL(i){let t=nL(i),e=kw(),n=!0;const r=d=>(f,p)=>{const m=Ar(i,p,d==="exit"?i.presenceContext?.custom:void 0);if(m){const{transition:b,transitionEnd:v,...S}=m;f={...f,...S,...v}}return f};function o(d){t=d(i)}function l(d){const{props:f}=i,p=Y1(i.parent)||{},m=[],b=new Set;let v={},S=1/0;for(let E=0;E<eL;E++){const x=tL[E],C=e[x],_=f[x]!==void 0?f[x]:p[x],k=fl(_),D=x===d?C.isActive:null;D===!1&&(S=E);let N=_===p[x]&&_!==f[x]&&k;if(N&&n&&i.manuallyAnimateOnMount&&(N=!1),C.protectedKeys={...v},!C.isActive&&D===null||!_&&!C.prevProp||ch(_)||typeof _=="boolean")continue;if(x==="exit"&&C.isActive&&D!==!0){C.prevResolvedValues&&(v={...v,...C.prevResolvedValues});continue}const P=sL(C.prevProp,_);let I=P||x===d&&C.isActive&&!N&&k||E>S&&k,V=!1;const W=Array.isArray(_)?_:[_];let J=W.reduce(r(x),{});D===!1&&(J={});const{prevResolvedValues:nt={}}=C,pt={...nt,...J},it=U=>{I=!0,b.has(U)&&(V=!0,b.delete(U)),C.needsAnimating[U]=!0;const Q=i.getValue(U);Q&&(Q.liveStyle=!1)};for(const U in pt){const Q=J[U],lt=nt[U];if(v.hasOwnProperty(U))continue;let ut=!1;Gp(Q)&&Gp(lt)?ut=!W1(Q,lt):ut=Q!==lt,ut?Q!=null?it(U):b.add(U):Q!==void 0&&b.has(U)?it(U):C.protectedKeys[U]=!0}C.prevProp=_,C.prevResolvedValues=J,C.isActive&&(v={...v,...J}),n&&i.blockInitialAnimation&&(I=!1);const yt=N&&P;I&&(!yt||V)&&m.push(...W.map(U=>{const Q={type:x};if(typeof U=="string"&&n&&!yt&&i.manuallyAnimateOnMount&&i.parent){const{parent:lt}=i,ut=Ar(lt,U);if(lt.enteringChildren&&ut){const{delayChildren:O}=ut.transition||{};Q.delay=y1(lt.enteringChildren,i,O)}}return{animation:U,options:Q}}))}if(b.size){const E={};if(typeof f.initial!="boolean"){const x=Ar(i,Array.isArray(f.initial)?f.initial[0]:f.initial);x&&x.transition&&(E.transition=x.transition)}b.forEach(x=>{const C=i.getBaseTarget(x),_=i.getValue(x);_&&(_.liveStyle=!0),E[x]=C??null}),m.push({animation:E})}let w=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!i.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(m):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();i.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),e[d].isActive=f;const p=l(d);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=kw()}}}function sL(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!W1(t,i):!1}function na(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kw(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}function Lw(i,t){i.min=t.min,i.max=t.max}function si(i,t){Lw(i.x,t.x),Lw(i.y,t.y)}function Pw(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}const K1=1e-4,aL=1-K1,rL=1+K1,Z1=.01,oL=0-Z1,lL=0+Z1;function nn(i){return i.max-i.min}function cL(i,t,e){return Math.abs(i-t)<=e}function Ow(i,t,e,n=.5){i.origin=n,i.originPoint=ue(t.min,t.max,i.origin),i.scale=nn(e)/nn(t),i.translate=ue(e.min,e.max,i.origin)-i.originPoint,(i.scale>=aL&&i.scale<=rL||isNaN(i.scale))&&(i.scale=1),(i.translate>=oL&&i.translate<=lL||isNaN(i.translate))&&(i.translate=0)}function al(i,t,e,n){Ow(i.x,t.x,e.x,n?n.originX:void 0),Ow(i.y,t.y,e.y,n?n.originY:void 0)}function Nw(i,t,e){i.min=e.min+t.min,i.max=i.min+nn(t)}function uL(i,t,e){Nw(i.x,t.x,e.x),Nw(i.y,t.y,e.y)}function Bw(i,t,e){i.min=t.min-e.min,i.max=i.min+nn(t)}function Vu(i,t,e){Bw(i.x,t.x,e.x),Bw(i.y,t.y,e.y)}function Fw(i,t,e,n,r){return i-=t,i=Hu(i,1/e,n),r!==void 0&&(i=Hu(i,1/r,n)),i}function hL(i,t=0,e=1,n=.5,r,o=i,l=i){if(xi.test(t)&&(t=parseFloat(t),t=ue(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=ue(o.min,o.max,n);i===o&&(u-=t),i.min=Fw(i.min,t,e,u,r),i.max=Fw(i.max,t,e,u,r)}function Iw(i,t,[e,n,r],o,l){hL(i,t[e],t[n],t[r],t.scale,o,l)}const dL=["x","scaleX","originX"],fL=["y","scaleY","originY"];function jw(i,t,e,n){Iw(i.x,t,dL,e?e.x:void 0,n?n.x:void 0),Iw(i.y,t,fL,e?e.y:void 0,n?n.y:void 0)}function zw(i){return i.translate===0&&i.scale===1}function Q1(i){return zw(i.x)&&zw(i.y)}function Uw(i,t){return i.min===t.min&&i.max===t.max}function pL(i,t){return Uw(i.x,t.x)&&Uw(i.y,t.y)}function Hw(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function J1(i,t){return Hw(i.x,t.x)&&Hw(i.y,t.y)}function Vw(i){return nn(i.x)/nn(i.y)}function Gw(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}function yi(i){return[i("x"),i("y")]}function mL(i,t,e){let n="";const r=i.x.translate/t.x,o=i.y.translate/t.y,l=e?.z||0;if((r||o||l)&&(n=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:b,skewX:v,skewY:S}=e;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),m&&(n+=`rotateX(${m}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),S&&(n+=`skewY(${S}deg) `)}const u=i.x.scale*t.x,d=i.y.scale*t.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const tx=["TopLeft","TopRight","BottomLeft","BottomRight"],gL=tx.length,$w=i=>typeof i=="string"?parseFloat(i):i,qw=i=>typeof i=="number"||ot.test(i);function yL(i,t,e,n,r,o){r?(i.opacity=ue(0,e.opacity??1,bL(n)),i.opacityExit=ue(t.opacity??1,0,vL(n))):o&&(i.opacity=ue(t.opacity??1,e.opacity??1,n));for(let l=0;l<gL;l++){const u=`border${tx[l]}Radius`;let d=Xw(t,u),f=Xw(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||qw(d)===qw(f)?(i[u]=Math.max(ue($w(d),$w(f),n),0),(xi.test(f)||xi.test(d))&&(i[u]+="%")):i[u]=f}(t.rotate||e.rotate)&&(i.rotate=ue(t.rotate||0,e.rotate||0,n))}function Xw(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const bL=ex(0,.5,XS),vL=ex(.5,.95,Zn);function ex(i,t,e){return n=>n<i?0:n>t?1:e(ul(i,t,n))}function wL(i,t,e){const n=We(i)?i:Dr(i);return n.start($m("",n,t,e)),n.animation}function pl(i,t,e,n={passive:!0}){return i.addEventListener(t,e,n),()=>i.removeEventListener(t,e)}const AL=(i,t)=>i.depth-t.depth;class SL{constructor(){this.children=[],this.isDirty=!1}add(t){Rm(this.children,t),this.isDirty=!0}remove(t){Fu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AL),this.isDirty=!1,this.children.forEach(t)}}function xL(i,t){const e=en.now(),n=({timestamp:r})=>{const o=r-e;o>=t&&(Ls(n),i(o-t))};return Jt.setup(n,!0),()=>Ls(n)}function Lu(i){return We(i)?i.get():i}class EL{constructor(){this.members=[]}add(t){Rm(this.members,t);for(let e=this.members.length-1;e>=0;e--){const n=this.members[e];if(n===t||n===this.lead||n===this.prevLead)continue;const r=n.instance;r&&r.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Fu(this.members,n)}t.scheduleRender()}remove(t){if(Fu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const o=this.members[r],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const r=n.options.layoutDependency,o=t.options.layoutDependency;if(!(r!==void 0&&o!==void 0&&r===o)){const d=n.instance;d&&d.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:u}=t.options;u===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},lp=["","X","Y","Z"],TL=1e3;let CL=0;function cp(i,t,e,n){const{latestValues:r}=t;r[i]&&(e[i]=r[i],t.setStaticValue(i,0),n&&(n[i]=0))}function nx(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=S1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Jt,!(r||o))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&nx(n)}function ix({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},u=t?.()){this.id=CL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RL),this.nodes.forEach(PL),this.nodes.forEach(OL),this.nodes.forEach(DL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new SL)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Lm),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Zm(l)&&!Mk(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),i){let p,m=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{m=window.innerWidth}),i(l,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=xL(b,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(Kw)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||jL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=f.getProps(),x=!this.targetLayout||!J1(this.targetLayout,v),C=!m&&b;if(this.options.layoutRoot||this.resumeFrom||C||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Gm(S,"layout"),onPlay:w,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,C)}else m||Kw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NL),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ww);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LL),this.nodes.forEach(_L),this.nodes.forEach(ML)):this.nodes.forEach(Ww),this.clearAllSnapshots();const u=en.now();Ge.delta=Ei(0,1e3/60,u-Ge.timestamp),Ge.timestamp=u,Ge.isProcessing=!0,tp.update.process(Ge),tp.preRender.process(Ge),tp.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kL),this.sharedNodes.forEach(BL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Q1(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||aa(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),zL(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return De();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UL))){const{scroll:f}=this.root;f&&(yr(u.x,f.offset.x),yr(u.y,f.offset.y))}return u}removeElementScroll(l){const u=De();if(si(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&si(u,l),yr(u.x,p.offset.x),yr(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=De();si(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&br(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),aa(p.latestValues)&&br(d,p.latestValues)}return aa(this.latestValues)&&br(d,this.latestValues),d}removeTransform(l){const u=De();si(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!aa(f.latestValues))continue;Kp(f.latestValues)&&f.updateSnapshot();const p=De(),m=f.measurePageBox();si(p,m),jw(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return aa(this.latestValues)&&jw(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!this.layout||!(p||m))return;this.resolvedRelativeTargetAt=Ge.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),z1(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kp(this.parent.latestValues)||j1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Vu(this.relativeTargetOrigin,u,d),si(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;si(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,b=this.treeScale.y;jk(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=De());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pw(this.prevProjectionDelta.x,this.projectionDelta.x),Pw(this.prevProjectionDelta.y,this.projectionDelta.y)),al(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==b||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gr(),this.projectionDelta=gr(),this.projectionDeltaWithTransform=gr()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=De(),v=d?d.source:void 0,S=this.layout?this.layout.source:void 0,w=v!==S,E=this.getStack(),x=!E||E.members.length<=1,C=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(IL));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const D=k/1e3;Zw(m.x,l.x,D),Zw(m.y,l.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FL(this.relativeTarget,this.relativeTargetOrigin,b,D),_&&pL(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=De()),si(_,this.relativeTarget)),w&&(this.animationValues=p,yL(p,f,this.latestValues,D,C,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Pu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dr(0)),this.currentAnimation=wL(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&sx(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||De();const m=nn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const b=nn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}si(u,d),br(u,p),al(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new EL),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&cp("z",l,f,this.animationValues);for(let p=0;p<lp.length;p++)cp(`rotate${lp[p]}`,l,f,this.animationValues),cp(`skew${lp[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Lu(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Lu(u?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=mL(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),l.transform=m;const{x:b,y:v}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Qp){if(p[S]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:x}=Qp[S],C=m==="none"?p[S]:w(p[S],f);if(E){const _=E.length;for(let k=0;k<_;k++)l[E[k]]=C}else x?this.options.visualElement.renderState.vars[S]=C:l[S]=C}this.options.layoutId&&(l.pointerEvents=f===this?Lu(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Yw),this.root.sharedNodes.clear()}}}function _L(i){i.updateLayout()}function ML(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=i.layout,{animationType:r}=i.options,o=t.source!==i.layout.source;r==="size"?yi(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],b=nn(m);m.min=e[p].min,m.max=m.min+b}):sx(r,t.layoutBox,e)&&yi(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],b=nn(e[p]);m.max=m.min+b,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[p].max=i.relativeTarget[p].min+b)});const l=gr();al(l,e,t.layoutBox);const u=gr();o?al(u,i.applyTransform(n,!0),t.measuredBox):al(u,e,t.layoutBox);const d=!Q1(l);let f=!1;if(!i.resumeFrom){const p=i.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:b}=p;if(m&&b){const v=De();Vu(v,t.layoutBox,m.layoutBox);const S=De();Vu(S,e,b.layoutBox),J1(v,S)||(f=!0),p.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=v,i.relativeParent=p)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function RL(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function DL(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function kL(i){i.clearSnapshot()}function Yw(i){i.clearMeasurements()}function Ww(i){i.isLayoutDirty=!1}function LL(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Kw(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function PL(i){i.resolveTargetDelta()}function OL(i){i.calcProjection()}function NL(i){i.resetSkewAndRotation()}function BL(i){i.removeLeadSnapshot()}function Zw(i,t,e){i.translate=ue(t.translate,0,e),i.scale=ue(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function Qw(i,t,e,n){i.min=ue(t.min,e.min,n),i.max=ue(t.max,e.max,n)}function FL(i,t,e,n){Qw(i.x,t.x,e.x,n),Qw(i.y,t.y,e.y,n)}function IL(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const jL={duration:.45,ease:[.4,0,.1,1]},Jw=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),tA=Jw("applewebkit/")&&!Jw("chrome/")?Math.round:Zn;function eA(i){i.min=tA(i.min),i.max=tA(i.max)}function zL(i){eA(i.x),eA(i.y)}function sx(i,t,e){return i==="position"||i==="preserve-aspect"&&!cL(Vw(t),Vw(e),.2)}function UL(i){return i!==i.root&&i.scroll?.wasRoot}const HL=ix({attachResizeListener:(i,t)=>pl(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),up={current:void 0},ax=ix({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!up.current){const i=new HL({});i.mount(window),i.setOptions({layoutScroll:!0}),up.current=i}return up.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),ng=M.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function nA(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function VL(...i){return t=>{let e=!1;const n=i.map(r=>{const o=nA(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():nA(i[r],null)}}}}function GL(...i){return M.useCallback(VL(...i),i)}class $L extends M.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=e.offsetParent,r=Yp(n)&&n.offsetWidth||0,o=Yp(n)&&n.offsetHeight||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=r-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function qL({children:i,isPresent:t,anchorX:e,anchorY:n,root:r,pop:o}){const l=M.useId(),u=M.useRef(null),d=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=M.useContext(ng),p=i.props?.ref??i?.ref,m=GL(u,p);return M.useInsertionEffect(()=>{const{width:b,height:v,top:S,left:w,right:E,bottom:x}=d.current;if(t||o===!1||!u.current||!b||!v)return;const C=e==="left"?`left: ${w}`:`right: ${E}`,_=n==="bottom"?`bottom: ${x}`:`top: ${S}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");f&&(k.nonce=f);const D=r??document.head;return D.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${v}px !important;
            ${C}px !important;
            ${_}px !important;
          }
        `),()=>{D.contains(k)&&D.removeChild(k)}},[t]),R.jsx($L,{isPresent:t,childRef:u,sizeRef:d,pop:o,children:o===!1?i:M.cloneElement(i,{ref:m})})}const XL=({children:i,initial:t,isPresent:e,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,anchorY:d,root:f})=>{const p=Mm(YL),m=M.useId();let b=!0,v=M.useMemo(()=>(b=!1,{id:m,initial:t,isPresent:e,custom:r,onExitComplete:S=>{p.set(S,!0);for(const w of p.values())if(!w)return;n&&n()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[e,p,n]);return o&&b&&(v={...v}),M.useMemo(()=>{p.forEach((S,w)=>p.set(w,!1))},[e]),M.useEffect(()=>{!e&&!p.size&&n&&n()},[e]),i=R.jsx(qL,{pop:l==="popLayout",isPresent:e,anchorX:u,anchorY:d,root:f,children:i}),R.jsx(lh.Provider,{value:v,children:i})};function YL(){return new Map}function rx(i=!0){const t=M.useContext(lh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=M.useId();M.useEffect(()=>{if(i)return r(o)},[i]);const l=M.useCallback(()=>i&&n&&n(o),[o,n,i]);return!e&&n?[!1,l]:[!0]}const du=i=>i.key||"";function iA(i){const t=[];return M.Children.forEach(i,e=>{M.isValidElement(e)&&t.push(e)}),t}const ox=({children:i,custom:t,initial:e=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",anchorY:d="top",root:f})=>{const[p,m]=rx(l),b=M.useMemo(()=>iA(i),[i]),v=l&&!p?[]:b.map(du),S=M.useRef(!0),w=M.useRef(b),E=Mm(()=>new Map),x=M.useRef(new Set),[C,_]=M.useState(b),[k,D]=M.useState(b);BS(()=>{S.current=!1,w.current=b;for(let I=0;I<k.length;I++){const V=du(k[I]);v.includes(V)?(E.delete(V),x.current.delete(V)):E.get(V)!==!0&&E.set(V,!1)}},[k,v.length,v.join("-")]);const N=[];if(b!==C){let I=[...b];for(let V=0;V<k.length;V++){const W=k[V],J=du(W);v.includes(J)||(I.splice(V,0,W),N.push(W))}return o==="wait"&&N.length&&(I=N),D(iA(I)),_(b),null}const{forceRender:P}=M.useContext(_m);return R.jsx(R.Fragment,{children:k.map(I=>{const V=du(I),W=l&&!p?!1:b===k||v.includes(V),J=()=>{if(x.current.has(V))return;if(x.current.add(V),E.has(V))E.set(V,!0);else return;let nt=!0;E.forEach(pt=>{pt||(nt=!1)}),nt&&(P?.(),D(w.current),l&&m?.(),n&&n())};return R.jsx(XL,{isPresent:W,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:f,onExitComplete:W?void 0:J,anchorX:u,anchorY:d,children:I},V)})})},lx=M.createContext({strict:!1}),sA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let aA=!1;function WL(){if(aA)return;const i={};for(const t in sA)i[t]={isEnabled:e=>sA[t].some(n=>!!e[n])};B1(i),aA=!0}function cx(){return WL(),Nk()}function KL(i){const t=cx();for(const e in i)t[e]={...t[e],...i[e]};B1(t)}const ZL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Gu(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||ZL.has(i)}let ux=i=>!Gu(i);function QL(i){typeof i=="function"&&(ux=t=>t.startsWith("on")?!Gu(t):i(t))}try{QL(require("@emotion/is-prop-valid").default)}catch{}function JL(i,t,e){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(ux(r)||e===!0&&Gu(r)||!t&&!Gu(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}const hh=M.createContext({});function tP(i,t){if(uh(i)){const{initial:e,animate:n}=i;return{initial:e===!1||fl(e)?e:void 0,animate:fl(n)?n:void 0}}return i.inherit!==!1?t:{}}function eP(i){const{initial:t,animate:e}=tP(i,M.useContext(hh));return M.useMemo(()=>({initial:t,animate:e}),[rA(t),rA(e)])}function rA(i){return Array.isArray(i)?i.join(" "):i}const ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hx(i,t,e){for(const n in t)!We(t[n])&&!V1(n,e)&&(i[n]=t[n])}function nP({transformTemplate:i},t){return M.useMemo(()=>{const e=ig();return tg(e,t,i),Object.assign({},e.vars,e.style)},[t])}function iP(i,t){const e=i.style||{},n={};return hx(n,e,i),Object.assign(n,nP(i,t)),n}function sP(i,t){const e={},n=iP(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=n,e}const dx=()=>({...ig(),attrs:{}});function aP(i,t,e,n){const r=M.useMemo(()=>{const o=dx();return G1(o,t,q1(n),i.transformTemplate,i.style),{...o.attrs,style:{...o.style}}},[t]);if(i.style){const o={};hx(o,i.style,i),r.style={...o,...r.style}}return r}const rP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sg(i){return typeof i!="string"||i.includes("-")?!1:!!(rP.indexOf(i)>-1||/[A-Z]/u.test(i))}function oP(i,t,e,{latestValues:n},r,o=!1,l){const d=(l??sg(i)?aP:sP)(t,n,r,i),f=JL(t,typeof i=="string",o),p=i!==M.Fragment?{...f,...d,ref:e}:{},{children:m}=t,b=M.useMemo(()=>We(m)?m.get():m,[m]);return M.createElement(i,{...p,children:b})}function lP({scrapeMotionValuesFromProps:i,createRenderState:t},e,n,r){return{latestValues:cP(e,n,r,i),renderState:t()}}function cP(i,t,e,n){const r={},o=n(i,{});for(const b in o)r[b]=Lu(o[b]);let{initial:l,animate:u}=i;const d=uh(i),f=O1(i);t&&f&&!d&&i.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const m=p?u:l;if(m&&typeof m!="boolean"&&!ch(m)){const b=Array.isArray(m)?m:[m];for(let v=0;v<b.length;v++){const S=qm(i,b[v]);if(S){const{transitionEnd:w,transition:E,...x}=S;for(const C in x){let _=x[C];if(Array.isArray(_)){const k=p?_.length-1:0;_=_[k]}_!==null&&(r[C]=_)}for(const C in w)r[C]=w[C]}}}return r}const fx=i=>(t,e)=>{const n=M.useContext(hh),r=M.useContext(lh),o=()=>lP(i,t,n,r);return e?o():Mm(o)},uP=fx({scrapeMotionValuesFromProps:eg,createRenderState:ig}),hP=fx({scrapeMotionValuesFromProps:X1,createRenderState:dx}),dP=Symbol.for("motionComponentSymbol");function fP(i,t,e){const n=M.useRef(e);M.useInsertionEffect(()=>{n.current=e});const r=M.useRef(null);return M.useCallback(o=>{o&&i.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=n.current;if(typeof l=="function")if(o){const u=l(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):l(o);else l&&(l.current=o)},[t])}const px=M.createContext({});function hr(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function pP(i,t,e,n,r,o){const{visualElement:l}=M.useContext(hh),u=M.useContext(lx),d=M.useContext(lh),f=M.useContext(ng),p=f.reducedMotion,m=f.skipAnimations,b=M.useRef(null),v=M.useRef(!1);n=n||u.renderer,!b.current&&n&&(b.current=n(i,{visualState:t,parent:l,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,skipAnimations:m,isSVG:o}),v.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const S=b.current,w=M.useContext(px);S&&!S.projection&&r&&(S.type==="html"||S.type==="svg")&&mP(b.current,e,r,w);const E=M.useRef(!1);M.useInsertionEffect(()=>{S&&E.current&&S.update(e,d)});const x=e[A1],C=M.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return BS(()=>{v.current=!0,S&&(E.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),C.current&&S.animationState&&S.animationState.animateChanges())}),M.useEffect(()=>{S&&(!C.current&&S.animationState&&S.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),C.current=!1),S.enteringChildren=void 0)}),S}function mP(i,t,e,n){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:mx(i.parent)),i.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&hr(u),visualElement:i,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:f})}function mx(i){if(i)return i.options.allowProjection!==!1?i.projection:mx(i.parent)}function hp(i,{forwardMotionProps:t=!1,type:e}={},n,r){n&&KL(n);const o=e?e==="svg":sg(i),l=o?hP:uP;function u(f,p){let m;const b={...M.useContext(ng),...f,layoutId:gP(f)},{isStatic:v}=b,S=eP(f),w=l(f,v);if(!v&&NS){yP();const E=bP(b);m=E.MeasureLayout,S.visualElement=pP(i,w,b,r,E.ProjectionNode,o)}return R.jsxs(hh.Provider,{value:S,children:[m&&S.visualElement?R.jsx(m,{visualElement:S.visualElement,...b}):null,oP(i,f,fP(w,S.visualElement,p),w,v,t,o)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const d=M.forwardRef(u);return d[dP]=i,d}function gP({layoutId:i}){const t=M.useContext(_m).id;return t&&i!==void 0?t+"-"+i:i}function yP(i,t){M.useContext(lx).strict}function bP(i){const t=cx(),{drag:e,layout:n}=t;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(i)||n?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vP(i,t){if(typeof Proxy>"u")return hp;const e=new Map,n=(o,l)=>hp(o,l,i,t),r=(o,l)=>n(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?n:(e.has(l)||e.set(l,hp(l,void 0,i,t)),e.get(l))})}const wP=(i,t)=>t.isSVG??sg(i)?new Qk(t):new qk(t,{allowProjection:i!==M.Fragment});class AP extends Bs{constructor(t){super(t),t.animationState||(t.animationState=iL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ch(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SP=0;class xP extends Bs{constructor(){super(...arguments),this.id=SP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const EP={animation:{Feature:AP},exit:{Feature:xP}};function Ml(i){return{point:{x:i.pageX,y:i.pageY}}}const TP=i=>t=>Km(t)&&i(t,Ml(t));function rl(i,t,e,n){return pl(i,t,TP(e),n)}const gx=({current:i})=>i?i.ownerDocument.defaultView:null,oA=(i,t)=>Math.abs(i-t);function CP(i,t){const e=oA(i.x,t.x),n=oA(i.y,t.y);return Math.sqrt(e**2+n**2)}const lA=new Set(["auto","scroll"]);class yx{constructor(t,e,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=CP(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!w)return;const{point:E}=v,{timestamp:x}=Ge;this.history.push({...E,timestamp:x});const{onStart:C,onMove:_}=this.handlers;S||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=dp(S,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=fp(v.type==="pointercancel"?this.lastMoveEventInfo:dp(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,C),E&&E(v,C)},!Km(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const d=Ml(t),f=dp(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=Ge;this.history=[{...p,timestamp:m}];const{onSessionStart:b}=e;b&&b(t,fp(f,this.history)),this.removeListeners=Tl(rl(this.contextWindow,"pointermove",this.handlePointerMove),rl(this.contextWindow,"pointerup",this.handlePointerUp),rl(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let e=t.parentElement;for(;e;){const n=getComputedStyle(e);(lA.has(n.overflowX)||lA.has(n.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:r.x-e.x,y:r.y-e.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,r),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ls(this.updatePoint)}}function dp(i,t){return t?{point:t(i.point)}:i}function cA(i,t){return{x:i.x-t.x,y:i.y-t.y}}function fp({point:i},t){return{point:i,delta:cA(i,bx(t)),offset:cA(i,_P(t)),velocity:MP(t,.1)}}function _P(i){return i[0]}function bx(i){return i[i.length-1]}function MP(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,n=null;const r=bx(i);for(;e>=0&&(n=i[e],!(r.timestamp-n.timestamp>oi(t)));)e--;if(!n)return{x:0,y:0};n===i[0]&&i.length>2&&r.timestamp-n.timestamp>oi(t)*2&&(n=i[1]);const o=Kn(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function RP(i,{min:t,max:e},n){return t!==void 0&&i<t?i=n?ue(t,i,n.min):Math.max(i,t):e!==void 0&&i>e&&(i=n?ue(e,i,n.max):Math.min(i,e)),i}function uA(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function DP(i,{top:t,left:e,bottom:n,right:r}){return{x:uA(i.x,e,r),y:uA(i.y,t,n)}}function hA(i,t){let e=t.min-i.min,n=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,n]=[n,e]),{min:e,max:n}}function kP(i,t){return{x:hA(i.x,t.x),y:hA(i.y,t.y)}}function LP(i,t){let e=.5;const n=nn(i),r=nn(t);return r>n?e=ul(t.min,t.max-n,i.min):n>r&&(e=ul(i.min,i.max-r,t.min)),Ei(0,1,e)}function PP(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const Jp=.35;function OP(i=Jp){return i===!1?i=0:i===!0&&(i=Jp),{x:dA(i,"left","right"),y:dA(i,"top","bottom")}}function dA(i,t,e){return{min:fA(i,t),max:fA(i,e)}}function fA(i,t){return typeof i=="number"?i:i[t]||0}const NP=new WeakMap;class BP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{e&&this.snapToCursor(Ml(m).point),this.stopAnimation()},l=(m,b)=>{const{drag:v,dragPropagation:S,onDragStart:w}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hk(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(x=>{let C=this.getAxisMotionValue(x).get()||0;if(xi.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[x];k&&(C=nn(k)*(parseFloat(C)/100))}}this.originPoint[x]=C}),w&&Jt.update(()=>w(m,b),!1,!0),$p(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(m,b)=>{this.latestPointerEvent=m,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:w,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=b;if(S&&this.currentDirection===null){this.currentDirection=IP(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,x),this.updateAxis("y",b.point,x),this.visualElement.render(),E&&Jt.update(()=>E(m,b),!1,!0)},d=(m,b)=>{this.latestPointerEvent=m,this.latestPanInfo=b,this.stop(m,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new yx(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:gx(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Jt.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!fu(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=RP(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&hr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=DP(n.layoutBox,t):this.constraints=!1,this.elastic=OP(e),r!==this.constraints&&!hr(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PP(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!hr(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=zk(n,r.root,this.visualElement.getTransformPagePoint());let l=kP(r.layout.layoutBox,o);if(e){const u=e(Fk(l));this.hasMutatedConstraints=!!u,u&&(l=I1(u))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=yi(p=>{if(!fu(p,e,this.currentDirection))return;let m=d&&d[p]||{};l&&(m={min:0,max:0});const b=r?200:1e6,v=r?40:1e7,S={type:"inertia",velocity:n?t[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return $p(this.visualElement,t),n.start($m(t,n,0,e,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){yi(e=>{const{drag:n}=this.getProps();if(!fu(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[e],d=o.get()||0;o.set(t[e]-ue(l,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!hr(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};yi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=LP({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),yi(l=>{if(!fu(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(ue(d,f,r[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;NP.set(this.visualElement,this);const t=this.visualElement.current,e=rl(t,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps(),b=f.target,v=b!==t&&yk(b);p&&m&&!v&&this.start(f)});let n;const r=()=>{const{dragConstraints:f}=this.getProps();hr(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),n||(n=FP(t,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(r);const u=pl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(yi(m=>{const b=this.getAxisMotionValue(m);b&&(this.originPoint[m]+=f[m].translate,b.set(b.get()+f[m].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),d&&d(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=Jp,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function pA(i){let t=!0;return()=>{if(t){t=!1;return}i()}}function FP(i,t,e){const n=Aw(i,pA(e)),r=Aw(t,pA(e));return()=>{n(),r()}}function fu(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function IP(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class jP extends Bs{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new BP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const pp=i=>(t,e)=>{i&&Jt.update(()=>i(t,e),!1,!0)};class zP extends Bs{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new yx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:pp(t),onStart:pp(e),onMove:pp(n),onEnd:(o,l)=>{delete this.session,r&&Jt.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=rl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let mp=!1;class UP extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),n&&n.register&&r&&n.register(o),mp&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,t.layoutDependency!==e&&l.setOptions({...l.options,layoutDependency:e}),mp=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Wm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;mp=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vx(i){const[t,e]=rx(),n=M.useContext(_m);return R.jsx(UP,{...i,layoutGroup:n,switchLayoutGroup:M.useContext(px),isPresent:t,safeToRemove:e})}const HP={pan:{Feature:zP},drag:{Feature:jP,ProjectionNode:ax,MeasureLayout:vx}};function mA(i,t,e){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=n[r];o&&Jt.postRender(()=>o(t,Ml(t)))}class VP extends Bs{mount(){const{current:t}=this.node;t&&(this.unmount=fk(t,(e,n)=>(mA(this.node,n,"Start"),r=>mA(this.node,r,"End"))))}unmount(){}}class GP extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tl(pl(this.node.current,"focus",()=>this.onFocus()),pl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gA(i,t,e){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=n[r];o&&Jt.postRender(()=>o(t,Ml(t)))}class $P extends Bs{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:n}=this.node.props;this.unmount=vk(t,(r,o)=>(gA(this.node,o,"Start"),(l,{success:u})=>gA(this.node,l,u?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:n?.tap===!1})}unmount(){}}const tm=new WeakMap,gp=new WeakMap,qP=i=>{const t=tm.get(i.target);t&&t(i)},XP=i=>{i.forEach(qP)};function YP({root:i,...t}){const e=i||document;gp.has(e)||gp.set(e,{});const n=gp.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(XP,{root:i,...t})),n[r]}function WP(i,t,e){const n=YP(t);return tm.set(i,e),n.observe(i),()=>{tm.delete(i),n.unobserve(i)}}const KP={some:0,all:1};class ZP extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:KP[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),b=f?p:m;b&&b(d)};return WP(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(QP(t,e))&&this.startObserver()}unmount(){}}function QP({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const JP={inView:{Feature:ZP},tap:{Feature:$P},focus:{Feature:GP},hover:{Feature:VP}},tO={layout:{ProjectionNode:ax,MeasureLayout:vx}},eO={...EP,...JP,...HP,...tO},ra=vP(eO,wP);function nO({onStart:i,fileName:t}){const[e,n]=M.useState(60),r=d=>{d.preventDefault(),i({totalTime:e*60})},o={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.23,1,.32,1],staggerChildren:.1}}},l={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},u=[15,30,60,90,120];return R.jsx(ra.div,{className:"config-form-wrapper",initial:"hidden",animate:"visible",variants:o,children:R.jsxs("div",{className:"setup-card",children:[R.jsxs(ra.div,{className:"file-status-badge",variants:l,children:[R.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center border border-emerald-500/30",children:R.jsx(OM,{size:24,className:"text-emerald-400"})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"ready-pill",children:"File Analysis Ready"}),R.jsx("p",{className:"text-white font-bold text-lg truncate",title:t,children:t})]})]}),R.jsxs("form",{onSubmit:r,children:[R.jsxs(ra.div,{className:"time-selection-container",variants:l,children:[R.jsxs("div",{className:"section-label",children:[R.jsx(Rr,{size:14}),R.jsx("span",{children:"Select Study Duration"})]}),R.jsxs("div",{className:"big-time-display",children:[R.jsx(ox,{mode:"wait",children:R.jsx(ra.span,{initial:{opacity:0,y:10,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(10px)"},transition:{duration:.3},className:"big-minutes tabular-nums",children:e},e)}),R.jsx("span",{className:"min-label",children:"minutes session"})]}),R.jsx("div",{className:"time-pills-grid",children:u.map(d=>R.jsxs(ra.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(d),className:`time-pill-btn ${e===d?"active":""}`,children:[d,"m"]},d))})]}),R.jsx("input",{type:"number",value:e,onChange:d=>n(Number(d.target.value)),style:{display:"none"}}),R.jsxs(ra.button,{type:"submit",className:"premium-start-btn",variants:l,whileHover:{scale:1.02},whileTap:{scale:.98},children:[R.jsx("div",{className:"btn-shine"}),R.jsx(OS,{size:20}),R.jsx("span",{children:"START STUDYING"}),R.jsx(El,{size:20})]})]})]})})}const tn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),em=[.001,0,0,.001,0,0],yp=1.35,Rn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Si={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ml="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},wx={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ve={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ol={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},dr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Rl={ERRORS:0,WARNINGS:1,INFOS:5},kr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},pu={moveTo:0,lineTo:1,curveTo:2,closePath:3},Ax={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dh=Rl.WARNINGS;function iO(i){Number.isInteger(i)&&(dh=i)}function sO(){return dh}function fh(i){dh>=Rl.INFOS&&console.info(`Info: ${i}`)}function xt(i){dh>=Rl.WARNINGS&&console.warn(`Warning: ${i}`)}function Qt(i){throw new Error(i)}function Pt(i,t){i||Qt(t)}function aO(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ag(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=uO(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return aO(n)?n:null}function rg(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&ag(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const wa=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class yA extends wa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class bp extends wa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class $u extends wa{constructor(t){super(t,"InvalidPDFException")}}class gl extends wa{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class rO extends wa{constructor(t){super(t,"FormatError")}}class Zi extends wa{constructor(t){super(t,"AbortException")}}function Sx(i){(typeof i!="object"||i?.length===void 0)&&Qt("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=i.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Dl(i){typeof i!="string"&&Qt("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function oO(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function lO(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function cO(){try{return new Function(""),!0}catch{return!1}}class Be{static get isLittleEndian(){return Ct(this,"isLittleEndian",lO())}static get isEvalSupported(){return Ct(this,"isEvalSupported",cO())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const vp=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class at{static makeHexColor(t,e,n){return`#${vp[t]}${vp[e]}${vp[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],o=t[n+1];t[n]=r*e[0]+o*e[2]+e[4],t[n+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],b=t[n+p+1];t[n+p]=m*r+b*l+d,t[n+p+1]=m*o+b*u+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],m=t[1],b=t[2],v=t[3];let S=r*p+d,w=S,E=r*b+d,x=E,C=u*m+f,_=C,k=u*v+f,D=k;if(o!==0||l!==0){const N=o*p,P=o*b,I=l*m,V=l*v;S+=I,x+=I,E+=V,w+=V,C+=N,D+=N,k+=P,_+=P}n[0]=Math.min(n[0],S,E,w,x),n[1]=Math.min(n[1],C,k,_,D),n[2]=Math.max(n[2],S,E,w,x),n[3]=Math.max(n[3],C,k,_,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],o=t[2],l=t[3],u=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,r)}static#t(t,e,n,r,o,l,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,b=f*f,v=b*f,S=m*(m*(m*t+3*f*e)+3*b*n)+v*r,w=m*(m*(m*o+3*f*l)+3*b*u)+v*d;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],w),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],w)}static#e(t,e,n,r,o,l,u,d,f,p,m,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,o,l,u,d,-m/p,b);return}const v=p**2-4*m*f;if(v<0)return;const S=Math.sqrt(v),w=2*f;this.#t(t,e,n,r,o,l,u,d,(-p+S)/w,b),this.#t(t,e,n,r,o,l,u,d,(-p-S)/w,b)}static bezierBoundingBox(t,e,n,r,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,u,e,r,l,d,3*(-t+3*(n-o)+u),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function uO(i){return decodeURIComponent(escape(i))}let wp=null,bA=null;function xx(i){return wp||(wp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bA=new Map([["","t"]])),i.replaceAll(wp,(t,e,n)=>e?e.normalize("NFKC"):bA.get(n))}function og(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),Sx(i)}const lg="pdfjs_internal_id_";function hO(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...o]=e;if(!i(n)&&!Number.isInteger(n)||!t(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Xe(i,t,e){return Math.min(Math.max(i,t),e)}function Ex(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(Sx(i))}function dO(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Dl(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});class yl{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(yl.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class cg{static setupStorage(t,e,n,r,o){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),u&&yl.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[m,b,v]=p.at(-1);if(b+1===m.children.length){p.pop();continue}const S=m.children[++p.at(-1)[1]];if(S===null)continue;const{name:w}=S;if(w==="#text"){const x=document.createTextNode(S.value);f.push(x),v.append(x);continue}const E=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,w):document.createElement(w);if(v.append(E),S.attributes&&this.setAttributes({html:E,element:S,storage:e,intent:o,linkService:n}),S.children?.length>0)p.push([S,-1,E]);else if(S.value){const x=document.createTextNode(S.value);u&&yl.shouldBuildText(w)&&f.push(x),E.append(x)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const $i="http://www.w3.org/2000/svg";class ga{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Hr(i,t="text"){if(tl(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class kl{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,b,v;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,b=0,v=1;break;case 90:p=0,m=1,b=1,v=0;break;case 270:p=0,m=-1,b=-1,v=0;break;case 0:p=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let S,w,E,x;p===0?(S=Math.abs(f-t[1])*n+o,w=Math.abs(d-t[0])*n+l,E=(t[3]-t[1])*n,x=(t[2]-t[0])*n):(S=Math.abs(d-t[0])*n+o,w=Math.abs(f-t[1])*n+l,E=(t[2]-t[0])*n,x=(t[3]-t[1])*n),this.transform=[p*n,m*n,b*n,v*n,S-p*n*d-b*n*f,w-m*n*d-v*n*f],this.width=E,this.height=x}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new kl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return at.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];at.applyTransform(e,this.transform);const n=[t[2],t[3]];return at.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return at.applyInverseTransform(n,this.transform),n}}class ph extends wa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ll(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function mh(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function Tx(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function Cx(i,t="document.pdf"){if(typeof i!="string")return t;if(Ll(i))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class vA{started=Object.create(null);times=[];time(t){t in this.started&&xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-r}ms
`);return t.join("")}}function tl(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function Ln(i){i.preventDefault()}function ce(i){i.preventDefault(),i.stopPropagation()}function fO(i){console.log("Deprecated API usage: "+i)}class qu{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,u+=m):f==="+"&&(l-=p,u-=m),new Date(Date.UTC(n,r,o,l,u,d))}}function _x(i,{scale:t=1,rotation:e=0}){const{width:n,height:r}=i.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new kl({viewBox:o,userUnit:1,scale:t,rotation:e})}function Vr(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(xt(`Not a valid color format: "${i}"`),[0,0,0])}function pO(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Vr(n))}t.remove()}function le(i){const{a:t,b:e,c:n,d:r,e:o,f:l}=i.getTransform();return[t,e,n,r,o,l]}function mi(i){const{a:t,b:e,c:n,d:r,e:o,f:l}=i.getTransform().invertSelf();return[t,e,n,r,o,l]}function Os(i,t,e=!1,n=!0){if(t instanceof kl){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=i,u=Be.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class li{constructor(){const{pixelRatio:t}=li;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,o=-1){let l=1/0,u=1/0,d=1/0;n=li.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Xu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class mO{static get isDarkMode(){return Ct(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Mx{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Ct(this,"commentForegroundColor",Vr(n))}}function Rx(i,t,e,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return i=Math.round(i*n+r),t=Math.round(t*n+r),e=Math.round(e*n+r),[i,t,e]}function wA(i,t){const e=i[0]/255,n=i[1]/255,r=i[2]/255,o=Math.max(e,n,r),l=Math.min(e,n,r),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-r)/d+(n<r?6:0))*60;break;case n:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-n)/d+4)*60;break}}t[2]=u}function nm(i,t){const e=i[0],n=i[1],r=i[2],o=(1-Math.abs(2*r-1))*n,l=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function AA(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function SA(i,t,e){nm(i,e),e.map(AA);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];nm(t,e),e.map(AA);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const xA=new Map;function Dx(i,t){const e=i[0]+i[1]*256+i[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=xA.get(e);if(n)return n;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);wA(i,l);const u=r.subarray(6,9);wA(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),SA(l,u,o)<f){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const b=.005;for(;m-p>b;){const v=l[2]=(p+m)/2;d===SA(l,u,o)<f?p=v:m=v}l[2]=d?m:p}return nm(l,o),n=at.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),xA.set(e,n),n}function ug({html:i,dir:t,className:e},n){const r=document.createDocumentFragment();if(typeof i=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=i.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else cg.render({xfaHtml:i,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),n.append(r)}class ll{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,ll.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ln,{signal:e}),t.addEventListener("pointerdown",ll.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ce(t)}#h(t){this.#i._focusEventsAllowed=!0,ce(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ln,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",ll.#c[t]),this.#f(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const r=this.#a=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(r,e)):this.#n.append(n,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const r=this.#n.querySelector(n);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class gO{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ln,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let n=0,r=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const u=o.x+(e?o.width:0);if(l>n){r=u,n=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,n]}show(t,e,n){const[r,o]=this.#r(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",Ln,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function kx(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class yO{#t=0;get id(){return`${ml}${this.#t++}`}}class hg{#t=og();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await Hr(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=hg._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){xt(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:o}=t;return this.#n(`${e}_${n}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class bO{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Pl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Be.platform;for(const[n,r,o={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(r.bind(t,...l,e)(),o||ce(e))}}class dg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return pO(t),Ct(this,"_colors",t)}convert(t){const e=Vr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((o,l)=>o===e[l]))return dg._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?at.makeHexColor(...e):t}}class Qi{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new bO;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#T=null;#x=null;#w=null;#_=null;#S=!1;#E=null;#D=new yO;#M=!1;#R=!1;#F=!1;#L=null;#O=null;#I=null;#N=null;#G=null;#C=St.NONE;#A=new Set;#P=null;#j=null;#U=null;#X=null;#q=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#B=null;#$=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Qi.prototype,e=l=>l.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Pl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#$.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,r,o,l,u,d,f,p,m,b,v,S,w,E){const x=this._signal=this.#t.signal;this.#$=t,this.#Q=e,this.#J=n,this.#s=r,this.#l=o,this.#j=l,this.#q=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:x}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),u._on("setpreference",this.onSetPreference.bind(this),{signal:x}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:x}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:x}),this.#lt(),this.#dt(),this.#et(),this.#a=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#_=p||null,this.#y=m,this.#v=b,this.#b=v,this.#G=S||null,this.viewParameters={realScale:ga.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=E!==!1,o?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#m.clear(),this.#N?.clear(),this.#e=null,this.#A.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#j?.destroy(),this.#E?.hide(),this.#E=null,this.#I?.destroy(),this.#I=null,this.#i=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Ct(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return Ct(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ct(this,"highlightColors",null);const e=new Map,n=!!this.#U;for(const[r,o]of t){const l=r.endsWith("_HCM");if(n&&l){e.set(r.replace("_HCM",""),o);continue}!n&&!l&&e.set(r,o)}return Ct(this,"highlightColors",e)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,r){this.#l?.showDialog(this,t,e,n,r)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await n}getSignature(t){this.#j?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#j}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#b=e)}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#$.focus()}findParent(t,e){for(const n of this.#r.values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+u)return n}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ga.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#r.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u}=n,d=n.toString(),p=this.#Z(n).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;n.empty();const b=this.#tt(p),v=this.#C===St.NONE,S=()=>{const w=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u,text:d});v&&this.showAllEditors("highlight",!0,!0),e&&w?.editComment()};if(v){this.switchToMode(St.HIGHLIGHT,S);return}S()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Z(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#E||=new gO(this),this.#E.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${ml}${t}`,n=this.#a.getRawValue(e);return n&&this.#a.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#P&&(this.#E?.hide(),this.#P=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#P)return;const r=this.#Z(t).closest(".textLayer");if(!r){this.#P&&(this.#E?.hide(),this.#P=null,this.#k({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#P=e,this.#k({hasSelectedText:!0}),!(this.#C!==St.HIGHLIGHT&&this.#C!==St.NONE)&&(this.#C===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===St.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#R){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#C===St.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#O=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,e]=this.#O;this.#O=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#L?.abort(),this.#L=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#A){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){xt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#at(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){xt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==St.NONE&&!this.isEditorHandlingKeyboard&&Qi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(t){Object.entries(t).some(([n,r])=>this.#Y[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===St.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[kt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#k({isEditing:this.#C!==St.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,o=!1){if(this.#C!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===St.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===St.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===St.SIGNATURE&&await this.#j?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#r.values())l.updateMode(t);if(t===St.POPUP){this.#i||=await this.#q.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:m}=d;f&&l.add(f),p&&!m&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case kt.CREATE:this.currentLayer.addNewEditor(e);return;case kt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#A)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(kt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[kt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#mt===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#k({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==St.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,o]=this.#H,l=[...this.#A],u=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#A)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},u]of t)u.newX=r,u.newY=o,u.newPageIndex=l,e||=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const n=(r,o,l,u)=>{if(this.#n.has(r.id)){const d=this.#r.get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of t)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of t)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==St.NONE}get imageManager(){return Ct(this,"imageManager",new hg)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,b)=>({x:(p-r)/l,y:1-(f+m-n)/o,width:b/l,height:m/o});break;case"180":u=(f,p,m,b)=>({x:1-(f+m-n)/o,y:1-(p+b-r)/l,width:m/o,height:b/l});break;case"270":u=(f,p,m,b)=>({x:1-(p+b-r)/l,y:(f-n)/o,width:b/l,height:m/o});break;default:u=(f,p,m,b)=>({x:(f-n)/o,y:(p-r)/l,width:m/o,height:b/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:b,y:v,width:S,height:w}of m.getClientRects())S===0||w===0||d.push(u(b,v,S,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#a.getRawValue(e);n&&(this.#C===St.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#N?.get(t);r&&(r.setCanvas(e,n),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class vi{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,vi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){vi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",vi.#f.missing),e.setAttribute("data-l10n-id",vi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",Ln,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#a=!0,r(o))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await vi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",vi.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",vi.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class mu{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+n-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Ln,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ce(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ce(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,r;if(e)[n,r]=e;else{[n,r]=this.#n.commentButtonPosition;const{width:p,height:m,x:b,y:v}=this.#n;n=b+n*p,r=v+r*m}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Ol{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=n,this.#n=e,this.#r=r,this.#s=o,this.#a=l,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/li.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ce(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#p.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",ce,l),o.addEventListener("pointermove",ce,l),o.addEventListener("pointercancel",ce,l),o.addEventListener("pointerup",ce,l),this.#r?.()}if(ce(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ce(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:u}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:b}=d,v=m-f,S=b-p,w=l-r,E=u-o,x=Math.hypot(w,E)||1,C=Math.hypot(v,S)||1;if(!this.#e&&Math.abs(C-x)<=Ol.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const _=[(r+l)/2,(o+u)/2];this.#s?.(_,C,x)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ce(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class gt{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#b=null;#T=0;#x=0;#w=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#E=gt._zIndex++;static _borderLineWidth=-1;static _colorManager=new dg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=gt.prototype._resizeWithKeyboard,e=Qi.TRANSLATE_SMALL,n=Qi.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new Pl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],gt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new vO({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(gt._l10n??=t,gt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),gt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);gt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Qt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#D([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=gt,r=n/t,o=n/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(t){case 0:o=Xe(o,0,n-u),l=Xe(l,0,r-d);break;case 90:o=Xe(o,0,n-d),l=Xe(l,u,r);break;case 180:o=Xe(o,u,n),l=Xe(l,d,r);break;case 270:o=Xe(o,d,n),l=Xe(l,0,r-u);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return gt.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return gt.#M(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#L.bind(this,n),{signal:e}),r.addEventListener("contextmenu",Ln,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#L(t,e){e.preventDefault();const{isMac:n}=Be.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ce,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ln,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#I()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#O(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===n&&d===r||this.addCommands({cmd:this.#O.bind(this,o,l,u,d),undo:this.#O.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#N(t,e){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=gt.MIN_SIZE/n,p=gt.MIN_SIZE/r,m=this.#R(this.rotation),b=(F,U)=>[m[0]*F+m[2]*U,m[1]*F+m[3]*U],v=this.#R(360-this.rotation),S=(F,U)=>[v[0]*F+v[2]*U,v[1]*F+v[3]*U];let w,E,x=!1,C=!1;switch(t){case"topLeft":x=!0,w=(F,U)=>[0,0],E=(F,U)=>[F,U];break;case"topMiddle":w=(F,U)=>[F/2,0],E=(F,U)=>[F/2,U];break;case"topRight":x=!0,w=(F,U)=>[F,0],E=(F,U)=>[0,U];break;case"middleRight":C=!0,w=(F,U)=>[F,U/2],E=(F,U)=>[0,U/2];break;case"bottomRight":x=!0,w=(F,U)=>[F,U],E=(F,U)=>[0,0];break;case"bottomMiddle":w=(F,U)=>[F/2,U],E=(F,U)=>[F/2,0];break;case"bottomLeft":x=!0,w=(F,U)=>[0,U],E=(F,U)=>[F,0];break;case"middleLeft":C=!0,w=(F,U)=>[0,U/2],E=(F,U)=>[F,U/2];break}const _=w(u,d),k=E(u,d);let D=b(...k);const N=gt._round(o+D[0]),P=gt._round(l+D[1]);let I=1,V=1,W,J;if(e.fromKeyboard)({deltaX:W,deltaY:J}=e);else{const{screenX:F,screenY:U}=e,[Q,lt]=this.#l;[W,J]=this.screenToPageTranslation(F-Q,U-lt),this.#l[0]=F,this.#l[1]=U}if([W,J]=S(W/n,J/r),x){const F=Math.hypot(u,d);I=V=Math.max(Math.min(Math.hypot(k[0]-_[0]-W,k[1]-_[1]-J)/F,1/u,1/d),f/u,p/d)}else C?I=Xe(Math.abs(k[0]-_[0]-W),f,1)/u:V=Xe(Math.abs(k[1]-_[1]-J),p,1)/d;const nt=gt._round(u*I),pt=gt._round(d*V);D=b(...E(nt,pt));const it=N-D[0],yt=P-D[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=nt,this.height=pt,this.x=it,this.y=yt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new ll(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(vi.initialize(gt._l10n),this.#i=new vi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new mu(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:r}}=this.#n;return{text:e,richText:t,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new mu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new mu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new mu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),kx(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Ol({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#R(this.rotation),u=(N,P)=>[l[0]*N+l[2]*P,l[1]*N+l[3]*P],[d,f]=this.parentDimensions,p=this.x,m=this.y,b=this.width,v=this.height,S=gt.MIN_SIZE/d,w=gt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/v),S/b,w/v);const E=gt._round(b*o),x=gt._round(v*o);if(E===b&&x===v)return;this.#u||=[p,m,b,v];const C=u(b/2,v/2),_=gt._round(p+C[0]),k=gt._round(m+C[1]),D=u(E/2,x/2);this.x=_-D[0],this.y=k-D[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(t){const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#j(t);return}this.#P(t)}#P(t){const{isMac:e}=Be.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#j(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#P(f),n&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#x=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:b}=f;if(b!==this.#a){ce(f);return}const[v,S]=this.screenToPageTranslation(p-this.#T,m-this.#x);this.#T=p,this.#x=m,this._uiManager.dragSelectedEditors(v,S)},l),window.addEventListener("touchmove",ce,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ce(f)},l));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ce(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,m=this.x*o,b=this.y*l,v=this.width*o,S=this.height*l;switch(n){case 0:return[m+f+u,l-b-p-S+d,m+f+v+u,l-b-p+d];case 90:return[m+p+u,l-b+f+d,m+p+S+u,l-b+f+v+d];case 180:return[m-f-v+u,l-b+p+d,m-f+u,l-b+p+S+d];case 270:return[m-p-S+u,l-b-f-v+d,m-p+u,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,o,l]=t,u=o-n,d=l-r;switch(this.rotation){case 0:return[n,e-l,u,d];case 90:return[n,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&gt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:r,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&n>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#B(),this.removeEditToolbar(),this.#w){for(const t of this.#w.values())clearTimeout(t);this.#w=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,r,o,l]=this.getPDFRect();return[gt._round(n+(o-n)*t),gt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#q.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",gt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",gt._l10nResizer[f])}}this.#H(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){gt._resizerKeyboardManager.exec(this,t)}#q(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#Y(t){this.#g=this.#v?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#N(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#v=!1,this.#H(-1),this.#I()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#w||=new Map;const{action:n}=t;let r=this.#w.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#w.delete(n),this.#w.size===0&&(this.#w=null)},gt._telemetryTimeout),this.#w.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class vO extends gt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const EA=3285377520,Xn=4294901760,gi=65535;class Lx{constructor(t){this.h1=t?t&4294967295:EA,this.h2=t?t&4294967295:EA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,E=t.length;w<E;w++){const x=t.charCodeAt(w);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,b=461845907,v=m&gi,S=b&gi;for(let w=0;w<r;w++)w&1?(u=l[w],u=u*m&Xn|u*v&gi,u=u<<15|u>>>17,u=u*b&Xn|u*S&gi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[w],d=d*m&Xn|d*v&gi,d=d<<15|d>>>17,d=d*b&Xn|d*S&gi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*m&Xn|u*v&gi,u=u<<15|u>>>17,u=u*b&Xn|u*S&gi,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Xn|t*36045&gi,e=e*4283543511&Xn|((e<<16|t>>>16)*2950163797&Xn)>>>16,t^=e>>>1,t=t*444984403&Xn|t*60499&gi,e=e*3301882366&Xn|((e<<16|t>>>16)*3120437893&Xn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const im=Object.freeze({map:null,hash:"",transfer:void 0});class fg{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof gt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof gt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(r=!0,n[o]=l);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof gt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Px(this)}get serializable(){if(this.#n.size===0)return im;const t=new Map,e=new Lx,n=[],r=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof gt?u.serialize(!1,r):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:im}get editorStats(){let t=null;const e=new Map;let n=0,r=0;for(const o of this.#n.values()){if(!(o instanceof gt)){o.popup&&(o.popup.deleted?r+=1:n+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const b=m.get(p)??0;m.set(p,b+1)}}if((r>0||n>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Px extends fg{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:n,transfer:r}}get print(){Qt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class wO{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Pt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),n?.(t)}catch{xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Qt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw xt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",tn||Be.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Pt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,D){return k.charCodeAt(D)<<24|k.charCodeAt(D+1)<<16|k.charCodeAt(D+2)<<8|k.charCodeAt(D+3)&255}function r(k,D,N,P){const I=k.substring(0,D),V=k.substring(D+N);return I+P+V}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(k,D){if(++f>30){xt("Load test font never loaded."),D();return}if(d.font="30px "+k,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(p.bind(null,k,D))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,m.length,m);const S=16,w=1482184792;let E=n(b,S);for(o=0,l=m.length-3;o<l;o+=4)E=E-w+n(m,o)|0;o<m.length&&(E=E-w+n(m+"XXX",o)|0),b=r(b,S,4,oO(E));const x=`url(data:font/opentype;base64,${btoa(b)});`,C=`@font-face {font-family:"${m}";src:${x}}`;this.insertRule(C);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const k of[t.loadedName,m]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=k,_.append(D)}this._document.body.append(_),p(m,()=>{_.remove(),e.complete()})}}class AO{#t;constructor(t,e=null,n,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Ex(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){xt(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function SO(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(tn)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xO(i){if(tn&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Dl(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function gu(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const sm=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,EO=i=>typeof i=="object"&&typeof i?.name=="string",Ox=hO.bind(null,sm,EO);class TO{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const yu={DATA:1,ERROR:2},_e={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function TA(){}function mn(i){if(i instanceof Zi||i instanceof $u||i instanceof yA||i instanceof gl||i instanceof bp)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||Qt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Zi(i.message);case"InvalidPDFException":return new $u(i.message);case"PasswordException":return new yA(i.message,i.code);case"ResponseException":return new gl(i.message,i.status,i.missing);case"UnknownErrorException":return new bp(i.message,i.details)}return new bp(i.message,i.toString())}class el{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===yu.DATA)r.resolve(t.data);else if(t.callback===yu.ERROR)r.reject(mn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:yu.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:yu.ERROR,callbackId:t.callbackId,reason:mn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:_e.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Pt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:_e.CANCEL,streamId:o,reason:mn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:_e.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:_e.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Pt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:_e.ERROR,streamId:e,reason:mn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:_e.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:_e.START_COMPLETE,streamId:e,reason:mn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case _e.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(mn(t.reason));break;case _e.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(mn(t.reason));break;case _e.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:_e.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||TA).then(function(){o.postMessage({sourceName:n,targetName:r,stream:_e.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:_e.PULL_COMPLETE,streamId:e,reason:mn(f)})});break;case _e.ENQUEUE:if(Pt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case _e.CLOSE:if(Pt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case _e.ERROR:Pt(l,"error should have stream controller"),l.controller.error(mn(t.reason)),this.#r(l,e);break;case _e.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(mn(t.reason)),this.#r(l,e);break;case _e.CANCEL:if(!u)break;const d=mn(t.reason);Promise.try(u.onCancel||TA,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:_e.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:_e.CANCEL_COMPLETE,streamId:e,reason:mn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class Nx{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Qt("Abstract method `_createCanvas` called.")}}class CO extends Nx{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Bx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Qt("Abstract method `_fetch` called.")}}class CA extends Bx{async _fetch(t){const e=await Hr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Dl(e)}}class Fx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,o){return"none"}destroy(t=!1){}}class _O extends Fx{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#r.createElementNS($i,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#r.createElementNS($i,"defs"),t.append(n),n.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(Ll(e)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=rg(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,o]=this.#d(t),l=t.length===1?n:`${n}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(u);return this.#m(n,r,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const l=this.#v(t);t=at.makeHexColor(...l);const u=this.#v(e);if(e=at.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const S=v/255;d[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#p(p);this.#m(f,f,f,m),this.#g(m);const b=(v,S)=>{const w=l[v]/255,E=u[v]/255,x=new Array(S+1);for(let C=0;C<=S;C++)x[C]=w+C/S*(E-w);return x.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),m),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#y(n,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#f(u),t&&this.#y(n,u),l}addHighlightHCMFilter(t,e,n,r,o){const l=`${e}-${n}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!n))return u.url;const[d,f]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[r,o].map(this.#v.bind(this));m<p&&([p,m,b,v]=[m,p,v,b]),this.#l.style.color="";const S=(x,C,_)=>{const k=new Array(256),D=(m-p)/_,N=x/255,P=(C-x)/(255*_);let I=0;for(let V=0;V<=_;V++){const W=Math.round(p+V*D),J=N+V*P;for(let nt=I;nt<=W;nt++)k[nt]=J;I=W+1}for(let V=I;V<256;V++)k[V]=k[I-1];return k.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,E=u.filter=this.#p(w);return this.#g(E),this.#m(S(b[0],v[0],5),S(b[1],v[1],5),S(b[2],v[2],5),E),u.url=this.#h(w),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS($i,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS($i,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#r.createElementNS($i,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#r.createElementNS($i,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const o=this.#r.createElementNS($i,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#r.createElementNS($i,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Vr(getComputedStyle(this.#l).getPropertyValue("color"))}}class Ix{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Qt("Abstract method `_fetch` called.")}}class _A extends Ix{async _fetch(t){const e=await Hr(t,"arraybuffer");return new Uint8Array(e)}}class jx{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Qt("Abstract method `_fetch` called.")}}class MA extends jx{async _fetch(t){const e=await Hr(t,"arraybuffer");return new Uint8Array(e)}}tn&&xt("Please use the `legacy` build in Node.js environments.");async function pg(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class MO extends Fx{}class RO extends Nx{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class DO extends Bx{async _fetch(t){return pg(t)}}class kO extends Ix{async _fetch(t){return pg(t)}}class LO extends jx{async _fetch(t){return pg(t)}}const cr="__forcedDependency",{floor:RA,ceil:DA}=Math;function bu(i,t,e,n,r,o){i[t*4+0]=Math.min(i[t*4+0],e),i[t*4+1]=Math.min(i[t*4+1],n),i[t*4+2]=Math.max(i[t*4+2],r),i[t*4+3]=Math.max(i[t*4+3],o)}const am=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class PO{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===am}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const vu=(i,t)=>{if(!i)return;let e=i.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},i.set(t,e)),e};class OO{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[cr]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(t,e,n=!1){this.#f=t.width,this.#g=t.height,this.#y(e),n&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(am,e.length)):this.#u.fill(am)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[cr]:{__proto__:this.#e[cr]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const n=this.#n.pop();return n!==void 0&&(vu(this.#m,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(vu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(vu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(at.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(cr,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(cr,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,r,o,l){const u=at.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];at.axialAlignedBoundingBox([n,o,r,l],u,d);const f=at.intersect(this.#a,d);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,n,r,o,l){const u=this.#a;if(u[0]===1/0)return this;const d=at.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return at.axialAlignedBoundingBox([n,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return at.axialAlignedBoundingBox([n,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,r=1,o=0,l=0,u){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(n),f!==!1&&(p=[0,0,0,0],at.axialAlignedBoundingBox(d,n.fontMatrix,p),(r!==1||o!==0||l!==0)&&at.scaleMinMax([r,0,0,-r,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const m=u();return d&&p&&f===void 0&&(f=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(r[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[cr]),this.#m){const n=vu(this.#m,t),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#r.forEach(r.add,r),r.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=RA(this.#o[0]*256/this.#f),r=RA(this.#o[1]*256/this.#g),o=DA(this.#o[2]*256/this.#f),l=DA(this.#o[3]*256/this.#g);bu(this.#p,t,n,r,o,l);for(const u of this.#l)u!==t&&bu(this.#p,u,n,r,o,l);for(const u of this.#n)u!==t&&bu(this.#p,u,n,r,o,l);for(const u of this.#r)u!==t&&bu(this.#p,u,n,r,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new PO(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Yu{#t;#e;#i;#n=0;#r=0;constructor(t,e,n){if(t instanceof Yu&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,r,o,l),this}recordBBox(t,e,n,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,r,o,l),this}recordCharacterBBox(t,e,n,r,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,r,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Yn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},$e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rm(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}class mg{isModifyingCurrentTransform(){return!1}getPattern(){Qt("Abstract method `getPattern` called.")}}class NO extends mg{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===$e.STROKE||r===$e.FILL){const l=e.current.getClippedPathBoundingBox(r,le(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=at.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),rm(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else rm(t,this._bbox),o=this._createGradient(t);return o}}function Ap(i,t,e,n,r,o,l,u){const d=t.coords,f=t.colors,p=i.data,m=i.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b),d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=l,l=u,u=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b);const v=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,w=(d[n]+t.offsetX)*t.scaleX,E=(d[n+1]+t.offsetY)*t.scaleY,x=(d[r]+t.offsetX)*t.scaleX,C=(d[r+1]+t.offsetY)*t.scaleY;if(S>=C)return;const _=f[o],k=f[o+1],D=f[o+2],N=f[l],P=f[l+1],I=f[l+2],V=f[u],W=f[u+1],J=f[u+2],nt=Math.round(S),pt=Math.round(C);let it,yt,F,U,Q,lt,ut,O;for(let q=nt;q<=pt;q++){if(q<E){const ht=q<S?0:(S-q)/(S-E);it=v-(v-w)*ht,yt=_-(_-N)*ht,F=k-(k-P)*ht,U=D-(D-I)*ht}else{let ht;q>C?ht=1:E===C?ht=0:ht=(E-q)/(E-C),it=w-(w-x)*ht,yt=N-(N-V)*ht,F=P-(P-W)*ht,U=I-(I-J)*ht}let tt;q<S?tt=0:q>C?tt=1:tt=(S-q)/(S-C),Q=v-(v-x)*tt,lt=_-(_-V)*tt,ut=k-(k-W)*tt,O=D-(D-J)*tt;const et=Math.round(Math.min(it,Q)),dt=Math.round(Math.max(it,Q));let bt=m*q+et*4;for(let ht=et;ht<=dt;ht++)tt=(it-ht)/(it-Q),tt<0?tt=0:tt>1&&(tt=1),p[bt++]=yt-(yt-lt)*tt|0,p[bt++]=F-(F-ut)*tt|0,p[bt++]=U-(U-O)*tt|0,p[bt++]=255}}function BO(i,t,e){const n=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let m=0;m<f;m++,p++)Ap(i,e,n[p],n[p+1],n[p+u],r[p],r[p+1],r[p+u]),Ap(i,e,n[p+u+1],n[p+1],n[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Ap(i,e,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class FO extends mg{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/m,S=p/b,w={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/v,scaleY:1/S},E=m+4,x=b+4,C=n.getCanvas("mesh",E,x),_=C.context,k=_.createImageData(m,b);if(e){const N=k.data;for(let P=0,I=N.length;P<I;P+=4)N[P]=e[0],N[P+1]=e[1],N[P+2]=e[2],N[P+3]=255}for(const N of this._figures)BO(k,N,w);return _.putImageData(k,2,2),{canvas:C.canvas,offsetX:u-2*v,offsetY:d-2*S,scaleX:v,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){rm(t,this._bbox);const o=new Float32Array(2);if(r===$e.SHADING)at.singularValueDecompose2dScale(le(t),o);else if(this.matrix){at.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;at.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else at.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===$e.SHADING?null:this._background,e.cachedCanvases);return r!==$e.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class IO extends mg{getPattern(){return"hotpink"}}function jO(i){switch(i[0]){case"RadialAxial":return new NO(i);case"Mesh":return new FO(i);case"Dummy":return new IO}throw new Error(`Unknown IR type: ${i[0]}`)}const kA={COLORED:1,UNCOLORED:2};class gg{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:n,operatorList:r,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),fh("TilingType: "+l);const m=n[0],b=n[1],v=n[2],S=n[3],w=v-m,E=S-b,x=new Float32Array(2);at.singularValueDecompose2dScale(this.matrix,x);const[C,_]=x;at.singularValueDecompose2dScale(this.baseTransform,x);const k=C*x[0],D=_*x[1];let N=w,P=E,I=!1,V=!1;const W=Math.ceil(f*k),J=Math.ceil(p*D),nt=Math.ceil(w*k),pt=Math.ceil(E*D);W>=nt?N=f:I=!0,J>=pt?P=p:V=!0;const it=this.getSizeAndScale(N,this.ctx.canvas.width,k),yt=this.getSizeAndScale(P,this.ctx.canvas.height,D),F=t.cachedCanvases.getCanvas("pattern",it.size,yt.size),U=F.context,Q=d.createCanvasGraphics(U,e);if(Q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Q,o,u),U.translate(-it.scale*m,-yt.scale*b),Q.transform(0,it.scale,0,0,yt.scale,0,0),U.save(),Q.dependencyTracker?.save(),this.clipBbox(Q,m,b,v,S),Q.baseTransform=le(Q.ctx),Q.executeOperatorList(r),Q.endDrawing(),Q.dependencyTracker?.restore(),U.restore(),I||V){const lt=F.canvas;I&&(N=f),V&&(P=p);const ut=this.getSizeAndScale(N,this.ctx.canvas.width,k),O=this.getSizeAndScale(P,this.ctx.canvas.height,D),q=ut.size,tt=O.size,et=t.cachedCanvases.getCanvas("pattern-workaround",q,tt),dt=et.context,bt=I?Math.floor(w/f):0,ht=V?Math.floor(E/p):0;for(let Yt=0;Yt<=bt;Yt++)for(let Nt=0;Nt<=ht;Nt++)dt.drawImage(lt,q*Yt,tt*Nt,q,tt,0,0,q,tt);return{canvas:et.canvas,scaleX:ut.scale,scaleY:O.scale,offsetX:m,offsetY:b}}return{canvas:F.canvas,scaleX:it.scale,scaleY:yt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,n){const r=Math.max(gg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=r?o=r:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,r,o){const l=r-e,u=o-n;t.ctx.rect(e,n,l,u),at.axialAlignedBoundingBox([e,n,r,o],le(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,o=t.current;switch(e){case kA.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case kA.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new rO(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r,o){let l=n;r!==$e.SHADING&&(l=at.transform(l,e.baseTransform),this.matrix&&(l=at.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function zO({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Be.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,m=n&7,b=i.length;e=new Uint32Array(e.buffer);let v=0;for(let S=0;S<r;S++){for(const E=t+p;t<E;t++){const x=t<b?i[t]:255;e[v++]=x&128?f:d,e[v++]=x&64?f:d,e[v++]=x&32?f:d,e[v++]=x&16?f:d,e[v++]=x&8?f:d,e[v++]=x&4?f:d,e[v++]=x&2?f:d,e[v++]=x&1?f:d}if(m===0)continue;const w=t<b?i[t++]:255;for(let E=0;E<m;E++)e[v++]=w&1<<7-E?f:d}return{srcPos:t,destPos:v}}const LA=16,PA=100,UO=15,OA=10,gn=16,Sp=new DOMMatrix,kn=new Float32Array(2),vr=new Float32Array([1/0,1/0,-1/0,-1/0]);function HO(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,r,o,l,u){t.transform(e,n,r,o,l,u),this.__originalTransform(e,n,r,o,l,u)},i.setTransform=function(e,n,r,o,l,u){t.setTransform(e,n,r,o,l,u),this.__originalSetTransform(e,n,r,o,l,u)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,o,l,u){t.bezierCurveTo(e,n,r,o,l,u),this.__originalBezierCurveTo(e,n,r,o,l,u)},i.rect=function(e,n,r,o){t.rect(e,n,r,o),this.__originalRect(e,n,r,o)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class VO{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function wu(i,t,e,n,r,o,l,u,d,f){const[p,m,b,v,S,w]=le(i);if(m===0&&b===0){const C=l*p+S,_=Math.round(C),k=u*v+w,D=Math.round(k),N=(l+d)*p+S,P=Math.abs(Math.round(N)-_)||1,I=(u+f)*v+w,V=Math.abs(Math.round(I)-D)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(v),_,D),i.drawImage(t,e,n,r,o,0,0,P,V),i.setTransform(p,m,b,v,S,w),[P,V]}if(p===0&&v===0){const C=u*b+S,_=Math.round(C),k=l*m+w,D=Math.round(k),N=(u+f)*b+S,P=Math.abs(Math.round(N)-_)||1,I=(l+d)*m+w,V=Math.abs(Math.round(I)-D)||1;return i.setTransform(0,Math.sign(m),Math.sign(b),0,_,D),i.drawImage(t,e,n,r,o,0,0,V,P),i.setTransform(p,m,b,v,S,w),[V,P]}i.drawImage(t,e,n,r,o,l,u,d,f);const E=Math.hypot(p,m),x=Math.hypot(b,v);return[E*d,x*f]}class NA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=em;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ve.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=vr.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=$e.FILL,e=null){const n=this.minMax.slice();if(t===$e.STROKE){e||Qt("Stroke bounding box must include transform."),at.singularValueDecompose2dScale(e,kn);const r=kn[0]*this.lineWidth/2,o=kn[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=at.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(vr,0)}getClippedPathBoundingBox(t=$e.FILL,e=null){return at.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function BA(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%gn,o=(e-r)/gn,l=r===0?o:o+1,u=i.createImageData(n,gn);let d=0,f;const p=t.data,m=u.data;let b,v,S,w;if(t.kind===ol.GRAYSCALE_1BPP){const E=p.byteLength,x=new Uint32Array(m.buffer,0,m.byteLength>>2),C=x.length,_=n+7>>3,k=4294967295,D=Be.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(S=b<o?gn:r,f=0,v=0;v<S;v++){const N=E-d;let P=0;const I=N>_?n:N*8-7,V=I&-8;let W=0,J=0;for(;P<V;P+=8)J=p[d++],x[f++]=J&128?k:D,x[f++]=J&64?k:D,x[f++]=J&32?k:D,x[f++]=J&16?k:D,x[f++]=J&8?k:D,x[f++]=J&4?k:D,x[f++]=J&2?k:D,x[f++]=J&1?k:D;for(;P<I;P++)W===0&&(J=p[d++],W=128),x[f++]=J&W?k:D,W>>=1}for(;f<C;)x[f++]=0;i.putImageData(u,0,b*gn)}}else if(t.kind===ol.RGBA_32BPP){for(v=0,w=n*gn*4,b=0;b<o;b++)m.set(p.subarray(d,d+w)),d+=w,i.putImageData(u,0,v),v+=gn;b<l&&(w=n*r*4,m.set(p.subarray(d,d+w)),i.putImageData(u,0,v))}else if(t.kind===ol.RGB_24BPP)for(S=gn,w=n*S,b=0;b<l;b++){for(b>=o&&(S=r,w=n*S),f=0,v=w;v--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;i.putImageData(u,0,b*gn)}else throw new Error(`bad image kind: ${t.kind}`)}function FA(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%gn,o=(e-r)/gn,l=r===0?o:o+1,u=i.createImageData(n,gn);let d=0;const f=t.data,p=u.data;for(let m=0;m<l;m++){const b=m<o?gn:r;({srcPos:d}=zO({src:f,srcPos:d,dest:p,width:n,height:b,nonBlackColor:0})),i.putImageData(u,0,m*gn)}}function Yo(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function Au(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function IA(i,t){if(t)return!0;at.singularValueDecompose2dScale(i,kn);const e=Math.fround(li.pixelRatio*ga.PDF_TO_CSS_UNITS);return kn[0]<=e&&kn[1]<=e}const GO=["butt","round","square"],$O=["miter","round","bevel"],qO={},jA={};class Sr{constructor(t,e,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new NA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new VO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...le(this.compositeCtx))}this.ctx.save(),Au(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=le(this.ctx)}executeOperatorList(t,e,n,r,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>OA&&typeof n=="function",m=p?Date.now()+UO:0;let b=0;const v=this.commonObjs,S=this.objs;let w,E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(!o||o(d))if(w=u[d],E=l[d]??null,w!==kr.dependency)E===null?this[w](d):this[w](d,...E);else for(const x of E){this.dependencyTracker?.recordNamedData(x,d);const C=x.startsWith("g_")?v:S;if(!C.has(x))return C.get(x,n),d}if(d++,d===f)return d;if(p&&++b>OA){if(Date.now()>m)return n(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,d=r,f="prescale1",p,m;for(;o>2&&u>1||l>2&&d>1;){let b=u,v=d;o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/b),l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),m=p.context,m.clearRect(0,0,b,v),m.drawImage(t,0,0,u,d,0,0,b,v),t=p.canvas,u=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=le(n);let f,p,m,b;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const J=f.get(p);if(J&&!u){const nt=Math.round(Math.min(d[0],d[2])+d[4]),pt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Yn.transformAndFill),{canvas:J,offsetX:nt,offsetY:pt}}m=J}m||(b=this.cachedCanvases.getCanvas("maskCanvas",r,o),FA(b.context,e));let v=at.transform(d,[1/r,0,0,-1/o,0,0]);v=at.transform(v,[1,0,0,1,0,-o]);const S=vr.slice();at.axialAlignedBoundingBox([0,0,r,o],v,S);const[w,E,x,C]=S,_=Math.round(x-w)||1,k=Math.round(C-E)||1,D=this.cachedCanvases.getCanvas("fillCanvas",_,k),N=D.context,P=w,I=E;N.translate(-P,-I),N.transform(...v),m||(m=this._scaleImage(b.canvas,mi(N)),m=m.img,f&&u&&f.set(p,m)),N.imageSmoothingEnabled=IA(le(N),e.interpolate),wu(N,m,0,0,m.width,m.height,0,0,r,o),N.globalCompositeOperation="source-in";const V=at.transform(mi(N),[1,0,0,1,-P,-I]);return N.fillStyle=u?l.getPattern(n,this,V,$e.FILL,t):l,N.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,D.canvas)),this.dependencyTracker?.recordDependencies(t,Yn.transformAndFill),{canvas:D.canvas,offsetX:Math.round(P),offsetY:Math.round(I)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=GO[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=$O[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Yo(this.suspendedCtx,l),HO(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Yo(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,n,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,o,l,u,d,f,p,m){let b=t.canvas,v=d-p,S=f-m;if(l)if(v<0||S<0||v+n>b.width||S+r>b.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),x=E.context;x.drawImage(b,-v,-S),x.globalCompositeOperation="destination-atop",x.fillStyle=l,x.fillRect(0,0,n,r),x.globalCompositeOperation="source-over",b=E.canvas,v=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,S,n,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,S,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const w=new Path2D;w.rect(d,f,n,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,v,S,n,r,d,f,n,r),e.restore()}save(t){this.inSMaskMode&&Yo(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Yo(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[o]=n;if(!r){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===kr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case pu.moveTo:l.moveTo(o[u++],o[u++]);break;case pu.lineTo:l.lineTo(o[u++],o[u++]);break;case pu.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case pu.closePath:l.closePath();break;default:xt(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}at.axialAlignedBoundingBox(r,le(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,mi(r),$e.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Yn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox($e.STROKE,le(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,mi(r),$e.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Yn.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Yn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=qO}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=jA}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||em,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=n;n<LA?p=LA:n>PA&&(p=PA),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,o,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,b=p&Ve.FILL_STROKE_MASK,v=!!(p&Ve.ADD_TO_PATH_FLAG),S=d.patternFill&&!f.missingFile,w=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||v||S||w)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||S||w)){u.save(),u.translate(n,r),u.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,u,f);let x;if(b===Ve.FILL||b===Ve.FILL_STROKE)if(o){x=u.getTransform(),u.setTransform(...o);const C=this.#i(E,x,o);u.fill(C)}else u.fill(E);if(b===Ve.STROKE||b===Ve.FILL_STROKE)if(l){x||=u.getTransform(),u.setTransform(...l);const{a:C,b:_,c:k,d:D}=x,N=at.inverseTransform(l),P=at.transform([C,_,k,D,0,0],N);at.singularValueDecompose2dScale(P,kn),u.lineWidth*=Math.max(kn[0],kn[1])/m,u.stroke(this.#i(E,x,l))}else u.lineWidth/=m,u.stroke(E);u.restore()}else(b===Ve.FILL||b===Ve.FILL_STROKE)&&(u.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e))),(b===Ve.STROKE||b===Ve.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e)).recordDependencies(t,Yn.stroke),u.strokeText(e,n,r));v&&((this.pendingTextPaths||=[]).push({transform:le(u),x:n,y:r,fontSize:m,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Ct(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Yn.showText).resetBBox(t),this.current.textRenderingMode&Ve.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,m=n.textHScale*p,b=e.length,v=r.vertical,S=v?1:-1,w=r.defaultVMetrics,E=o*n.fontMatrix[0],x=n.textRenderingMode===Ve.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(m,-1):l.scale(m,1);let C,_;if(n.patternFill){l.save();const I=n.fillColor.getPattern(l,this,mi(l),$e.FILL,t);C=le(l),l.restore(),l.fillStyle=I}if(n.patternStroke){l.save();const I=n.strokeColor.getPattern(l,this,mi(l),$e.STROKE,t);_=le(l),l.restore(),l.strokeStyle=I}let k=n.lineWidth;const D=n.textMatrixScale;if(D===0||k===0){const I=n.textRenderingMode&Ve.FILL_STROKE_MASK;(I===Ve.STROKE||I===Ve.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=D;if(u!==1&&(l.scale(u,u),k/=u),l.lineWidth=k,r.isInvalidPDFjsFont){const I=[];let V=0;for(const J of e)I.push(J.unicode),V+=J.width;const W=I.join("");if(l.fillText(W,0,0),this.dependencyTracker!==null){const J=l.measureText(W);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=V*E*m,l.restore(),this.compose();return}let N=0,P;for(P=0;P<b;++P){const I=e[P];if(typeof I=="number"){N+=S*I*o/1e3;continue}let V=!1;const W=(I.isSpace?f:0)+d,J=I.fontChar,nt=I.accent;let pt,it,yt=I.width;if(v){const Q=I.vmetric||w,lt=-(I.vmetric?Q[1]:yt*.5)*E,ut=Q[2]*E;yt=Q?-Q[0]:yt,pt=lt/u,it=(N+ut)/u}else pt=N/u,it=0;let F;if(r.remeasure&&yt>0){F=l.measureText(J);const Q=F.width*1e3/o*u;if(yt<Q&&this.isFontSubpixelAAEnabled){const lt=yt/Q;V=!0,l.save(),l.scale(lt,1),pt/=lt}else yt!==Q&&(pt+=(yt-Q)/2e3*o/u)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(x&&!nt)l.fillText(J,pt,it),this.dependencyTracker?.recordCharacterBBox(t,l,F?{bbox:null}:r,o/u,pt,it,()=>F??l.measureText(J));else if(this.paintChar(t,J,pt,it,C,_),nt){const Q=pt+o*nt.offset.x/u,lt=it-o*nt.offset.y/u;this.paintChar(t,nt.fontChar,Q,lt,C,_)}}const U=v?yt*E-W*p:yt*E+W*p;N+=U,V&&l.restore()}v?n.y-=N:n.x+=N*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,r=this.current,o=r.font,l=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,m=r.textHScale*u,b=r.fontMatrix||em,v=e.length,S=r.textRenderingMode===Ve.INVISIBLE;let w,E,x,C;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(m,u);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Yu(_,t):null,w=0;w<v;++w){if(E=e[w],typeof E=="number"){C=d*E*l/1e3,this.ctx.translate(C,0),r.x+=C*m;continue}const k=(E.isSpace?p:0)+f,D=o.charProcOperatorList[E.operatorListId];D?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...b),this.executeOperatorList(D),this.restore()):xt(`Type3 character "${E.operatorListId}" is not available.`);const N=[E.width,0];at.applyTransform(N,b),x=N[0]*l+k,n.translate(x,0),r.x+=x*m}n.restore(),_&&(this.dependencyTracker=_)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,o,l,u){const d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,u).recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||le(this.ctx),o={createCanvasGraphics:(l,u)=>new Sr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Yu(this.dependencyTracker,u,!0):null)};n=new gg(e,this.ctx,o,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=jO(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,mi(n),$e.SHADING,t);const o=mi(n);if(o){const{width:l,height:u}=n.canvas,d=vr.slice();at.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,p,m,b]=d;this.ctx.fillRect(f,p,m-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Yn.transform).recordDependencies(t,Yn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Qt("Should not call beginInlineImage")}beginImageData(){Qt("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=le(this.ctx),n)){at.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,l,u]=n,d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||fh("TODO: Support non-isolated groups."),e.knockout&&xt("Knockout groups not supported.");const r=le(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=vr.slice();at.axialAlignedBoundingBox(e.bbox,le(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=at.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,p),v=b.context;v.translate(-u,-d),v.transform(...r);let S=new Path2D;const[w,E,x,C]=e.bbox;if(S.rect(w,E,x-w,C-E),e.matrix){const _=new Path2D;_.addPath(S,new DOMMatrix(e.matrix)),S=_}v.clip(S),e.smask&&this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,d),n.save()),Yo(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=le(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=vr.slice();at.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,o,l){if(this.#t(),Au(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=d,at.singularValueDecompose2dScale(le(this.ctx),kn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(kn[0],0,0,-kn[1],0,d*kn[1]),Au(this.ctx)}else{Au(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,d),this.ctx.clip(f)}}this.current=new NA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=le(d);d.transform(n,r,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,b=u.length;m<b;m+=2){const v=at.transform(f,[n,r,o,l,u[m],u[m+1]]);d.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Yn.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(t,u,l);FA(b,v),b.globalCompositeOperation="source-in",b.fillStyle=o?r.getPattern(b,this,mi(n),$e.FILL,t):r,b.fillRect(0,0,d,f),b.restore(),n.save(),n.transform(...p),n.scale(1,-1),wu(n,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){xt("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,m=o.length;p<m;p+=2)f.push({transform:[n,0,0,r,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,r).context;BA(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,mi(o));o.imageSmoothingEnabled=IA(le(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-r,0).recordDependencies(t,Yn.imageXObject).recordOperation(t),wu(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;BA(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)r.save(),r.transform(...l.transform),r.scale(1,-1),wu(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Yn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===jA?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=le(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,m=f*t;l=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(e*o-n*r),f=Math.hypot(e,n),p=Math.hypot(r,o);if(t===0)l=p/d,u=f/d;else{const m=t*d;l=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(o,l),Sp.a=1/o,Sp.d=1/l;const d=new Path2D;if(d.addPath(t,Sp),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in kr)Sr.prototype[i]!==void 0&&(Sr.prototype[kr[i]]=Sr.prototype[i]);class xr{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let r=0;for(const f of xr.strings){const p=e.encode(t[f]);n[f]=p,r+=4+p.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of xr.strings){const p=n[f],m=p.length;u.setUint32(d,m),l.set(p,d+4),d+=4+m}return Pt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Pt(t<xr.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Er{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let r=0;for(const b of Er.strings){const v=e.encode(t[b]);n[b]=v,r+=4+v.length}r+=4;let o,l,u=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,r=0;for(const b of Er.strings){const v=n[b],S=v.length;r+=4+S,p.setUint32(m,S),f.set(v,m+4),m+=4+S}return p.setUint32(m-r-4,r),t.style&&(p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length,p.setUint32(m,l.length),f.set(l,m+4),m+=4+l.length),Pt(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Pt(t<Er.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:n,weight:o}}}class Xt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Pt(t<Xt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,r=this.#o.getUint8(e)>>n&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Pt(t<Xt.numbers.length,"Invalid number index"),this.#o.getFloat64(Xt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Xt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Xt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Xt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){Pt(t<Xt.strings.length,"Invalid string index");let e=Xt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),this.#a.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new xr(o.buffer)}get systemFontInfo(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),new Er(r.buffer)}static write(t){const e=t.systemFontInfo?Er.write(t.systemFontInfo):null,n=t.cssFontInfo?xr.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const w of Xt.strings)o[w]=r.encode(t[w]),l+=4+o[w].length;const u=Xt.#r+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;const b=Xt.bools.length;let v=0,S=0;for(let w=0;w<b;w++){const E=t[Xt.bools[w]];v|=(E===void 0?0:E?2:1)<<S,S+=2,(S===8||w===b-1)&&(p.setUint8(m++,v),v=0,S=0)}Pt(m===Xt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of Xt.numbers)p.setFloat64(m,t[w]),m+=8;if(Pt(m===Xt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const w of t.bbox)p.setInt16(m,w,!0),m+=2}else p.setUint8(m++,0),m+=8;if(Pt(m===Xt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const w of t.fontMatrix)p.setFloat64(m,w,!0),m+=8}else p.setUint8(m++,0),m+=48;if(Pt(m===Xt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const w of t.defaultVMetrics)p.setInt16(m,w,!0),m+=2}else p.setUint8(m++,0),m+=6;Pt(m===Xt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Xt.#r,0),m+=4;for(const w of Xt.strings){const E=o[w],x=E.length;p.setUint32(m,x),f.set(E,m+4),m+=4+x}if(p.setUint32(Xt.#r,m-Xt.#r-4),!e)p.setUint32(m,0),m+=4;else{const w=e.byteLength;p.setUint32(m,w),Pt(m+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),m+4),m+=4+w}if(!n)p.setUint32(m,0),m+=4;else{const w=n.byteLength;p.setUint32(m,w),Pt(m+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+w}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),Pt(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class ks{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class XO{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const fr=Symbol("INTERNAL");class YO{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:o}){this.#t=!!(t&Rn.DISPLAY),this.#e=!!(t&Rn.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==fr&&Qt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class WO{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Rn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new YO(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(fr,!1);for(const n of t.on)this.#e.get(n)._setVisible(fr,!0);for(const n of t.off)this.#e.get(n)._setVisible(fr,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#r(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return xt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return fh("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return xt(`Unknown optional content policy ${t.policy}.`),!0}return xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){xt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(fr,!1,!0);r._setVisible(fr,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=this.#e.get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Lx;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class KO{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Pt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Pt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Pt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ZO(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new QO(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class ZO{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=mh(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QO{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JO(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(i),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=u(e);return p=f(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const b=new TextDecoder(p,{fatal:!0}),v=Dl(m);m=b.decode(v),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const m=[];let b;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,w,E,x]=b;if(w=parseInt(w,10),w in m){if(w===0)break;continue}m[w]=[E,x]}const S=[];for(let w=0;w<m.length&&w in m;++w){let[E,x]=m[w];x=u(x),E&&(x=unescape(x),w===0&&(x=d(x))),S.push(x)}return S.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let b=0;b<m.length;++b){const v=m[b].indexOf('"');v!==-1&&(m[b]=m[b].slice(0,v),m.length=b+1),m[b]=m[b].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const b=p.slice(0,m),S=p.slice(m+1).replace(/^[^']*'/,"");return r(b,S)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,b,v,S){if(v==="q"||v==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,E){return String.fromCharCode(parseInt(E,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function zx(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function gh(i){return URL.parse(i)?.origin??null}function Ux({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(i.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Hx(i){const t=i.get("Content-Disposition");if(t){let e=JO(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(mh(e))return e}return null}function Nl(i,t){return new gl(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function Vx(i){return i===200||i===206}function Gx(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function $x(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(xt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class tN{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=zx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new nN(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class eN{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Gx(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=gh(o.url),!Vx(o.status))throw Nl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=Ux({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=Hx(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:$x(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class nN{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,Gx(o,this._withCredentials,this._abortController)).then(u=>{const d=gh(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Vx(u.status))throw Nl(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:$x(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const xp=200,Ep=206;function iN(i){const t=i.response;return typeof t!="string"?t:Dl(t).buffer}class sN{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=zx(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Ep):r.expectedStatus=xp,e.responseType="arraybuffer",Pt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||xp;if(!(o===xp&&n.expectedStatus===Ep)&&o!==n.expectedStatus){n.onError(r.status);return}const u=iN(r);if(o===Ep){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class aN{constructor(t){this._source=t,this._manager=new sN(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Pt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rN(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new oN(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class rN{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=gh(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=Ux({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Hx(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Nl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oN{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=gh(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Nl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lN=/^[a-z][a-z0-9\-+.]+:/i;function cN(i){if(lN.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class uN{constructor(t){this.source=t,this.url=cN(t.url),Pt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new hN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new dN(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class hN{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Nl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class dN{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Wo=Symbol("INITIAL_DATA");class qx{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Wo}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Wo)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Wo}delete(t){const e=this.#t[t];return!e||e.data===Wo?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Wo&&(yield[t,e])}}}const fN=1e5,zA=30;let bl=class Wn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#T=new WeakMap;static#x=null;static#w=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*li.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=r,this.#a=o,Wn.#R(),Os(e,n),this.#t.promise.finally(()=>{Wn.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Be.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),Wn.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*li.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Os(this.#l,{rotation:r})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:Wn.#D(this.#r)};for(const l of this.#u)o.properties=this.#m.get(l),o.div=l,this.#E(o)}}cancel(){const t=new Zi("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=Wn.#D(this.#r);const e=this.#u,n=this.#g;for(const r of t){if(e.length>fN){xt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#S(r)}}#S(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=at.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=Wn.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*Wn.#F(u,l,this.#r);let p,m;o===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(o),m=r[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*m/this.#a).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${m.toFixed(2)}px)`),v.fontSize=`${b}${(Wn.#x*d).toFixed(2)}px)`,v.fontFamily=u,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);w!==E&&Math.max(w,E)/Math.min(w,E)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#E(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#E(t){const{div:e,properties:n,ctx:r}=t,{style:o}=e;let l="";if(Wn.#x>1&&(l=`scale(${1/Wn.#x})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;Wn.#M(r,f*this.#h,u);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#w.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#D(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#M(t,e,n){const r=this.#T.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#R(){if(this.#x!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const r=this.#v.get(t);if(r)return r;const o=this.#D(n);o.canvas.width=o.canvas.height=zA,this.#M(o,zA,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Be.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};const pN=100;function yh(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new yg,{docId:e}=t,n=i.url?SO(i.url):null,r=i.data?xO(i.data):null,o=i.httpHeaders||null,l=i.withCredentials===!0,u=i.password??null,d=i.range instanceof bg?i.range:null,f=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let p=i.worker instanceof Lr?i.worker:null;const m=i.verbosity,b=typeof i.docBaseUrl=="string"&&!Ll(i.docBaseUrl)?i.docBaseUrl:null,v=gu(i.cMapUrl),S=i.cMapPacked!==!1,w=i.CMapReaderFactory||(tn?DO:CA),E=gu(i.iccUrl),x=gu(i.standardFontDataUrl),C=i.StandardFontDataFactory||(tn?kO:_A),_=gu(i.wasmUrl),k=i.WasmFactory||(tn?LO:MA),D=i.stopAtErrors!==!0,N=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,P=i.isEvalSupported!==!1,I=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!tn,V=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!tn&&(Be.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,J=typeof i.disableFontFace=="boolean"?i.disableFontFace:tn,nt=i.fontExtraProperties===!0,pt=i.enableXfa===!0,it=i.ownerDocument||globalThis.document,yt=i.disableRange===!0,F=i.disableStream===!0,U=i.disableAutoFetch===!0,Q=i.pdfBug===!0,lt=i.CanvasFactory||(tn?RO:CO),ut=i.FilterFactory||(tn?MO:_O),O=i.enableHWA===!0,q=i.useWasm!==!1,tt=d?d.length:i.length??NaN,et=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!tn&&!J,dt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(w===CA&&C===_A&&k===MA&&v&&x&&_&&tl(v,document.baseURI)&&tl(x,document.baseURI)&&tl(_,document.baseURI)),bt=null;iO(m);const ht={canvasFactory:new lt({ownerDocument:it,enableHWA:O}),filterFactory:new ut({docId:e,ownerDocument:it}),cMapReaderFactory:dt?null:new w({baseUrl:v,isCompressed:S}),standardFontDataFactory:dt?null:new C({baseUrl:x}),wasmFactory:dt?null:new k({baseUrl:_})};p||(p=Lr.create({verbosity:m,port:ks.workerPort}),t._worker=p);const Yt={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:U,rangeChunkSize:f,length:tt,docBaseUrl:b,enableXfa:pt,evaluatorOptions:{maxImageSize:N,disableFontFace:J,ignoreErrors:D,isEvalSupported:P,isOffscreenCanvasSupported:I,isImageDecoderSupported:V,canvasMaxAreaInBytes:W,fontExtraProperties:nt,useSystemFonts:et,useWasm:q,useWorkerFetch:dt,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:_}},Nt={ownerDocument:it,pdfBug:Q,styleElement:bt,loadingParams:{disableAutoFetch:U,enableXfa:pt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ze=p.messageHandler.sendWithPromise("GetDocRequest",Yt,r?[r.buffer]:null);let Ut;if(d)Ut=new KO(d,{disableRange:yt,disableStream:F});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const bn=tl(n)?tN:tn?uN:aN;Ut=new bn({url:n,length:tt,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:yt,disableStream:F})}return Ze.then(bn=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Wt=new el(e,bn,p.port),Ot=new yN(Wt,t,Ut,Nt,ht,O);t._transport=Ot,Wt.send("Ready",null)})}).catch(t._capability.reject),t}class yg{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${yg.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let bg=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#r)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Qt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class mN{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class gN{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new vA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new qx,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new kl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:o=Si.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:b=!1,recordOperations:v=!1,operationsFilter:S=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(r,o,m,b),{renderingIntent:E,cacheKey:x}=w;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let C=this._intentStates.get(x);C||(C=Object.create(null),this._intentStates.set(x,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const _=!!(E&Rn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const k=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(v||k),N=V=>{if(C.renderTasks.delete(P),D){const W=P.gfx?.dependencyTracker.take();W&&(P.stepper&&P.stepper.setOperatorBBoxes(W,P.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=W))}_&&(this.#t=!0),this.#e(),V?(P.capability.reject(V),this._abortOperatorList({intentState:C,reason:V instanceof Error?V:new Error(V)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new wr({callback:N,params:{canvas:e,canvasContext:t,dependencyTracker:D?new OO(e,C.operatorList.length,k):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:S});(C.renderTasks||=new Set).add(P);const I=P.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([V,W])=>{if(this.destroyed){N();return}if(this._stats?.time("Rendering"),!(W.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:V,optionalContentConfig:W}),P.operatorListChanged()}).catch(N),I}getOperatorList({intent:t="display",annotationMode:e=Si.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yl.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new vA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof ph){let r=pN;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Zi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Cs,ri,qi,ha,ah,da,fa,sn,Ou,Xx,Yx,nl,Mr,Nu;const re=class re{constructor({name:t=null,port:e=null,verbosity:n=sO()}={}){fi(this,sn);fi(this,Cs,Promise.withResolvers());fi(this,ri,null);fi(this,qi,null);fi(this,ha,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ae(re,fa).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ae(re,fa).set(e,this),pi(this,sn,Xx).call(this,e)}else pi(this,sn,Yx).call(this)}get promise(){return ae(this,Cs).promise}get port(){return ae(this,qi)}get messageHandler(){return ae(this,ri)}destroy(){this.destroyed=!0,ae(this,ha)?.terminate(),pn(this,ha,null),ae(re,fa).delete(ae(this,qi)),pn(this,qi,null),ae(this,ri)?.destroy(),pn(this,ri,null)}static create(t){const e=ae(this,fa).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new re(t)}static get workerSrc(){if(ks.workerSrc)return ks.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>ae(this,Mr,Nu)?ae(this,Mr,Nu):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cs=new WeakMap,ri=new WeakMap,qi=new WeakMap,ha=new WeakMap,ah=new WeakMap,da=new WeakMap,fa=new WeakMap,sn=new WeakSet,Ou=function(){ae(this,Cs).resolve(),ae(this,ri).send("configure",{verbosity:this.verbosity})},Xx=function(t){pn(this,qi,t),pn(this,ri,new el("main","worker",t)),ae(this,ri).on("ready",()=>{}),pi(this,sn,Ou).call(this)},Yx=function(){if(ae(re,da)||ae(re,Mr,Nu)){pi(this,sn,nl).call(this);return}let{workerSrc:t}=re;try{re._isSameOrigin(window.location,t)||(t=re._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new el("main","worker",e),r=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?ae(this,Cs).reject(new Error("Worker was destroyed")):pi(this,sn,nl).call(this)},o=new AbortController;e.addEventListener("error",()=>{ae(this,ha)||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}pn(this,ri,n),pn(this,qi,e),pn(this,ha,e),pi(this,sn,Ou).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{pi(this,sn,nl).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{fh("The worker has been disabled.")}pi(this,sn,nl).call(this)},nl=function(){ae(re,da)||(xt("Setting up fake worker."),pn(re,da,!0)),re._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ae(this,Cs).reject(new Error("Worker was destroyed"));return}const e=new TO;pn(this,qi,e);const n=`fake${Fv(re,ah)._++}`,r=new el(n+"_worker",n,e);t.setup(r,e),pn(this,ri,new el(n,n+"_worker",e)),pi(this,sn,Ou).call(this)}).catch(t=>{ae(this,Cs).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Mr=new WeakSet,Nu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},fi(re,Mr),fi(re,ah,0),fi(re,da,!1),fi(re,fa,new WeakMap),tn&&(pn(re,da,!0),ks.workerSrc||="./pdf.worker.mjs"),re._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},re._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},re.fromPort=t=>{if(fO("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return re.create(t)};let Lr=re;class yN{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,n,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new qx,this.fontLoader=new wO({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new fg)}getRenderingIntent(t,e=Si.ENABLE,n=null,r=!1,o=!1){let l=Rn.DISPLAY,u=im;switch(t){case"any":l=Rn.ANY;break;case"display":break;case"print":l=Rn.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${t}`)}const d=l&Rn.PRINT&&n instanceof Px?n:this.annotationStorage;switch(e){case Si.DISABLE:l+=Rn.ANNOTATIONS_DISABLE;break;case Si.ENABLE:break;case Si.ENABLE_FORMS:l+=Rn.ANNOTATIONS_FORMS;break;case Si.ENABLE_STORAGE:l+=Rn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Rn.IS_EDITING),o&&(l+=Rn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,u.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),bl.cleanup(),this._networkStream?.cancelAllRequests(new Zi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Pt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Pt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{Pt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Pt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new mN(n,this))}),t.on("DocException",n=>{e._capability.reject(mn(n))}),t.on("PasswordRequest",n=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw mn(n);const r=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(r,n.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;xt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new Xt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new AO(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Pt(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,o,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new gN(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return sm(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new WO(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new XO(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),bl.cleanup()}}cachedPageNumber(t){if(!sm(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class bN{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class wr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:b=null,enableHWA:v=!1,operationsFilter:S=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(wr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Sr(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),wr.#e.delete(this._canvas),t||=new ph(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wr.#e.delete(this._canvas),this.callback())))}}const Wx="5.4.296",Kx="f56dc8601";class Dn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new Pl([[["Escape","mac+Escape"],Dn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Dn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Dn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Dn.prototype._moveToPrevious],[["Home","mac+Home"],Dn.prototype._moveToBeginning],[["End","mac+End"],Dn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Dn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ln,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",Dn.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:kt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){Dn._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class vl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,vl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",vl.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function UA(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Ko(i){return Math.max(0,Math.min(255,255*i))}class HA{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ko(t),[t,t,t]}static G_HTML([t]){const e=UA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Ko)}static RGB_HTML(t){return`#${t.map(UA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Ko(1-Math.min(1,t+r)),Ko(1-Math.min(1,n+r)),Ko(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,o=1-e,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class vN{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Qt("Abstract method `_createSVG` called.")}}class wl extends vN{_createSVG(t){return document.createElementNS($i,t)}}const wN=9,ya=new WeakSet,AN=new Date().getTimezoneOffset()*60*1e3;class VA{static create(t){switch(t.data.annotationType){case ye.LINK:return new vg(t);case ye.TEXT:return new xN(t);case ye.WIDGET:switch(t.data.fieldType){case"Tx":return new EN(t);case"Btn":return t.data.radioButton?new Zx(t):t.data.checkBox?new CN(t):new _N(t);case"Ch":return new MN(t);case"Sig":return new TN(t)}return new Aa(t);case ye.POPUP:return new om(t);case ye.FREETEXT:return new Qx(t);case ye.LINE:return new DN(t);case ye.SQUARE:return new kN(t);case ye.CIRCLE:return new LN(t);case ye.POLYLINE:return new Jx(t);case ye.CARET:return new ON(t);case ye.INK:return new wg(t);case ye.POLYGON:return new PN(t);case ye.HIGHLIGHT:return new tE(t);case ye.UNDERLINE:return new NN(t);case ye.SQUIGGLY:return new BN(t);case ye.STRIKEOUT:return new FN(t);case ye.STAMP:return new eE(t);case ye.FILEATTACHMENT:return new IN(t);default:return new he(t)}}}class he{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return he._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(n?.length>=1){for(const u of n)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${ml}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${ml}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof Aa)&&!(this instanceof vg)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof om){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(w>0||E>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof Zx){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case dr.SOLID:l.borderStyle="solid";break;case dr.DASHED:l.borderStyle="dashed";break;case dr.BEVELED:xt("Unimplemented border style: beveled");break;case dr.INSET:xt("Unimplemented border style: inset");break;case dr.UNDERLINE:l.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(this.#e=!0,l.borderColor=at.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const f=at.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:b,pageY:v}=r.rawDims;l.left=`${100*(f[0]-b)/p}%`,l.top=`${100*(f[1]-v)/m}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(l.width=`${100*u/p}%`,l.height=`${100*d/m}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const o=r.detail[e],l=o[0],u=o.slice(1);r.target.style[n]=HA[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:HA[`${l}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,o]of Object.entries(e)){const l=n[r];if(l){const u={detail:{[r]:o},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,E,x,C]=t.subarray(2,6);if(r===w&&o===E&&e===x&&n===C)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:w,borderWidth:E}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const b=p.createElement("defs");m.append(b);const v=p.createElement("clipPath"),S=`clippath_${this.data.id}`;v.setAttribute("id",S),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let w=2,E=t.length;w<E;w+=8){const x=t[w],C=t[w+1],_=t[w+2],k=t[w+3],D=p.createElement("rect"),N=(_-e)/d,P=(o-C)/f,I=(x-_)/d,V=(C-k)/f;D.setAttribute("x",N),D.setAttribute("y",P),D.setAttribute("width",I),D.setAttribute("height",V),v.append(D),u?.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${P}" width="${I}" height="${V}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const o=this.#i=new om({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Qt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!ya.has(f)){xt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&ya.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class SN extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class vg extends he{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=n.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:o,include:l}=e,u=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const m of r){const b=this._fieldObjects[m]||[];for(const{id:v}of b)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const b of m)p.has(b.id)===l&&u.push(b)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!ya.has(b)){xt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class xN extends he{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Aa extends he{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Be.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,n,r){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":at.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||wN,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(yp*r))||1,m=f/p;l=Math.min(r,d(m/yp))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/yp))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=at.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class EN extends Aa{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ya.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,b=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",S=>{t.setValue(e,{value:S.target.value}),this.setPropertyOnSiblings(n,"value",S.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",S=>{const w=this.data.defaultFieldValue??"";n.value=d.userValue=w,d.formattedValue=null});let v=S=>{const{formattedValue:w}=d;w!=null&&(S.target.value=w),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{if(d.focused)return;const{target:E}=w;if(b&&(E.type=p,m&&(E.step=m)),d.userValue){const x=d.userValue;if(b)if(p==="time"){const C=new Date(x),_=[C.getHours(),C.getMinutes(),C.getSeconds()];E.value=_.map(k=>k.toString().padStart(2,"0")).join(":")}else E.value=new Date(x-AN).toISOString().split(p==="date"?"T":".",1)[0];else E.value=x}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const E={value(x){d.userValue=x.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:C}=x.detail;d.formattedValue=C,C!=null&&x.target!==document.activeElement&&(x.target.value=C);const _={formattedValue:C};b&&(_.value=C),t.setValue(e,_)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:C}=x.detail,{target:_}=x;if(C===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",C);let k=d.userValue;!k||k.length<=C||(k=k.slice(0,C),_.value=d.userValue=k,t.setValue(e,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(E,w)}),n.addEventListener("keydown",w=>{d.commitKey=1;let E=-1;if(w.key==="Escape"?E=0:w.key==="Enter"&&!this.data.multiLine?E=2:w.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:x}=w.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:E,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const S=v;v=null,n.addEventListener("blur",w=>{if(!d.focused||!w.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=w;let{value:x}=E;if(b){if(x&&p==="time"){const C=x.split(":").map(_=>parseInt(_,10));x=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),E.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();E.type="text"}d.userValue=x,d.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),S(w)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",w=>{d.lastCommittedValue=null;const{data:E,target:x}=w,{value:C,selectionStart:_,selectionEnd:k}=x;let D=_,N=k;switch(w.inputType){case"deleteWordBackward":{const P=C.substring(0,_).match(/\w*[^\w]*$/);P&&(D-=P[0].length);break}case"deleteWordForward":{const P=C.substring(_).match(/^[^\w]*\w*/);P&&(N+=P[0].length);break}case"deleteContentBackward":_===k&&(D-=1);break;case"deleteContentForward":_===k&&(N+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:E||"",willCommit:!1,selStart:D,selEnd:N}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class TN extends Aa{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class CN extends Aa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ya.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Zx extends Aa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(ya.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const b=p&&m.id===n;m.domElement&&(m.domElement.checked=b),t.setValue(m.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class _N extends vg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class MN extends Aa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ya.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),r.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:b,multiple:v}=r;return v?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[m]):b.selectedIndex===-1?null:b[b.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(b){l?.();const v=b.detail.value,S=new Set(Array.isArray(v)?v:[v]);for(const w of r.options)w.selected=S.has(w.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){r.multiple=!0},remove(b){const v=r.options,S=b.detail.remove;v[S].selected=!1,r.remove(S),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:v,displayValue:S,exportValue:w}=b.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=S,x.value=w,E?E.before(x):r.append(x),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:v}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of v){const{displayValue:w,exportValue:E}=S,x=document.createElement("option");x.textContent=w,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const v=new Set(b.detail.indices);for(const S of b.target.options)S.selected=v.has(S.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=u(!0),b=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class om extends he{constructor(t){const{data:e,elements:n,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&he._hasPopupData(e)}),this.elements=n,o&&he._hasPopupData(e)){const l=this.popup=this.#t();for(const u of n)u.popup=l}else this.popup=null}#t(){return new RN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${lg}${r}`).join(",")),this.container}}class RN{#t=null;#e=this.#G.bind(this);#i=this.#j.bind(this);#n=this.#P.bind(this);#r=this.#A.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#b=null;#T=null;#x=null;#w=null;#_=!1;#S=null;#E=null;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:m,commentManager:b=null}){this.#a=t,this.#x=r,this.#o=l,this.#T=u,this.#d=d,this.#s=e,this.#b=f,this.#h=p,this.#l=n,this.#t=b,this.#S=n[0],this.#c=qu.toDateObject(o),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#D(),this.#a.hidden=!0,m&&this.#A())}#D(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#M(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#S.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#S.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const u=this.#S.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#R(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#R(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#m;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#S.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#m}get comment(){return this.#E||=this.#S.commentText,this.#E}set comment(t){t!==this.comment&&(this.#S.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#m.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#S.layer.getBoundingClientRect();return[(t-r)/l,(e+n-o)/u]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,l+n*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=at.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#x?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#x}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}ug({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#L(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#O(){return this.#L?.attributes?.style?.fontSize||0}get#I(){return this.#L?.attributes?.style?.color||null}#N(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#I,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#F(),this.#E=e.text)),t&&(this.#y=null,this.#M(),this.#R());return}if(n||e?.deleted){this.remove();return}this.#D(),this.#w||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#N(e.text),this.#c=qu.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#T}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:o}}}=this.#d;let l=!!this.#h,u=l?this.#h:this.#b;for(const S of this.#l)if(!u||at.intersect(S.data.rect,u)!==null){u=S.data.rect,l=!0;break}const d=at.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,m=d[0]+p,b=d[1];this.#u=[100*(m-r)/e,100*(b-o)/n];const{style:v}=this.#a;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#A(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#P(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#j(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#P(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#j(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#D(),this.#_&&(this.#g||this.#P(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class Qx extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class DN extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class kN extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class LN extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jx extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class PN extends Jx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ON extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wg extends he{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,b=n.length;m<b;m++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[m].join(",")),p.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class tE extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class NN extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class BN extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class FN extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class eE extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class IN extends he{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Be.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Ag=class nE{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#r=u||null,this.#s=f||null,this.#i=p||new fg,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,n){const r=t.firstChild||t,o=r.id=`${lg}${e}`,l=await this.#r?.getAriaAttributes(o);if(l)for(const[u,d]of l)r.setAttribute(u,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Os(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new wl,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===ye.POPUP;if(u){const p=r.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=VA.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#a(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new wl,parent:this};for(const n of t){n.borderStyle||=nE._defaultBorderStyle,e.data=n;const r=VA.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#a(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Os(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:r}=t,o=new SN({data:{id:n,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:dr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Su=/\r\n?|\n/g;class Oe extends gt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Oe.prototype,e=o=>o.isEmpty(),n=Qi.TRANSLATE_SMALL,r=Qi.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Pl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=St.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Oe._defaultColor||gt._defaultLineColor,this.#n=t.fontSize||Oe._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){gt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case kt.FREETEXT_SIZE:Oe._defaultFontSize=e;break;case kt.FREETEXT_COLOR:Oe._defaultColor=e;break}}updateParams(t,e){switch(t){case kt.FREETEXT_SIZE:this.#r(e);break;case kt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[kt.FREETEXT_SIZE,Oe._defaultFontSize],[kt.FREETEXT_COLOR,Oe._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[kt.FREETEXT_SIZE,this.#n],[kt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new vl(this),[["colorPicker",this._colorPicker]]}get colorType(){return kt.FREETEXT_COLOR}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Oe._internalPadding*t,-(Oe._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Oe.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Oe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,b]=this.pageTranslation;let v,S;switch(this.rotation){case 0:v=t+(l[0]-m)/f,S=e+this.height-(l[1]-b)/p;break;case 90:v=t+(l[0]-m)/f,S=e-(l[1]-b)/p,[u,d]=[d,-u];break;case 180:v=t-this.width+(l[0]-m)/f,S=e-(l[1]-b)/p,[u,d]=[-u,-d];break;case 270:v=t+(l[0]-m-this.height*p)/f,S=e+(l[1]-b-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(v*r,S*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Su,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Oe.#h(e.getData("text")||"").replaceAll(Su,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const v=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Su,"")),v!==this.editorDiv){let S=f;for(const w of this.editorDiv.childNodes){if(w===v){S=p;continue}S.push(Oe.#c(w))}}f.push(u.nodeValue.slice(0,d).replaceAll(Su,""))}else if(u===this.editorDiv){let v=f,S=0;for(const w of this.editorDiv.childNodes)S++===d&&(v=p),v.push(Oe.#c(w))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const m=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const S=v.nodeValue.length;if(b<=S){m.setStart(v,b),m.setEnd(v,b);break}b-=S}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Oe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof Qx){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:m,richText:b,contentsObj:v,creationDate:S,modificationDate:w},textContent:E,textPosition:x,parent:{page:{pageNumber:C}}}=t;if(!E||E.length===0)return null;r=t={annotationType:St.FREETEXT,color:Array.from(u),fontSize:l,value:E.join(`
`),position:x,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:v?.str||null,richText:b,creationDate:S,modificationDate:w}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=at.makeHexColor(...t.color),o.#t=Oe.#h(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class st{static PRECISION=1e-4;toSVGPath(){Qt("Abstract method `toSVGPath` must be implemented.")}get box(){Qt("Abstract getter `box` must be implemented.")}serialize(t,e){Qt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=n+t[u+1]*o;return l}static _rescaleAndSwap(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=n+t[u]*o;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=n+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,o){switch(o){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,o,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}class ua{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=ua.#g+ua.#p;constructor({x:t,y:e},n,r,o,l,u=0){this.#t=n,this.#h=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=ua.#g*r,this.#c=ua.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,o,l]=this.#t;return[(this.#a+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#a+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#a=t,this.#o=e;const[n,r,o,l]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const m=t-f,b=e-p,v=Math.hypot(m,b);if(v<this.#c)return!1;const S=v-this.#l,w=S/v,E=w*m,x=w*b;let C=u,_=d;u=f,d=p,f+=E,p+=x,this.#f?.push(t,e);const k=-x/S,D=E/S,N=k*this.#h,P=D*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+N,p+P],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-N,p-P],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+N,d+P],2),this.#r.push(NaN,NaN,NaN,NaN,(u+N-n)/o,(d+P-r)/l),this.#s.set([u-N,d-P],14),this.#e.push(NaN,NaN,NaN,NaN,(u-N-n)/o,(d-P-r)/l)),this.#s.set([C,_,u,d,f,p],6),!this.isEmpty()):(this.#s.set([C,_,u,d,f,p],6),Math.abs(Math.atan2(_-d,C-u)-Math.atan2(x,E))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-r)/l),[u,d,C,_]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-n)/o,((_+d)/2-r)/l),!0):([C,_,u,d,f,p]=this.#s.subarray(0,6),this.#r.push(((C+5*u)/6-n)/o,((_+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),[f,p,u,d,C,_]=this.#s.subarray(12,18),this.#e.push(((C+5*u)/6-n)/o,((_+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[o,l,u,d]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${o} ${l} L${u} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,r,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,m]=this.#m();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${m} L${(u[0]-e)/r} ${(u[1]-n)/o}`)}newFreeDrawOutline(t,e,n,r,o,l){return new iE(t,e,n,r,o,l)}getOutlines(){const t=this.#r,e=this.#e,n=this.#s,[r,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,b=d.length-2;m<b;m+=2)d[m]=(this.#f[m]-r)/l,d[m+1]=(this.#f[m+1]-o)/u;if(d[d.length-2]=(this.#a-r)/l,d[d.length-1]=(this.#o-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#w(f,p);for(let m=e.length-6;m>=6;m-=6)for(let b=0;b<6;b+=2){if(isNaN(e[m+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+b],f[p+1]=e[m+b+1],p+=2}return this.#x(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[n,r,o,l]=this.#t,[u,d,f,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#i,this.#n)}#x(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#w(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,u,d]=this.#t,[f,p,m,b]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],e),e+=24}}class iE extends st{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,n,r,o,l){super(),this.#a=t,this.#r=e,this.#t=n,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let m=0,b=t.length;m<b;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,b=e.length;m<b;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,n=this.#a.length;e<n;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],o){const l=n-t,u=r-e;let d,f;switch(o){case 0:d=st._rescale(this.#a,t,r,l,-u),f=st._rescale(this.#r,t,r,l,-u);break;case 90:d=st._rescaleAndSwap(this.#a,t,e,l,u),f=st._rescaleAndSwap(this.#r,t,e,l,u);break;case 180:d=st._rescale(this.#a,n,e,-l,u),f=st._rescale(this.#r,n,e,-l,u);break;case 270:d=st._rescaleAndSwap(this.#a,n,r,-l,-u),f=st._rescaleAndSwap(this.#r,n,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#a;let n=e[4],r=e[5];const o=[n,r,n,r];let l=n,u=r,d=n,f=r;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let v=6,S=e.length;v<S;v+=6){const w=e[v+4],E=e[v+5];isNaN(e[v])?(at.pointBoundingBox(w,E,o),u>E?(l=w,u=E):u===E&&(l=p(l,w)),f<E?(d=w,f=E):f===E&&(d=p(d,w))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,at.bezierBoundingBox(n,r,...e.slice(v,v+6),m),at.rectBoundingBox(m[0],m[1],m[2],m[3],o),u>m[1]?(l=m[0],u=m[1]):u===m[1]&&(l=p(l,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),n=w,r=E}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,r,o,l=0){return new ua(t,e,n,r,o,l)}getNewOutline(t,e){const[n,r,o,l]=this.#e,[u,d,f,p]=this.#t,m=o*f,b=l*p,v=n*f+u,S=r*p+d,w=this.newOutliner({x:this.#r[0]*m+v,y:this.#r[1]*b+S},this.#t,this.#s,t,this.#n,e??this.#i);for(let E=2;E<this.#r.length;E+=2)w.add({x:this.#r[E]*m+v,y:this.#r[E+1]*b+S});return w.getOutlines()}}class lm{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,n=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:E,width:x,height:C}of t){const _=Math.floor((w-e)/l)*l,k=Math.ceil((w+x+e)/l)*l,D=Math.floor((E-e)/l)*l,N=Math.ceil((E+C+e)/l)*l,P=[_,D,N,!0],I=[k,D,N,!1];this.#n.push(P,I),at.rectBoundingBox(_,D,k,N,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let m=r?-1/0:1/0,b=1/0;const v=this.#n.at(r?-1:-2),S=[v[0],v[2]];for(const w of this.#n){const[E,x,C,_]=w;!_&&r?x<b?(b=x,m=E):x===b&&(m=Math.max(m,E)):_&&!r&&(x<b?(b=x,m=E):x===b&&(m=Math.min(m,E))),w[0]=(E-f)/u,w[1]=(x-p)/d,w[2]=(C-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[m,b],this.#i=S}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,m]=l;n.delete(l);let b=u,v=d;for(o=[u,f],r.push(o);;){let S;if(n.has(p))S=p;else if(n.has(m))S=m;else break;n.delete(S),[u,d,f,p,m]=S,b!==u&&(o.push(b,v,u,v===d?d:f),b=u),v=v===d?f:d}o.push(b,v)}return new jN(r,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:r=o-1}return r+1}#o([,t,e]){const n=this.#a(t);this.#r.splice(n,0,[t,e])}#c([,t,e]){const n=this.#a(t);for(let r=n;r<this.#r.length;r++){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}}#l(t){const[e,n,r]=t,o=[[e,n,r]],l=this.#a(r);for(let u=0;u<l;u++){const[d,f]=this.#r[u];for(let p=0,m=o.length;p<m;p++){const[,b,v]=o[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,v>f&&o.push([e,f,v])}}}return o}}class jN extends st{#t;#e;constructor(t,e,n,r){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===n?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],o){const l=[],u=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=r-f[m+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class cm extends ua{newFreeDrawOutline(t,e,n,r,o,l){return new zN(t,e,n,r,o,l)}}class zN extends iE{newOutliner(t,e,n,r,o,l=0){return new cm(t,e,n,r,o,l)}}class be extends gt{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=St.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=be.prototype;return Ct(this,"_keyboardManager",new Pl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||be._defaultColor,this.#m=t.thickness||be._defaultThickness,this.opacity=t.opacity||be._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#S()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new lm(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new lm(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:be.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:be.#E(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[m,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*b/m,this.height=d*m/b;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[m,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*b/m,this.height=d*m/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-o)/u,(p[1]-l)/d]}static initialize(t,e){gt.initialize(t,e),be._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case kt.HIGHLIGHT_COLOR:be._defaultColor=e;break;case kt.HIGHLIGHT_THICKNESS:be._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case kt.HIGHLIGHT_COLOR:this.#T(e);break;case kt.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[kt.HIGHLIGHT_COLOR,be._defaultColor],[kt.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[kt.HIGHLIGHT_COLOR,this.color||be._defaultColor],[kt.HIGHLIGHT_THICKNESS,this.#m||be._defaultThickness],[kt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,be._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#x(t){const e=this.#m,n=r=>{this.#m=r,this.#w(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new Dn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#R())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#S(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#w(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,n,r],o){switch(o){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=be.#E(this.#l.box,t)):n=be.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:be.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),kx(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){be._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#R(){return this.#h?this.rotation:0}#F(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of o){const b=d*t+n,v=(1-f)*e+r;l[u]=l[u+4]=b,l[u+1]=l[u+3]=v,l[u+2]=l[u+6]=b+p*t,l[u+5]=l[u+7]=v-m*e,u+=8}return l}#L(t){return this.#l.serialize(t,this.#R())}static startHighlighting(t,e,{target:n,x:r,y:o}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),b=v=>{p.abort(),this.#I(t,v)};window.addEventListener("blur",b,{signal:m}),window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("pointerdown",ce,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ln,{signal:m}),n.addEventListener("pointermove",this.#O.bind(this,t),{signal:m}),this._freeHighlight=new cm({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof tE){const{data:{quadPoints:S,rect:w,rotation:E,id:x,color:C,opacity:_,popupRef:k,richText:D,contentsObj:N,creationDate:P,modificationDate:I},parent:{page:{pageNumber:V}}}=t;r=t={annotationType:St.HIGHLIGHT,color:Array.from(C),opacity:_,quadPoints:S,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,popupRef:k,richText:D,comment:N?.str||null,creationDate:P,modificationDate:I}}else if(t instanceof wg){const{data:{inkLists:S,rect:w,rotation:E,id:x,color:C,borderStyle:{rawWidth:_},popupRef:k,richText:D,contentsObj:N,creationDate:P,modificationDate:I},parent:{page:{pageNumber:V}}}=t;r=t={annotationType:St.HIGHLIGHT,color:Array.from(C),thickness:_,inkLists:S,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,popupRef:k,richText:D,comment:N?.str||null,creationDate:P,modificationDate:I}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=at.makeHexColor(...o),f.opacity=d||1,u&&(f.#m=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[b,v]=f.pageTranslation;if(l){const S=f.#i=[];for(let w=0;w<l.length;w+=8)S.push({x:(l[w]-b)/p,y:1-(l[w+1]-v)/m,width:(l[w+2]-l[w])/p,height:(l[w+1]-l[w+5])/m});f.#v(),f.#S(),f.rotate(f.rotation)}else if(u){f.#h=!0;const S=u[0],w={x:S[0]-b,y:m-(S[1]-v)},E=new cm(w,[0,0,p,m],1,f.#m/2,!0,.001);for(let _=0,k=S.length;_<k;_+=2)w.x=S[_]-b,w.y=m-(S[_+1]-v),E.add(w);const{id:x,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#b({highlightOutlines:E.getOutlines(),highlightId:x,clipPathId:C}),f.#S(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=gt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#F(),outlines:this.#L(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#N(n)?null:(n.id=this.annotationElementId,n)}#N(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class sE{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Qt("Not implemented")}}class wt extends gt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(wt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))n.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Qt("Not implemented")}static get typesMap(){Qt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(wt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,o=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,n*(l/o),r*(o/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/o),r*(o/l)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,n*(o/l),r*(l/o)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(u/d),r*(d/u),n*(u/d)];case 5:return[1-e,t,n*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),n*(u/d)];case 7:return[e-n*(u/d),1-t-r*(d/u),n*(u/d),r*(d/u)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/u),e,r*(d/u),n*(u/d)];case 13:return[1-e-n*(u/d),t-r*(d/u),n*(u/d),r*(d/u)];case 14:return[1-t,1-e-n*(u/d),r*(d/u),n*(u/d)];case 15:return[e,1-t,n*(u/d),r*(d/u)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,o){Qt("Not implemented")}static startDrawing(t,e,n,r){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(wt.#a&&wt.#a!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:b}=o.getBoundingClientRect(),v=wt.#n=new AbortController,S=t.combinedSignal(v);if(wt.#s||=d,wt.#a??=f,window.addEventListener("pointerup",w=>{wt.#s===w.pointerId?this._endDraw(w):wt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointercancel",w=>{wt.#s===w.pointerId?this._currentParent.endDrawingSession():wt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointerdown",w=>{wt.#a===w.pointerType&&((wt.#o||=new Set).add(w.pointerId),wt.#i.isCancellable()&&(wt.#i.removeLastElement(),wt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ln,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",w=>{w.timeStamp===wt.#c&&ce(w)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),wt.#i){t.drawLayer.updateProperties(this._currentDrawId,wt.#i.startNew(l,u,m,b,p));return}e.updateUIForDefaultProperties(this),wt.#i=this.createDrawerInstance(l,u,m,b,p),wt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(wt.#r.toSVGProperties(),wt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(wt.#c=-1,!wt.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(wt.#s===r){if(wt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,wt.#i.add(e,n)),wt.#c=t.timeStamp,ce(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,wt.#i=null,wt.#r=null,wt.#a=null,wt.#c=NaN),wt.#n&&(wt.#n.abort(),wt.#n=null,wt.#s=NaN,wt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,wt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=wt.#i,r=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:kt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(kt.DRAW_STEP),!wt.#i.isEmpty()){const{pageDimensions:[n,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:wt.#i.getOutlines(n*o,r*o,o,this._INNER_MARGIN),drawingOptions:wt.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,o,l){Qt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,n,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class UN{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new Bl;#l;#d;constructor(t,e,n,r,o,l){this.#l=n,this.#d=r,this.#n=o,this.#r=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return st._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,r,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,o,l,t,e],0),this.#e.push(...st.createBezierPoints(n,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,o){this.#l=n,this.#d=r,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=st.svgRound(this.#e[4]),e=st.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=st.svgRound(this.#e[10]),o=st.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${o}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,u,d,f,p,m]=this.#e.slice(r,r+6).map(st.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}return this.#a+=n.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,n,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#r,r),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Bl extends st{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,n,r,o,l,u){this.#r=e,this.#s=n,this.#a=r,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${st.svgRound(e[4])} ${st.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${st.svgRound(e[10])} ${st.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[o,l,u,d,f,p]=e.subarray(n,n+6).map(st.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],o){const l=[],u=[],[d,f,p,m]=this.#d();let b,v,S,w,E,x,C,_,k;switch(this.#o){case 0:k=st._rescale,b=t,v=e+r,S=n,w=-r,E=t+d*n,x=e+(1-f-m)*r,C=t+(d+p)*n,_=e+(1-f)*r;break;case 90:k=st._rescaleAndSwap,b=t,v=e,S=n,w=r,E=t+f*n,x=e+d*r,C=t+(f+m)*n,_=e+(d+p)*r;break;case 180:k=st._rescale,b=t+n,v=e,S=-n,w=r,E=t+(1-d-p)*n,x=e+f*r,C=t+(1-d)*n,_=e+(f+m)*r;break;case 270:k=st._rescaleAndSwap,b=t+n,v=e+r,S=-n,w=-r,E=t+(1-f-m)*n,x=e+(1-d-p)*r,C=t+(1-f)*n,_=e+(1-d)*r;break}for(const{line:D,points:N}of this.#n)l.push(k(D,b,v,S,w,o?new Array(D.length):null)),u.push(k(N,b,v,S,w,o?new Array(N.length):null));return{lines:l,points:u,rect:[E,x,C,_]}}static deserialize(t,e,n,r,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let m,b,v,S,w;switch(d){case 0:w=st._rescale,m=-t/n,b=e/r+1,v=1/n,S=-1/r;break;case 90:w=st._rescaleAndSwap,m=-e/r,b=-t/n,v=1/r,S=1/n;break;case 180:w=st._rescale,m=t/n+1,b=-e/r,v=-1/n,S=1/r;break;case 270:w=st._rescaleAndSwap,m=e/r+1,b=t/n+1,v=-1/r,S=-1/n;break}if(!l){l=[];for(const x of u){const C=x.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const _=new Float32Array(3*(C-2));l.push(_);let[k,D,N,P]=x.subarray(0,4);_.set([NaN,NaN,NaN,NaN,k,D],0);for(let I=4;I<C;I+=2){const V=x[I],W=x[I+1];_.set(st.createBezierPoints(k,D,N,P,V,W),(I-2)*3),[k,D,N,P]=[N,P,V,W]}}}for(let x=0,C=l.length;x<C;x++)p.push({line:w(l[x].map(_=>_??NaN),m,b,v,S),points:w(u[x].map(_=>_??NaN),m,b,v,S)});const E=new this.prototype.constructor;return E.build(p,n,r,1,d,f,o),E}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,n,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)at.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,b,v,S]=r.subarray(u,u+6);at.bezierBoundingBox(o,l,f,p,m,b,v,S,t),o=v,l=S}}const[e,n]=this.#l();t[0]=Xe(t[0]-e,0,1),t[1]=Xe(t[1]-n,0,1),t[2]=Xe(t[2]+e,0,1),t[3]=Xe(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,o]=this.#l(),[l,u]=[r-e,o-n],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],n){const[r,o]=this.#l();this.#r=t,this.#s=e,this.#a=n;const[l,u]=this.#l(),d=l-r,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(st.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:n=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${o} ${l} ${st.svgRound(u)} ${st.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[o,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=st.PRECISION||Math.abs(p-l)<=st.PRECISION){const w=t+n/2-(u+f/2),E=e+r/2-(d+p/2);return{path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${E})`}}}const m=(n-2*o)/(f-2*o),b=(r-2*l)/(p-2*l),v=f/n,S=p/r;return{path:{"transform-origin":`${st.svgRound(u)} ${st.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${S}) translate(${st.svgRound(o)} ${st.svgRound(l)}) scale(${m} ${b}) translate(${st.svgRound(-o)} ${st.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[o,l]=this.#l(),u=this.#t,[d,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=n,u[3]=r,Math.abs(p-o)<=st.PRECISION||Math.abs(m-l)<=st.PRECISION){const E=t+n/2-(d+p/2),x=e+r/2-(f+m/2);for(const{line:C,points:_}of this.#n)st._translate(C,E,x,C),st._translate(_,E,x,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*o)/(p-2*o),v=(r-2*l)/(m-2*l),S=-b*(d+o)+t+o,w=-v*(f+l)+e+l;if(b!==1||v!==1||S!==0||w!==0)for(const{line:E,points:x}of this.#n)st._rescale(E,S,w,b,v,E),st._rescale(x,S,w,b,v,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,o]=n,l=this.#t,u=t-l[0],d=e-l[1];if(this.#r===r&&this.#s===o)for(const{line:f,points:p}of this.#n)st._translate(f,u,d,f),st._translate(p,u,d,p);else{const f=this.#r/r,p=this.#s/o;this.#r=r,this.#s=o;for(const{line:m,points:b}of this.#n)st._rescale(m,u,d,f,p,m),st._rescale(b,u,d,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t[0])} ${st.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class bh extends sE{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:gt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new bh(this._viewParameters);return t.updateAll(this),t}}class Sg extends wt{static _type="ink";static _editorType=St.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){gt.initialize(t,e),this._defaultDrawingOptions=new bh(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[kt.INK_THICKNESS,"stroke-width"],[kt.INK_COLOR,"stroke"],[kt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,o){return new UN(t,e,n,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,o,l){return Bl.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){let r=null;if(t instanceof wg){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:b},popupRef:v,richText:S,contentsObj:w,creationDate:E,modificationDate:x},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:St.INK,color:Array.from(p),thickness:b,opacity:m,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v,richText:S,comment:w?.str||null,creationDate:E,modificationDate:x}}const o=await super.deserialize(t,e,n);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new vl(this),[["colorPicker",this._colorPicker]]}get colorType(){return kt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Sg.getDefaultDrawingOptions({stroke:at.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:gt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==n||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class um extends Bl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const xu=8,Zo=3;class oa{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(r+b)]!==0)return p}return-1}static#r(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(r+b)]!==0)return p}return-1}static#s(t,e,n,r){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let m=1;m<e-1;m++){const b=p*e+m,v=l[b];if(v===0)continue;let S=p,w=m;if(v===1&&l[b-1]===0)u+=1,w-=1;else if(v>=1&&l[b+1]===0)u+=1,w+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const E=[m,p],x=w===m+1,C={isHole:x,points:E,id:u,parent:0};f.push(C);let _;for(const J of f)if(J.id===d){_=J;break}_?_.isHole?C.parent=x?_.parent:d:C.parent=x?d:_.parent:C.parent=x?d:0;const k=this.#n(l,e,p,m,S,w,0);if(k===-1){l[b]=-u,l[b]!==1&&(d=Math.abs(l[b]));continue}let D=this.#i[2*k],N=this.#i[2*k+1];const P=p+D,I=m+N;S=P,w=I;let V=p,W=m;for(;;){const J=this.#r(l,e,V,W,S,w,1);D=this.#i[2*J],N=this.#i[2*J+1];const nt=V+D,pt=W+N;E.push(pt,nt);const it=V*e+W;if(l[it+1]===0?l[it]=-u:l[it]===1&&(l[it]=u),nt===p&&pt===m&&V===P&&W===I){l[b]!==1&&(d=Math.abs(l[b]));break}else S=V,w=W,V=nt,W=pt}}}return f}static#a(t,e,n,r){if(n-e<=4){for(let P=e;P<n-2;P+=2)r.push(t[P],t[P+1]);return}const o=t[e],l=t[e+1],u=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(u,d),p=u/f,m=d/f,b=p*l-m*o,v=d/u,S=1/f,w=Math.atan(v),E=Math.cos(w),x=Math.sin(w),C=S*(Math.abs(E)+Math.abs(x)),_=S*(1-C+C**2),k=Math.max(Math.atan(Math.abs(x+E)*_),Math.atan(Math.abs(x-E)*_));let D=0,N=e;for(let P=e+2;P<n-2;P+=2){const I=Math.abs(b-p*t[P+1]+m*t[P]);I>D&&(N=P,D=I)}D>(f*k)**2?(this.#a(t,e,N+2,r),this.#a(t,N,n,r)):r.push(o,l)}static#o(t){const e=[],n=t.length;return this.#a(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,o,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let w=0;w<l;w++){const E=(w-f)**2;for(let x=0;x<l;x++)u[w*l+x]=Math.exp((E+(x-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let w=0;w<256;w++)p[w]=Math.exp(w**2/m);const b=t.length,v=new Uint8Array(b),S=new Uint32Array(256);for(let w=0;w<n;w++)for(let E=0;E<e;E++){const x=w*e+E,C=t[x];let _=0,k=0;for(let N=0;N<l;N++){const P=w+N-f;if(!(P<0||P>=n))for(let I=0;I<l;I++){const V=E+I-f;if(V<0||V>=e)continue;const W=t[P*e+V],J=u[N*l+I]*p[Math.abs(W-C)];_+=W*J,k+=J}}const D=v[x]=Math.round(_/k);S[D]++}return[v,S]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){const f=n[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let u=0,d=n.length;u<d;u++)n[u]=(n[u]-o)*l;return n}static#h(t){let e,n=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>r&&(r=e-l,u=e-1),n=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:o}=this.#t;let l=n,u=r;if(n>o||r>o){let b=n,v=r,S=Math.log2(Math.max(n,r)/o);const w=Math.floor(S);S=S===w?w-1:w;for(let x=0;x<S;x++){l=Math.ceil(b/2),u=Math.ceil(v/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(t,0,0,b,v,0,0,l,u),b=l,v=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const E=Math.min(o/l,o/u);l=Math.round(l*E),u=Math.round(u*E)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#d(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,b=p.font=`${n} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:S,actualBoundingBoxAscent:w,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:C,width:_}=p.measureText(t),k=1.5,D=Math.ceil(Math.max(Math.abs(v)+Math.abs(S)||0,_)*k),N=Math.ceil(Math.max(Math.abs(w)+Math.abs(E)||m,Math.abs(x)+Math.abs(C)||m)*k);f=new OffscreenCanvas(D,N),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,D,N),p.fillStyle="black",p.fillText(t,D*(k-1)/2,N*(3-k)/2);const P=this.#d(p.getImageData(0,0,D,N).data),I=this.#l(P),V=this.#h(I),W=this.#s(P,D,N,V);return this.processDrawnLines({lines:{curves:W,width:D,height:N},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,o){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#h(p),b=this.#s(f,u,d,m);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,b=[],v=Math.min(e/f,n/p),S=v/e,w=v/n,E=[];for(const{points:C}of d){const _=l?this.#o(C):C;if(!_)continue;E.push(_);const k=_.length,D=new Float32Array(k),N=new Float32Array(3*(k===2?2:k-2));if(b.push({line:N,points:D}),k===2){D[0]=_[0]*S,D[1]=_[1]*w,N.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[P,I,V,W]=_;P*=S,I*=w,V*=S,W*=w,D.set([P,I,V,W],0),N.set([NaN,NaN,NaN,NaN,P,I],0);for(let J=4;J<k;J+=2){const nt=D[J]=_[J]*S,pt=D[J+1]=_[J+1]*w;N.set(st.createBezierPoints(P,I,V,W,nt,pt),(J-2)*3),[P,I,V,W]=[V,W,nt,pt]}}if(b.length===0)return null;const x=u?new um:new Bl;return x.build(b,e,n,1,r,u?0:m,o),{outline:x,newCurves:E,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:o}){let l=1/0,u=-1/0,d=0;for(const _ of t){d+=_.length;for(let k=2,D=_.length;k<D;k++){const N=_[k]-_[k-2];l=Math.min(l,N),u=Math.max(u,N)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=xu+Zo*p,b=new Uint32Array(m);let v=0;b[v++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=r,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(n??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const _ of t)b[v++]=_.length-2,b[v++]=_[0],b[v++]=_[1];const S=new CompressionStream("deflate-raw"),w=S.writable.getWriter();await w.ready,w.write(b);const E=f.prototype.constructor;for(const _ of t){const k=new E(_.length-2);for(let D=2,N=_.length;D<N;D++)k[D-2]=_[D]-_[D-2];w.write(k)}w.close();const x=await new Response(S.readable).arrayBuffer(),C=new Uint8Array(x);return Ex(C)}static async decompressSignature(t){try{const e=dO(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const _ of n)l||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),l.set(_,u),u+=_.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],b=d[4]===0,v=d[5],S=d[6],w=d[7],E=[],x=(xu+Zo*S)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,x);break}u=0;for(let _=0;_<S;_++){const k=d[Zo*_+xu],D=new Float32Array(k+2);E.push(D);for(let N=0;N<Zo-1;N++)D[N]=d[Zo*_+xu+N+1];for(let N=0;N<k;N++)D[N+2]=D[N]+C[u++]}return{areContours:b,thickness:v,outlines:E,width:p,height:m}}catch(e){return xt(`decompressSignature: ${e}`),null}}}class xg extends sE{constructor(){super(),super.updateProperties({fill:gt._defaultLineColor,"stroke-width":0})}clone(){const t=new xg;return t.updateAll(this),t}}class Eg extends bh{constructor(t){super(t),super.updateProperties({stroke:gt._defaultLineColor,"stroke-width":1})}clone(){const t=new Eg(this._viewParameters);return t.updateAll(this),t}}class bi extends wt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=St.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){gt.initialize(t,e),this._defaultDrawingOptions=new xg,this._defaultDrawnSignatureOptions=new Eg(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:b}=this.parent.viewport,v=oa.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:b,innerMargin:bi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:o}=this.#i,l=Math.max(r,o),u=oa.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof um,this.description=n;let d;this.#t?d=bi.getDefaultDrawingOptions():(d=bi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return oa.process(t,e,n,r,bi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return oa.extractContoursFromText(t,e,n,r,o,bi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return oa.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:bi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=bi.getDefaultDrawingOptions():(this._drawingOptions=bi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,o,l){return l.areContours?um.deserialize(t,e,n,r,o,l):Bl.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class HN extends gt{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=St.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){gt.initialize(t,e)}static isHandlingMimeForPasting(t){return Xu.includes(t)}static paste(t,e){e.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Xu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*o;else if(e>l*r||n>l*o){const d=Math.min(l*r/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new li;let u=this.#t,d=r,f=o,p=null;if(e){if(r>e||o>e){const N=Math.min(e/r,e/o);d=Math.floor(r*N),f=Math.floor(o*N)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(b,v));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let w="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":mO.isDarkMode&&(w="#8f8f9d",E="#42414d");const x=15,C=x*l.sx,_=x*l.sy,k=new OffscreenCanvas(C*2,_*2),D=k.getContext("2d");D.fillStyle=w,D.fillRect(0,0,C*2,_*2),D.fillStyle=E,D.fillRect(0,0,C,_),D.fillRect(C,_,C,_),S.fillStyle=S.createPattern(k,"repeat"),S.fillRect(0,0,b,v),S.drawImage(u,0,0,u.width,u.height,0,0,b,v)}let m=null;if(n){let b,v;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,v=u.height;else if(u=this.#t,r>t||o>t){const E=Math.min(t/r,t/o);b=Math.floor(r*E),v=Math.floor(o*E),this.#l||(u=this.#u(b,v))}const w=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});w.drawImage(u,0,0,u.width,u.height,0,0,b,v),m={width:b,height:v,data:w.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(t,e){const{width:n,height:r}=this.#t;let o=n,l=r,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,o=new li,l=Math.ceil(n*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#a;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*ga.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*ga.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,o=!1;if(t instanceof eE){const{data:{rect:w,rotation:E,id:x,structParent:C,popupRef:_,richText:k,contentsObj:D,creationDate:N,modificationDate:P},container:I,parent:{page:{pageNumber:V}},canvas:W}=t;let J,nt;W?(delete t.canvas,{id:J,bitmap:nt}=n.imageManager.getFromCanvas(I.id,W),W.remove()):(o=!0,t._hasNoCanvas=!0);const pt=(await e._structTree.getAriaAttributes(`${lg}${x}`))?.get("aria-label")||"";r=t={annotationType:St.STAMP,bitmapId:J,bitmap:nt,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:pt},isSvg:!1,structParent:C,popupRef:_,richText:k,comment:D?.str||null,creationDate:N,modificationDate:P}}const l=await super.deserialize(t,e,n),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:b}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=m;const[v,S]=l.pageDimensions;return l.width=(u[2]-u[0])/v,l.height=(u[3]-u[1])/S,b&&(l.altTextData=b),l._initialData=r,t.comment&&l.setCommentData(t),l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#v(n);return u.isSame?null:(u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class wi{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Oe,Sg,HN,be,bi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...wi.#m.values()];if(!wi._initialized){wi._initialized=!0;for(const b of m)b.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===St.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#w(),t){case St.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===St.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of wi.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const n=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:u,timeStamp:d}=r,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let b;const v=new RegExp(`^${ml}[0-9]+$`);for(const w of m)if(v.test(w.id)){b=w.id;break}if(!b)return;const S=this.#s.get(b);S?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),S.dblclick(r))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of wi.#m.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Be.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),be.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),gt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#b(){return wi.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#x(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await wi.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),o=this.#T({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#x(){const{x:t,y:e,width:n,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,p=(l+d)/2-e,[m,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===St.STAMP||n===St.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===St.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Os(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#w();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Os(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Ne{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new wl)}static#r(t,[e,n,r,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=Ne._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const n=Ne._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Ne._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=Ne.#n++,o=this.#s(),l=Ne._svgFactory.createElement("defs");o.append(l);const u=Ne._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=n?this.#a(l,d):null,p=Ne._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Ne.#n++,r=this.#s(),o=Ne._svgFactory.createElement("defs");r.append(o);const l=Ne._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=Ne._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=Ne._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Ne._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=Ne._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#o(u,n),r&&Ne.#r(u,r),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:lm};globalThis.pdfjsLib={AbortException:Zi,AnnotationEditorLayer:wi,AnnotationEditorParamsType:kt,AnnotationEditorType:St,AnnotationEditorUIManager:Qi,AnnotationLayer:Ag,AnnotationMode:Si,AnnotationType:ye,applyOpacity:Rx,build:Kx,ColorPicker:Dn,createValidAbsoluteUrl:ag,CSSConstants:Mx,DOMSVGFactory:wl,DrawLayer:Ne,FeatureTest:Be,fetchData:Hr,findContrastColor:Dx,getDocument:yh,getFilenameFromUrl:Tx,getPdfFilenameFromUrl:Cx,getRGB:Vr,getUuid:og,getXfaPageViewport:_x,GlobalWorkerOptions:ks,ImageKind:ol,InvalidPDFException:$u,isDataScheme:Ll,isPdfFile:mh,isValidExplicitDest:Ox,MathClamp:Xe,noContextMenu:Ln,normalizeUnicode:xx,OPS:kr,OutputScale:li,PasswordResponses:Ax,PDFDataRangeTransport:bg,PDFDateString:qu,PDFWorker:Lr,PermissionFlag:wx,PixelsPerInch:ga,RenderingCancelledException:ph,renderRichText:ug,ResponseException:gl,setLayerDimensions:Os,shadow:Ct,SignatureExtractor:oa,stopEvent:ce,SupportedImageMimeTypes:Xu,TextLayer:bl,TouchManager:Ol,updateUrlHash:rg,Util:at,VerbosityLevel:Rl,version:Wx,XfaLayer:cg};const VN=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Zi,AnnotationEditorLayer:wi,AnnotationEditorParamsType:kt,AnnotationEditorType:St,AnnotationEditorUIManager:Qi,AnnotationLayer:Ag,AnnotationMode:Si,AnnotationType:ye,CSSConstants:Mx,ColorPicker:Dn,DOMSVGFactory:wl,DrawLayer:Ne,FeatureTest:Be,GlobalWorkerOptions:ks,ImageKind:ol,InvalidPDFException:$u,MathClamp:Xe,OPS:kr,OutputScale:li,PDFDataRangeTransport:bg,PDFDateString:qu,PDFWorker:Lr,PasswordResponses:Ax,PermissionFlag:wx,PixelsPerInch:ga,RenderingCancelledException:ph,ResponseException:gl,SignatureExtractor:oa,SupportedImageMimeTypes:Xu,TextLayer:bl,TouchManager:Ol,Util:at,VerbosityLevel:Rl,XfaLayer:cg,applyOpacity:Rx,build:Kx,createValidAbsoluteUrl:ag,fetchData:Hr,findContrastColor:Dx,getDocument:yh,getFilenameFromUrl:Tx,getPdfFilenameFromUrl:Cx,getRGB:Vr,getUuid:og,getXfaPageViewport:_x,isDataScheme:Ll,isPdfFile:mh,isValidExplicitDest:Ox,noContextMenu:Ln,normalizeUnicode:xx,renderRichText:ug,setLayerDimensions:Os,shadow:Ct,stopEvent:ce,updateUrlHash:rg,version:Wx},Symbol.toStringTag,{value:"Module"}));function aE(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=aE(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function vh(){for(var i,t,e=0,n="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=aE(i))&&(n&&(n+=" "),n+=t);return n}var GA=Object.prototype.hasOwnProperty;function $A(i,t,e){for(e of i.keys())if(Tr(e,t))return e}function Tr(i,t){var e,n,r;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Tr(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=$A(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=$A(t,r),!r)||!Tr(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(GA.call(i,e)&&++n&&!GA.call(t,e)||!(e in t)||!Tr(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}function Fl(i){let t=!1;return{promise:new Promise((n,r)=>{i.then(o=>!t&&n(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const GN=["onCopy","onCut","onPaste"],$N=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],qN=["onFocus","onBlur"],XN=["onInput","onInvalid","onReset","onSubmit"],YN=["onLoad","onError"],WN=["onKeyDown","onKeyPress","onKeyUp"],KN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],ZN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],QN=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],JN=["onSelect"],tB=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],eB=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],nB=["onScroll"],iB=["onWheel"],sB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],aB=["onTransitionEnd"],rB=["onToggle"],oB=["onChange"],lB=[...GN,...$N,...qN,...XN,...YN,...WN,...KN,...ZN,...QN,...JN,...tB,...eB,...nB,...iB,...sB,...aB,...oB,...rB];function rE(i,t){const e={};for(const n of lB){const r=i[n];r&&(t?e[n]=(o=>r(o,t(n))):e[n]=r)}return e}var cB="Invariant failed";function Zt(i,t){if(!i)throw new Error(cB)}var Tp,qA;function uB(){if(qA)return Tp;qA=1;var i=function(){};return Tp=i,Tp}var hB=uB();const Ye=hS(hB),oE=M.createContext(null),dB="noopener noreferrer nofollow";class fB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Zt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Zt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||dB,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Zt(this.pdfDocument),Zt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Zt(Array.isArray(e));const n=e[0];new Promise(r=>{Zt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{Zt(!1)}):typeof n=="number"?r(n):Zt(!1)}).then(r=>{const o=r+1;Zt(this.pdfViewer),Zt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;Zt(this.pdfViewer),Zt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Cr({children:i,type:t}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const XA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function pB(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Pr(){return M.useReducer(pB,{value:void 0,error:void 0})}const wh=typeof window<"u",lE=wh&&window.location.protocol==="file:";function mB(i){return typeof i<"u"}function ia(i){return mB(i)&&i!==null}function gB(i){return typeof i=="string"}function yB(i){return i instanceof ArrayBuffer}function bB(i){return Zt(wh),i instanceof Blob}function hm(i){return gB(i)&&/^data:/.test(i)}function YA(i){Zt(hm(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function vB(){return wh&&window.devicePixelRatio||1}const cE="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function WA(){Ye(!lE,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${cE}`)}function wB(){Ye(!lE,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${cE}`)}function ba(i){i?.cancel&&i.cancel()}function dm(i,t){return Object.defineProperty(i,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),i}function uE(i){return i.name==="AbortException"||i.name==="RenderingCancelledException"}function AB(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:SB}=VN,xB=(i,t)=>{switch(t){case XA.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case XA.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function KA(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const EB=M.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:b,onLoadProgress:v,onLoadSuccess:S,onPassword:w=xB,onSourceError:E,onSourceSuccess:x,options:C,renderMode:_,rotate:k,scale:D,...N},P){const[I,V]=Pr(),{value:W,error:J}=I,[nt,pt]=Pr(),{value:it,error:yt}=nt,F=M.useRef(new fB),U=M.useRef([]),Q=M.useRef(void 0),lt=M.useRef(void 0);l&&l!==Q.current&&KA(l)&&(Ye(!Tr(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),C&&C!==lt.current&&(Ye(!Tr(C,lt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),lt.current=C);const ut=M.useRef({scrollPageIntoView:Wt=>{const{dest:Ot,pageNumber:ee,pageIndex:ke=ee-1}=Wt;if(m){m({dest:Ot,pageIndex:ke,pageNumber:ee});return}const Se=U.current[ke];if(Se){Se.scrollIntoView();return}Ye(!1,`An internal link leading to page ${ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(P,()=>({linkService:F,pages:U,viewer:ut}),[]);function O(){x&&x()}function q(){J&&(Ye(!1,J.toString()),E&&E(J))}function tt(){V({type:"RESET"})}M.useEffect(tt,[l,V]);const et=M.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return hm(l)?{data:YA(l)}:(WA(),{url:l});if(l instanceof SB)return{range:l};if(yB(l))return{data:l};if(wh&&bB(l))return{data:await AB(l)};if(Zt(typeof l=="object"),Zt(KA(l)),"url"in l&&typeof l.url=="string"){if(hm(l.url)){const{url:Wt,...Ot}=l;return{data:YA(Wt),...Ot}}WA()}return l},[l]);M.useEffect(()=>{const Wt=Fl(et());return Wt.promise.then(Ot=>{V({type:"RESOLVE",value:Ot})}).catch(Ot=>{V({type:"REJECT",error:Ot})}),()=>{ba(Wt)}},[et,V]),M.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){q();return}O()}},[W]);function dt(){it&&(S&&S(it),U.current=new Array(it.numPages),F.current.setDocument(it))}function bt(){yt&&(Ye(!1,yt.toString()),b&&b(yt))}M.useEffect(function(){pt({type:"RESET"})},[pt,W]),M.useEffect(function(){if(!W)return;const Ot=C?{...W,...C}:W,ee=yh(Ot);v&&(ee.onProgress=v),w&&(ee.onPassword=w);const ke=ee;return ke.promise.then(Se=>{ke.destroyed||pt({type:"RESOLVE",value:Se})}).catch(Se=>{ke.destroyed||pt({type:"REJECT",error:Se})}),()=>{ke.destroy()}},[C,pt,W]),M.useEffect(()=>{if(!(typeof it>"u")){if(it===!1){bt();return}dt()}},[it]),M.useEffect(function(){F.current.setViewer(ut.current),F.current.setExternalLinkRel(r),F.current.setExternalLinkTarget(o)},[r,o]);const ht=M.useCallback((Wt,Ot)=>{U.current[Wt]=Ot},[]),Yt=M.useCallback(Wt=>{delete U.current[Wt]},[]),Nt=M.useMemo(()=>({imageResourcesPath:d,linkService:F.current,onItemClick:m,pdf:it,registerPage:ht,renderMode:_,rotate:k,scale:D,unregisterPage:Yt}),[d,m,it,ht,_,k,D,Yt]),Ze=M.useMemo(()=>rE(N,()=>it),[N,it]);function Ut(){function Wt(ee){return!!ee?.pdf}if(!Wt(Nt))throw new Error("pdf is undefined");const Ot=typeof t=="function"?t(Nt):t;return R.jsx(oE.Provider,{value:Nt,children:Ot})}function bn(){return l?it==null?R.jsx(Cr,{type:"loading",children:typeof f=="function"?f():f}):it===!1?R.jsx(Cr,{type:"error",children:typeof n=="function"?n():n}):Ut():R.jsx(Cr,{type:"no-data",children:typeof p=="function"?p():p})}return R.jsx("div",{className:vh("react-pdf__Document",e),ref:u,...Ze,children:bn()})});function hE(){return M.useContext(oE)}function dE(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,u=e;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const fE=M.createContext(null);function Ah(){return M.useContext(fE)}function TB(){const i=hE(),t=Ah();Zt(t);const e={...i,...t},{filterAnnotations:n,imageResourcesPath:r,linkService:o,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:b,rotate:v,scale:S=1}=e;Zt(m),Zt(p),Zt(o);const[w,E]=Pr(),{value:x,error:C}=w,_=M.useRef(null);Ye(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){x&&u&&u(x)}function D(){C&&(Ye(!1,C.toString()),l&&l(C))}M.useEffect(function(){E({type:"RESET"})},[E,p]),M.useEffect(function(){if(!p)return;const W=Fl(p.getAnnotations()),J=W;return W.promise.then(nt=>{E({type:"RESOLVE",value:nt})}).catch(nt=>{E({type:"REJECT",error:nt})}),()=>{ba(J)}},[E,p]),M.useEffect(()=>{if(x!==void 0){if(x===!1){D();return}k()}},[x]);function N(){f&&f()}function P(V){Ye(!1,`${V}`),d&&d(V)}const I=M.useMemo(()=>p.getViewport({scale:S,rotation:v}),[p,v,S]);return M.useEffect(function(){if(!m||!p||!o||!x)return;const{current:W}=_;if(!W)return;const J=I.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:m.annotationStorage,commentManager:null,div:W,l10n:null,linkService:o,page:p,structTreeLayer:null,viewport:J},pt={annotations:n?n({annotations:x}):x,annotationStorage:m.annotationStorage,div:W,imageResourcesPath:r,linkService:o,page:p,renderForms:b,viewport:J};W.innerHTML="";try{new Ag(nt).render(pt),N()}catch(it){P(it)}return()=>{}},[x,n,r,o,p,m,b,I]),R.jsx("div",{className:vh("react-pdf__Page__annotations","annotationLayer"),ref:_})}const pE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CB=/^H(\d+)$/;function _B(i){return i in pE}function Sh(i){return"children"in i}function mE(i){return Sh(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function MB(i){const t={};if(Sh(i)){const{role:e}=i,n=e.match(CB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(_B(e)){const r=pE[e];r&&(t.role=r)}}return t}function gE(i){const t={};if(Sh(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),mE(i)){const[e]=i.children;if(e){const n=gE(e);return{...t,...n}}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function RB(i){return i?{...MB(i),...gE(i)}:null}function yE({className:i,node:t}){const e=M.useMemo(()=>RB(t),[t]),n=M.useMemo(()=>!Sh(t)||mE(t)?null:t.children.map((r,o)=>R.jsx(yE,{node:r},o)),[t]);return R.jsx("span",{className:i,...e,children:n})}function DB(){const i=Ah();Zt(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,r]=Pr(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=i;function f(){o&&e&&e(o)}function p(){l&&(Ye(!1,l.toString()),t&&t(l))}return M.useEffect(function(){r({type:"RESET"})},[r,d]),M.useEffect(function(){if(u||!d)return;const b=Fl(d.getStructTree()),v=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>ba(v)},[u,d,r]),M.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?R.jsx(yE,{className:"react-pdf__Page__structTree structTree",node:o}):null}const ZA=Si;function kB(i){const t=Ah();Zt(t);const e={...t,...i},{_className:n,canvasBackground:r,devicePixelRatio:o=vB(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:b}=e,{canvasRef:v}=i;Zt(d);const S=M.useRef(null);function w(){d&&u&&u(dm(d,b))}function E(k){uE(k)||(Ye(!1,k.toString()),l&&l(k))}const x=M.useMemo(()=>d.getViewport({scale:b*o,rotation:m}),[o,d,m,b]),C=M.useMemo(()=>d.getViewport({scale:b,rotation:m}),[d,m,b]);M.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=S;if(!D)return;D.width=x.width,D.height=x.height,D.style.width=`${Math.floor(C.width)}px`,D.style.height=`${Math.floor(C.height)}px`,D.style.visibility="hidden";const N={annotationMode:f?ZA.ENABLE_FORMS:ZA.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:x};r&&(N.background=r);const P=d.render(N),I=P;return P.promise.then(()=>{D.style.visibility="",w()}).catch(E),()=>ba(I)},[r,d,f,x,C]);const _=M.useCallback(()=>{const{current:k}=S;k&&(k.width=0,k.height=0)},[]);return M.useEffect(()=>_,[_]),R.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:dE(v,S),style:{display:"block",userSelect:"none"},children:p?R.jsx(DB,{}):null})}function LB(i){return"str"in i}function PB(){const i=Ah();Zt(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=i;Zt(l);const[m,b]=Pr(),{value:v,error:S}=m,w=M.useRef(null);Ye(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){v&&n&&n(v)}function x(){S&&(Ye(!1,S.toString()),e&&e(S))}M.useEffect(function(){b({type:"RESET"})},[l,b]),M.useEffect(function(){if(!l)return;const I=Fl(l.getTextContent()),V=I;return I.promise.then(W=>{b({type:"RESOLVE",value:W})}).catch(W=>{b({type:"REJECT",error:W})}),()=>ba(V)},[l,b]),M.useEffect(()=>{if(v!==void 0){if(v===!1){x();return}E()}},[v]);const C=M.useCallback(()=>{o&&o()},[o]),_=M.useCallback(P=>{uE(P)||(Ye(!1,P.toString()),r&&r(P))},[r]);function k(){const P=w.current;P&&P.classList.add("selecting")}function D(){const P=w.current;P&&P.classList.remove("selecting")}const N=M.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return M.useLayoutEffect(function(){if(!l||!v)return;const{current:I}=w;if(!I)return;I.innerHTML="";const V=l.streamTextContent({includeMarkedContent:!0}),W={container:I,textContentSource:V,viewport:N},J=new bl(W),nt=J;return J.render().then(()=>{const pt=document.createElement("div");pt.className="endOfContent",I.append(pt);const it=I.querySelectorAll('[role="presentation"]');if(t){let yt=0;v.items.forEach((F,U)=>{if(!LB(F))return;const Q=it[yt];if(!Q)return;const lt=t({pageIndex:u,pageNumber:d,itemIndex:U,...F});Q.innerHTML=lt,yt+=F.str&&F.hasEOL?2:1})}C()}).catch(_),()=>ba(nt)},[t,_,C,l,u,d,v,N]),R.jsx("div",{className:vh("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:k,ref:w})}const QA=1;function OB(i){const e={...hE(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:b="Failed to load the page.",filterAnnotations:v,height:S,inputRef:w,loading:E="Loading page",noData:x="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:_,onGetStructTreeError:k,onGetStructTreeSuccess:D,onGetTextError:N,onGetTextSuccess:P,onLoadError:I,onLoadSuccess:V,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:J,onRenderError:nt,onRenderSuccess:pt,onRenderTextLayerError:it,onRenderTextLayerSuccess:yt,pageIndex:F,pageNumber:U,pdf:Q,registerPage:lt,renderAnnotationLayer:ut=!0,renderForms:O=!1,renderMode:q="canvas",renderTextLayer:tt=!0,rotate:et,scale:dt=QA,unregisterPage:bt,width:ht,...Yt}=e,[Nt,Ze]=Pr(),{value:Ut,error:bn}=Nt,Wt=M.useRef(null);Zt(Q);const Ot=ia(U)?U-1:F??null,ee=U??(ia(F)?F+1:null),ke=et??(Ut?Ut.rotate:null),Se=M.useMemo(()=>{if(!Ut)return null;let vn=1;const Ji=dt??QA;if(ht||S){const ti=Ut.getViewport({scale:1,rotation:ke});ht?vn=ht/ti.width:S&&(vn=S/ti.height)}return Ji*vn},[S,Ut,ke,dt,ht]);M.useEffect(function(){return()=>{ia(Ot)&&r&&bt&&bt(Ot)}},[r,Q,Ot,bt]);function Gl(){if(V){if(!Ut||!Se)return;V(dm(Ut,Se))}if(r&&lt){if(!ia(Ot)||!Wt.current)return;lt(Ot,Wt.current)}}function Yr(){bn&&(Ye(!1,bn.toString()),I&&I(bn))}M.useEffect(function(){Ze({type:"RESET"})},[Ze,Q,Ot]),M.useEffect(function(){if(!Q||!ee)return;const Ji=Fl(Q.getPage(ee)),ti=Ji;return Ji.promise.then(Kr=>{Ze({type:"RESOLVE",value:Kr})}).catch(Kr=>{Ze({type:"REJECT",error:Kr})}),()=>ba(ti)},[Ze,Q,ee]),M.useEffect(()=>{if(Ut!==void 0){if(Ut===!1){Yr();return}Gl()}},[Ut,Se]);const Fs=M.useMemo(()=>ia(Ot)&&ee&&ia(ke)&&ia(Se)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,filterAnnotations:v,onGetAnnotationsError:C,onGetAnnotationsSuccess:_,onGetStructTreeError:k,onGetStructTreeSuccess:D,onGetTextError:N,onGetTextSuccess:P,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:J,onRenderError:nt,onRenderSuccess:pt,onRenderTextLayerError:it,onRenderTextLayerSuccess:yt,page:Ut,pageIndex:Ot,pageNumber:ee,renderForms:O,renderTextLayer:tt,rotate:ke,scale:Se}:null,[n,o,p,m,v,C,_,k,D,N,P,W,J,nt,pt,it,yt,Ut,Ot,ee,O,tt,ke,Se]),Wr=M.useMemo(()=>rE(Yt,()=>Ut&&(Se?dm(Ut,Se):void 0)),[Yt,Ut,Se]),Ea=`${Ot}@${Se}/${ke}`;function Mh(){switch(q){case"custom":return Zt(f),R.jsx(f,{},`${Ea}_custom`);case"none":return null;default:return R.jsx(kB,{canvasRef:l},`${Ea}_canvas`)}}function Qe(){return tt?R.jsx(PB,{},`${Ea}_text`):null}function Rh(){return ut?R.jsx(TB,{},`${Ea}_annotations`):null}function $l(){function vn(ti){return!!ti?.page}if(!vn(Fs))throw new Error("page is undefined");const Ji=typeof u=="function"?u(Fs):u;return R.jsxs(fE.Provider,{value:Fs,children:[Mh(),Qe(),Rh(),Ji]})}function ql(){return ee?Q===null||Ut===void 0||Ut===null?R.jsx(Cr,{type:"loading",children:typeof E=="function"?E():E}):Q===!1||Ut===!1?R.jsx(Cr,{type:"error",children:typeof b=="function"?b():b}):$l():R.jsx(Cr,{type:"no-data",children:typeof x=="function"?x():x})}return R.jsx("div",{className:vh(n,d),"data-page-number":ee,ref:dE(w,Wt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Se}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Wr,children:ql()})}wB();ks.workerSrc="pdf.worker.mjs";function NB(){const{dispatch:i}=Tm(),t=Sl(),[e,n]=M.useState(null),r=async l=>{if(l.type.includes("powerpoint")||l.type.includes("presentation")||l.name.endsWith(".ppt")||l.name.endsWith(".pptx")){alert("We currently support PDF files for the best experience. Please save your PowerPoint as a PDF and upload it.");return}try{const u=await l.arrayBuffer(),p=(await yh(u).promise).numPages,m=Array.from({length:p},(b,v)=>({id:`slide-${v+1}`,pageNumber:v+1,fileUrl:URL.createObjectURL(l),status:"pending",timeAllocated:300,difficulty:"medium"}));i({type:"START_SESSION",payload:{slides:m,totalTime:3600,startTime:Date.now()}}),n(l)}catch(u){console.error("Error loading PDF:",u),alert(`Failed to load PDF: ${u.message||"Unknown error"}`)}},o=l=>{i({type:"UPDATE_CONFIG",payload:l}),t("/session")};return R.jsxs("div",{className:"examix-container",children:[R.jsxs("div",{className:"examix-header",children:[R.jsxs("div",{className:"examix-logo",children:[R.jsx("div",{className:"logo-circle"}),R.jsx("span",{children:"EXAMIX"})]}),R.jsxs("div",{className:"header-actions",children:[R.jsx("button",{className:"avatar-btn",children:R.jsx(eR,{size:16,strokeWidth:2})}),R.jsx("button",{className:"create-account-btn",children:"Create Account"})]})]}),R.jsx("div",{className:"examix-main",children:e?R.jsx("div",{style:{width:"100%",maxWidth:"500px",background:"rgba(255,255,255,0.05)",padding:"2rem",borderRadius:"2rem",border:"1px solid rgba(255,255,255,0.1)"},children:R.jsx(nO,{onStart:o,fileName:e.name})}):R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"main-title",children:"Your AI-Powered Study Tool"}),R.jsxs("div",{className:"feature-pills",children:[R.jsxs("div",{className:"feature-pill",children:[R.jsx(BM,{size:14}),R.jsx("span",{children:"Upload notes materials"})]}),R.jsxs("div",{className:"feature-pill",children:[R.jsx(zM,{size:14}),R.jsx("span",{children:"Upload handwritten materials"})]}),R.jsxs("div",{className:"feature-pill",children:[R.jsx(Rr,{size:14}),R.jsx("span",{children:"No time limit for everyone"})]})]}),R.jsx("div",{className:"upload-wrapper",children:R.jsx(lR,{onFileSelect:r})})]})}),R.jsxs("div",{className:"examix-footer",children:[R.jsx("span",{className:"footer-text",children:"Follow Us"}),R.jsxs("div",{className:"social-icons",children:[R.jsx("div",{className:"social-icon",children:R.jsx(aR,{size:14,strokeWidth:2})}),R.jsx("div",{className:"social-icon",children:R.jsx(ZM,{size:14,strokeWidth:2})}),R.jsx("div",{className:"social-icon",children:R.jsx(LM,{size:14,strokeWidth:2})}),R.jsx("div",{className:"social-icon",children:R.jsx(IM,{size:14,strokeWidth:2})})]})]})]})}function fm({initialTime:i,onExpire:t}){const[e,n]=M.useState(i),[r,o]=M.useState(!1),l=M.useRef(null),u=M.useCallback(()=>o(!0),[]),d=M.useCallback(()=>o(!1),[]),f=M.useCallback(b=>{o(!1),n(b)},[]);M.useEffect(()=>(r&&e>0?l.current=setInterval(()=>{n(b=>b<=1?(clearInterval(l.current),o(!1),t&&t(),0):b-1)},1e3):clearInterval(l.current),()=>clearInterval(l.current)),[r,e,t]);const p=`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,m=i>0?(i-e)/i*100:0;return{timeLeft:e,formattedTime:p,isRunning:r,start:u,pause:d,reset:f,progress:m}}function bE({fileUrl:i,pageNumber:t}){const[e,n]=M.useState(0),[r,o]=M.useState(1);return M.useEffect(()=>{const l=()=>{const u=document.getElementById("pdf-container");if(u){const d=u.offsetWidth;n(d)}};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),i?R.jsx("div",{className:"relative w-full h-full flex flex-col",children:R.jsx("div",{id:"pdf-container",className:"w-full h-full flex items-center justify-center overflow-auto",children:R.jsx(EB,{file:i,loading:R.jsx("div",{className:"flex items-center justify-center p-12",children:R.jsx("div",{className:"text-white/60",children:"Loading PDF..."})}),error:R.jsx("div",{className:"flex items-center justify-center p-12",children:R.jsx("div",{className:"text-rose-400",children:"Failed to load PDF"})}),children:R.jsx(OB,{pageNumber:t,height:window.innerHeight*.7,scale:r,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-2xl transition-transform duration-200"})})})}):R.jsx("div",{className:"w-full h-full flex items-center justify-center",children:R.jsx("p",{className:"text-white/60",children:"No PDF file specified"})})}function vE(i,t,e){if(typeof i=="function"?i===t:i.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function BB(i,t){if(t.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JA(i,t){return i.get(vE(i,t))}function FB(i,t,e){BB(i,t),t.set(i,e)}function IB(i,t,e){return i.set(vE(i,t),e),e}const jB=100,ft={},zB=()=>{ft.previousActiveElement instanceof HTMLElement?(ft.previousActiveElement.focus(),ft.previousActiveElement=null):document.body&&document.body.focus()},UB=i=>new Promise(t=>{if(!i)return t();const e=window.scrollX,n=window.scrollY;ft.restoreFocusTimeout=setTimeout(()=>{zB(),t()},jB),window.scrollTo(e,n)}),wE="swal2-",HB=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],X=HB.reduce((i,t)=>(i[t]=wE+t,i),{}),VB=["success","warning","info","question","error"],Wu=VB.reduce((i,t)=>(i[t]=wE+t,i),{}),AE="SweetAlert2:",Tg=i=>i.charAt(0).toUpperCase()+i.slice(1),an=i=>{console.warn(`${AE} ${typeof i=="object"?i.join(" "):i}`)},Sa=i=>{console.error(`${AE} ${i}`)},tS=[],GB=i=>{tS.includes(i)||(tS.push(i),an(i))},SE=(i,t=null)=>{GB(`"${i}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},xh=i=>typeof i=="function"?i():i,Cg=i=>i&&typeof i.toPromise=="function",Il=i=>Cg(i)?i.toPromise():Promise.resolve(i),_g=i=>i&&Promise.resolve(i)===i,rn=()=>document.body.querySelector(`.${X.container}`),jl=i=>{const t=rn();return t?t.querySelector(i):null},Nn=i=>jl(`.${i}`),zt=()=>Nn(X.popup),Gr=()=>Nn(X.icon),$B=()=>Nn(X["icon-content"]),xE=()=>Nn(X.title),Mg=()=>Nn(X["html-container"]),EE=()=>Nn(X.image),Rg=()=>Nn(X["progress-steps"]),Eh=()=>Nn(X["validation-message"]),Ti=()=>jl(`.${X.actions} .${X.confirm}`),$r=()=>jl(`.${X.actions} .${X.cancel}`),xa=()=>jl(`.${X.actions} .${X.deny}`),qB=()=>Nn(X["input-label"]),qr=()=>jl(`.${X.loader}`),zl=()=>Nn(X.actions),TE=()=>Nn(X.footer),Th=()=>Nn(X["timer-progress-bar"]),Dg=()=>Nn(X.close),XB=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,kg=()=>{const i=zt();if(!i)return[];const t=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((o,l)=>{const u=parseInt(o.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return u>d?1:u<d?-1:0}),n=i.querySelectorAll(XB),r=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(r))].filter(o=>yn(o))},Lg=()=>Yi(document.body,X.shown)&&!Yi(document.body,X["toast-shown"])&&!Yi(document.body,X["no-backdrop"]),Ch=()=>{const i=zt();return i?Yi(i,X.toast):!1},YB=()=>{const i=zt();return i?i.hasAttribute("data-loading"):!1},Bn=(i,t)=>{if(i.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(l=>{i.appendChild(l)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?i.appendChild(l.cloneNode(!0)):i.appendChild(l)})}},Yi=(i,t)=>{if(!t)return!1;const e=t.split(/\s+/);for(let n=0;n<e.length;n++)if(!i.classList.contains(e[n]))return!1;return!0},WB=(i,t)=>{Array.from(i.classList).forEach(e=>{!Object.values(X).includes(e)&&!Object.values(Wu).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&i.classList.remove(e)})},Pn=(i,t,e)=>{if(WB(i,t),!t.customClass)return;const n=t.customClass[e];if(n){if(typeof n!="string"&&!n.forEach){an(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof n}"`);return}jt(i,n)}},_h=(i,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return i.querySelector(`.${X.popup} > .${X[t]}`);case"checkbox":return i.querySelector(`.${X.popup} > .${X.checkbox} input`);case"radio":return i.querySelector(`.${X.popup} > .${X.radio} input:checked`)||i.querySelector(`.${X.popup} > .${X.radio} input:first-child`);case"range":return i.querySelector(`.${X.popup} > .${X.range} input`);default:return i.querySelector(`.${X.popup} > .${X.input}`)}},CE=i=>{if(i.focus(),i.type!=="file"){const t=i.value;i.value="",i.value=t}},_E=(i,t,e)=>{!i||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(i)?i.forEach(r=>{e?r.classList.add(n):r.classList.remove(n)}):e?i.classList.add(n):i.classList.remove(n)}))},jt=(i,t)=>{_E(i,t,!0)},Jn=(i,t)=>{_E(i,t,!1)},Ms=(i,t)=>{const e=Array.from(i.children);for(let n=0;n<e.length;n++){const r=e[n];if(r instanceof HTMLElement&&Yi(r,t))return r}},ma=(i,t,e)=>{e===`${parseInt(`${e}`)}`&&(e=parseInt(e)),e||parseInt(`${e}`)===0?i.style.setProperty(t,typeof e=="number"?`${e}px`:e):i.style.removeProperty(t)},Fe=(i,t="flex")=>{i&&(i.style.display=t)},Ke=i=>{i&&(i.style.display="none")},Pg=(i,t="block")=>{i&&new MutationObserver(()=>{Ul(i,i.innerHTML,t)}).observe(i,{childList:!0,subtree:!0})},eS=(i,t,e,n)=>{const r=i.querySelector(t);r&&r.style.setProperty(e,n)},Ul=(i,t,e="flex")=>{t?Fe(i,e):Ke(i)},yn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),KB=()=>!yn(Ti())&&!yn(xa())&&!yn($r()),pm=i=>i.scrollHeight>i.clientHeight,ZB=(i,t)=>{let e=i;for(;e&&e!==t;){if(pm(e))return!0;e=e.parentElement}return!1},ME=i=>{const t=window.getComputedStyle(i),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||n>0},Og=(i,t=!1)=>{const e=Th();e&&yn(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${i/1e3}s linear`,e.style.width="0%"},10))},QB=()=>{const i=Th();if(!i)return;const t=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const e=parseInt(window.getComputedStyle(i).width),n=t/e*100;i.style.width=`${n}%`},JB=()=>typeof window>"u"||typeof document>"u",t5=`
 <div aria-labelledby="${X.title}" aria-describedby="${X["html-container"]}" class="${X.popup}" tabindex="-1">
   <button type="button" class="${X.close}"></button>
   <ul class="${X["progress-steps"]}"></ul>
   <div class="${X.icon}"></div>
   <img class="${X.image}" />
   <h2 class="${X.title}" id="${X.title}"></h2>
   <div class="${X["html-container"]}" id="${X["html-container"]}"></div>
   <input class="${X.input}" id="${X.input}" />
   <input type="file" class="${X.file}" />
   <div class="${X.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${X.select}" id="${X.select}"></select>
   <div class="${X.radio}"></div>
   <label class="${X.checkbox}">
     <input type="checkbox" id="${X.checkbox}" />
     <span class="${X.label}"></span>
   </label>
   <textarea class="${X.textarea}" id="${X.textarea}"></textarea>
   <div class="${X["validation-message"]}" id="${X["validation-message"]}"></div>
   <div class="${X.actions}">
     <div class="${X.loader}"></div>
     <button type="button" class="${X.confirm}"></button>
     <button type="button" class="${X.deny}"></button>
     <button type="button" class="${X.cancel}"></button>
   </div>
   <div class="${X.footer}"></div>
   <div class="${X["timer-progress-bar-container"]}">
     <div class="${X["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),e5=()=>{const i=rn();return i?(i.remove(),Jn([document.documentElement,document.body],[X["no-backdrop"],X["toast-shown"],X["has-column"]]),!0):!1},sa=()=>{ft.currentInstance&&ft.currentInstance.resetValidationMessage()},n5=()=>{const i=zt();if(!i)return;const t=Ms(i,X.input),e=Ms(i,X.file),n=i.querySelector(`.${X.range} input`),r=i.querySelector(`.${X.range} output`),o=Ms(i,X.select),l=i.querySelector(`.${X.checkbox} input`),u=Ms(i,X.textarea);t&&(t.oninput=sa),e&&(e.onchange=sa),o&&(o.onchange=sa),l&&(l.onchange=sa),u&&(u.oninput=sa),n&&r&&(n.oninput=()=>{sa(),r.value=n.value},n.onchange=()=>{sa(),r.value=n.value})},i5=i=>{if(typeof i=="string"){const t=document.querySelector(i);if(!t)throw new Error(`Target element "${i}" not found`);return t}return i},s5=i=>{const t=zt();t&&(t.setAttribute("role",i.toast?"alert":"dialog"),t.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||t.setAttribute("aria-modal","true"))},a5=i=>{window.getComputedStyle(i).direction==="rtl"&&(jt(rn(),X.rtl),ft.isRTL=!0)},r5=i=>{const t=e5();if(JB()){Sa("SweetAlert2 requires document to initialize");return}const e=document.createElement("div");e.className=X.container,t&&jt(e,X["no-transition"]),Bn(e,t5),e.dataset.swal2Theme=i.theme;const n=i5(i.target||"body");n.appendChild(e),i.topLayer&&(e.setAttribute("popover",""),e.showPopover()),s5(i),a5(n),n5()},Ng=(i,t)=>{i instanceof HTMLElement?t.appendChild(i):typeof i=="object"?o5(i,t):i&&Bn(t,i)},o5=(i,t)=>{"jquery"in i?l5(t,i):Bn(t,i.toString())},l5=(i,t)=>{if(i.textContent="",0 in t)for(let e=0;e in t;e++)i.appendChild(t[e].cloneNode(!0));else i.appendChild(t.cloneNode(!0))},c5=(i,t)=>{const e=zl(),n=qr();!e||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Ke(e):Fe(e),Pn(e,t,"actions"),u5(e,n,t),Bn(n,t.loaderHtml||""),Pn(n,t,"loader"))};function u5(i,t,e){const n=Ti(),r=xa(),o=$r();!n||!r||!o||(_p(n,"confirm",e),_p(r,"deny",e),_p(o,"cancel",e),h5(n,r,o,e),e.reverseButtons&&(e.toast?(i.insertBefore(o,n),i.insertBefore(r,n)):(i.insertBefore(o,t),i.insertBefore(r,t),i.insertBefore(n,t))))}function h5(i,t,e,n){if(!n.buttonsStyling){Jn([i,t,e],X.styled);return}jt([i,t,e],X.styled),n.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&e.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),Cp(i),Cp(t),Cp(e)}function Cp(i){const t=window.getComputedStyle(i);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const e=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${e}`))}function _p(i,t,e){const n=Tg(t);Ul(i,e[`show${n}Button`],"inline-block"),Bn(i,e[`${t}ButtonText`]||""),i.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),i.className=X[t],Pn(i,e,`${t}Button`)}const d5=(i,t)=>{const e=Dg();e&&(Bn(e,t.closeButtonHtml||""),Pn(e,t,"closeButton"),Ul(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},f5=(i,t)=>{const e=rn();e&&(p5(e,t.backdrop),m5(e,t.position),g5(e,t.grow),Pn(e,t,"container"))};function p5(i,t){typeof t=="string"?i.style.background=t:t||jt([document.documentElement,document.body],X["no-backdrop"])}function m5(i,t){t&&(t in X?jt(i,X[t]):(an('The "position" parameter is not valid, defaulting to "center"'),jt(i,X.center)))}function g5(i,t){t&&jt(i,X[`grow-${t}`])}var te={innerParams:new WeakMap,domCache:new WeakMap};const y5=["input","file","range","select","radio","checkbox","textarea"],b5=(i,t)=>{const e=zt();if(!e)return;const n=te.innerParams.get(i),r=!n||t.input!==n.input;y5.forEach(o=>{const l=Ms(e,X[o]);l&&(A5(o,t.inputAttributes),l.className=X[o],r&&Ke(l))}),t.input&&(r&&v5(t),S5(t))},v5=i=>{if(!i.input)return;if(!ve[i.input]){Sa(`Unexpected type of input! Expected ${Object.keys(ve).join(" | ")}, got "${i.input}"`);return}const t=RE(i.input);if(!t)return;const e=ve[i.input](t,i);Fe(t),i.inputAutoFocus&&setTimeout(()=>{CE(e)})},w5=i=>{for(let t=0;t<i.attributes.length;t++){const e=i.attributes[t].name;["id","type","value","style"].includes(e)||i.removeAttribute(e)}},A5=(i,t)=>{const e=zt();if(!e)return;const n=_h(e,i);if(n){w5(n);for(const r in t)n.setAttribute(r,t[r])}},S5=i=>{if(!i.input)return;const t=RE(i.input);t&&Pn(t,i,"input")},Bg=(i,t)=>{!i.placeholder&&t.inputPlaceholder&&(i.placeholder=t.inputPlaceholder)},Hl=(i,t,e)=>{if(e.inputLabel){const n=document.createElement("label"),r=X["input-label"];n.setAttribute("for",i.id),n.className=r,typeof e.customClass=="object"&&jt(n,e.customClass.inputLabel),n.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",n)}},RE=i=>{const t=zt();if(t)return Ms(t,X[i]||X.input)},Ku=(i,t)=>{["string","number"].includes(typeof t)?i.value=`${t}`:_g(t)||an(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},ve={};ve.text=ve.email=ve.password=ve.number=ve.tel=ve.url=ve.search=ve.date=ve["datetime-local"]=ve.time=ve.week=ve.month=(i,t)=>{const e=i;return Ku(e,t.inputValue),Hl(e,e,t),Bg(e,t),e.type=t.input,e};ve.file=(i,t)=>{const e=i;return Hl(e,e,t),Bg(e,t),e};ve.range=(i,t)=>{const e=i,n=e.querySelector("input"),r=e.querySelector("output");return n&&(Ku(n,t.inputValue),n.type=t.input,Hl(n,i,t)),r&&Ku(r,t.inputValue),i};ve.select=(i,t)=>{const e=i;if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Bn(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Hl(e,e,t),e};ve.radio=i=>{const t=i;return t.textContent="",i};ve.checkbox=(i,t)=>{const e=zt();if(!e)throw new Error("Popup not found");const n=_h(e,"checkbox");if(!n)throw new Error("Checkbox input not found");n.value="1",n.checked=!!t.inputValue;const o=i.querySelector("span");if(o){const l=t.inputPlaceholder||t.inputLabel;l&&Bn(o,l)}return n};ve.textarea=(i,t)=>{const e=i;Ku(e,t.inputValue),Bg(e,t),Hl(e,e,t);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=zt();if(!r)return;const o=parseInt(window.getComputedStyle(r).width),l=()=>{if(!document.body.contains(e))return;const u=e.offsetWidth+n(e),d=zt();d&&(u>o?d.style.width=`${u}px`:ma(d,"width",t.width))};new MutationObserver(l).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const x5=(i,t)=>{const e=Mg();e&&(Pg(e),Pn(e,t,"htmlContainer"),t.html?(Ng(t.html,e),Fe(e,"block")):t.text?(e.textContent=t.text,Fe(e,"block")):Ke(e),b5(i,t))},E5=(i,t)=>{const e=TE();e&&(Pg(e),Ul(e,!!t.footer,"block"),t.footer&&Ng(t.footer,e),Pn(e,t,"footer"))},T5=(i,t)=>{const e=te.innerParams.get(i),n=Gr();if(!n)return;if(e&&t.icon===e.icon){iS(n,t),nS(n,t);return}if(!t.icon&&!t.iconHtml){Ke(n);return}if(t.icon&&Object.keys(Wu).indexOf(t.icon)===-1){Sa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Ke(n);return}Fe(n),iS(n,t),nS(n,t),jt(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",DE)},nS=(i,t)=>{for(const[e,n]of Object.entries(Wu))t.icon!==e&&Jn(i,n);jt(i,t.icon&&Wu[t.icon]),M5(i,t),DE(),Pn(i,t,"icon")},DE=()=>{const i=zt();if(!i)return;const t=window.getComputedStyle(i).getPropertyValue("background-color"),e=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<e.length;n++)e[n].style.backgroundColor=t},C5=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,_5=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,iS=(i,t)=>{if(!t.icon&&!t.iconHtml)return;let e=i.innerHTML,n="";t.iconHtml?n=sS(t.iconHtml):t.icon==="success"?(n=C5(t),e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?n=_5:t.icon&&(n=sS({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==n.trim()&&Bn(i,n)},M5=(i,t)=>{if(t.iconColor){i.style.color=t.iconColor,i.style.borderColor=t.iconColor;for(const e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])eS(i,e,"background-color",t.iconColor);eS(i,".swal2-success-ring","border-color",t.iconColor)}},sS=i=>`<div class="${X["icon-content"]}">${i}</div>`,R5=(i,t)=>{const e=EE();if(e){if(!t.imageUrl){Ke(e);return}Fe(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),ma(e,"width",t.imageWidth),ma(e,"height",t.imageHeight),e.className=X.image,Pn(e,t,"image")}};let Fg=!1,kE=0,LE=0,PE=0,OE=0;const D5=i=>{i.addEventListener("mousedown",Zu),document.body.addEventListener("mousemove",Qu),i.addEventListener("mouseup",Ju),i.addEventListener("touchstart",Zu),document.body.addEventListener("touchmove",Qu),i.addEventListener("touchend",Ju)},k5=i=>{i.removeEventListener("mousedown",Zu),document.body.removeEventListener("mousemove",Qu),i.removeEventListener("mouseup",Ju),i.removeEventListener("touchstart",Zu),document.body.removeEventListener("touchmove",Qu),i.removeEventListener("touchend",Ju)},Zu=i=>{const t=zt();if(!t)return;const e=Gr();if(i.target===t||e&&e.contains(i.target)){Fg=!0;const n=NE(i);kE=n.clientX,LE=n.clientY,PE=parseInt(t.style.insetInlineStart)||0,OE=parseInt(t.style.insetBlockStart)||0,jt(t,"swal2-dragging")}},Qu=i=>{const t=zt();if(t&&Fg){let{clientX:e,clientY:n}=NE(i);const r=e-kE;t.style.insetInlineStart=`${PE+(ft.isRTL?-r:r)}px`,t.style.insetBlockStart=`${OE+(n-LE)}px`}},Ju=()=>{const i=zt();Fg=!1,Jn(i,"swal2-dragging")},NE=i=>{let t=0,e=0;return i.type.startsWith("mouse")?(t=i.clientX,e=i.clientY):i.type.startsWith("touch")&&(t=i.touches[0].clientX,e=i.touches[0].clientY),{clientX:t,clientY:e}},L5=(i,t)=>{const e=rn(),n=zt();if(!(!e||!n)){if(t.toast){ma(e,"width",t.width),n.style.width="100%";const r=qr();r&&n.insertBefore(r,Gr())}else ma(n,"width",t.width);ma(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),Ke(Eh()),P5(n,t),t.draggable&&!t.toast?(jt(n,X.draggable),D5(n)):(Jn(n,X.draggable),k5(n))}},P5=(i,t)=>{const e=t.showClass||{};i.className=`${X.popup} ${yn(i)?e.popup:""}`,t.toast?(jt([document.documentElement,document.body],X["toast-shown"]),jt(i,X.toast)):jt(i,X.modal),Pn(i,t,"popup"),typeof t.customClass=="string"&&jt(i,t.customClass),t.icon&&jt(i,X[`icon-${t.icon}`])},O5=(i,t)=>{const e=Rg();if(!e)return;const{progressSteps:n,currentProgressStep:r}=t;if(!n||n.length===0||r===void 0){Ke(e);return}Fe(e),e.textContent="",r>=n.length&&an("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,l)=>{const u=N5(o);if(e.appendChild(u),l===r&&jt(u,X["active-progress-step"]),l!==n.length-1){const d=B5(t);e.appendChild(d)}})},N5=i=>{const t=document.createElement("li");return jt(t,X["progress-step"]),Bn(t,i),t},B5=i=>{const t=document.createElement("li");return jt(t,X["progress-step-line"]),i.progressStepsDistance&&ma(t,"width",i.progressStepsDistance),t},F5=(i,t)=>{const e=xE();e&&(Pg(e),Ul(e,!!(t.title||t.titleText),"block"),t.title&&Ng(t.title,e),t.titleText&&(e.innerText=t.titleText),Pn(e,t,"title"))},BE=(i,t)=>{var e;L5(i,t),f5(i,t),O5(i,t),T5(i,t),R5(i,t),F5(i,t),d5(i,t),x5(i,t),c5(i,t),E5(i,t);const n=zt();typeof t.didRender=="function"&&n&&t.didRender(n),(e=ft.eventEmitter)===null||e===void 0||e.emit("didRender",n)},I5=()=>yn(zt()),FE=()=>{var i;return(i=Ti())===null||i===void 0?void 0:i.click()},j5=()=>{var i;return(i=xa())===null||i===void 0?void 0:i.click()},z5=()=>{var i;return(i=$r())===null||i===void 0?void 0:i.click()},Xr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),IE=i=>{if(i.keydownTarget&&i.keydownHandlerAdded&&i.keydownHandler){const t=i.keydownHandler;i.keydownTarget.removeEventListener("keydown",t,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1}},U5=(i,t,e)=>{if(IE(i),!t.toast){const n=o=>V5(t,o,e);i.keydownHandler=n;const r=t.keydownListenerCapture?window:zt();if(r){i.keydownTarget=r,i.keydownListenerCapture=t.keydownListenerCapture;const o=n;i.keydownTarget.addEventListener("keydown",o,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0}}},mm=(i,t)=>{var e;const n=kg();if(n.length){i=i+t,i===-2&&(i=n.length-1),i===n.length?i=0:i===-1&&(i=n.length-1),n[i].focus();return}(e=zt())===null||e===void 0||e.focus()},jE=["ArrowRight","ArrowDown"],H5=["ArrowLeft","ArrowUp"],V5=(i,t,e)=>{i&&(t.isComposing||t.keyCode===229||(i.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?G5(t,i):t.key==="Tab"?$5(t):[...jE,...H5].includes(t.key)?q5(t.key):t.key==="Escape"&&X5(t,i,e)))},G5=(i,t)=>{if(!xh(t.allowEnterKey))return;const e=zt();if(!e||!t.input)return;const n=_h(e,t.input);if(i.target&&n&&i.target instanceof HTMLElement&&i.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;FE(),i.preventDefault()}},$5=i=>{const t=i.target,e=kg();let n=-1;for(let r=0;r<e.length;r++)if(t===e[r]){n=r;break}i.shiftKey?mm(n,-1):mm(n,1),i.stopPropagation(),i.preventDefault()},q5=i=>{const t=zl(),e=Ti(),n=xa(),r=$r();if(!t||!e||!n||!r)return;const o=[e,n,r];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const l=jE.includes(i)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let d=0;d<t.children.length;d++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&yn(u))break}u instanceof HTMLButtonElement&&u.focus()}},X5=(i,t,e)=>{i.preventDefault(),xh(t.allowEscapeKey)&&e(Xr.esc)};var Or={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Y5=()=>{const i=rn();Array.from(document.body.children).forEach(e=>{e.contains(i)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},zE=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},UE=typeof window<"u"&&!!window.GestureEvent,W5=()=>{if(UE&&!Yi(document.body,X.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,jt(document.body,X.iosfix),K5()}},K5=()=>{const i=rn();if(!i)return;let t;i.ontouchstart=e=>{t=Z5(e)},i.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Z5=i=>{const t=i.target,e=rn(),n=Mg();return!e||!n||Q5(i)||J5(i)?!1:t===e||!pm(e)&&t instanceof HTMLElement&&!ZB(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(pm(n)&&n.contains(t))},Q5=i=>!!(i.touches&&i.touches.length&&i.touches[0].touchType==="stylus"),J5=i=>i.touches&&i.touches.length>1,t3=()=>{if(Yi(document.body,X.iosfix)){const i=parseInt(document.body.style.top,10);Jn(document.body,X.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},e3=()=>{const i=document.createElement("div");i.className=X["scrollbar-measure"],document.body.appendChild(i);const t=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),t};let _r=null;const n3=i=>{_r===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(_r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${_r+e3()}px`)},i3=()=>{_r!==null&&(document.body.style.paddingRight=`${_r}px`,_r=null)};function HE(i,t,e,n){Ch()?aS(i,n):(UB(e).then(()=>aS(i,n)),IE(ft)),UE?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Lg()&&(i3(),t3(),zE()),s3()}function s3(){Jn([document.documentElement,document.body],[X.shown,X["height-auto"],X["no-backdrop"],X["toast-shown"]])}function Rs(i){i=r3(i);const t=Or.swalPromiseResolve.get(this),e=a3(this);this.isAwaitingPromise?i.isDismissed||(Vl(this),t(i)):e&&t(i)}const a3=i=>{const t=zt();if(!t)return!1;const e=te.innerParams.get(i);if(!e||Yi(t,e.hideClass.popup))return!1;Jn(t,e.showClass.popup),jt(t,e.hideClass.popup);const n=rn();return Jn(n,e.showClass.backdrop),jt(n,e.hideClass.backdrop),o3(i,t,e),!0};function VE(i){const t=Or.swalPromiseReject.get(this);Vl(this),t&&t(i)}const Vl=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,te.innerParams.get(i)||i._destroy())},r3=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),o3=(i,t,e)=>{var n;const r=rn(),o=ME(t);typeof e.willClose=="function"&&e.willClose(t),(n=ft.eventEmitter)===null||n===void 0||n.emit("willClose",t),o&&r?l3(i,t,r,!!e.returnFocus,e.didClose):r&&HE(i,r,!!e.returnFocus,e.didClose)},l3=(i,t,e,n,r)=>{ft.swalCloseEventFinishedCallback=HE.bind(null,i,e,n,r);const o=function(l){if(l.target===t){var u;(u=ft.swalCloseEventFinishedCallback)===null||u===void 0||u.call(ft),delete ft.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},aS=(i,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(i.params)(),(e=ft.eventEmitter)===null||e===void 0||e.emit("didClose"),i._destroy&&i._destroy()})},Nr=i=>{let t=zt();if(t||new sh,t=zt(),!t)return;const e=qr();Ch()?Ke(Gr()):c3(t,i),Fe(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},c3=(i,t)=>{const e=zl(),n=qr();!e||!n||(!t&&yn(Ti())&&(t=Ti()),Fe(e),t&&(Ke(t),n.setAttribute("data-button-to-replace",t.className),e.insertBefore(n,t)),jt([i,e],X.loading))},u3=(i,t)=>{t.input==="select"||t.input==="radio"?m3(i,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Cg(t.inputValue)||_g(t.inputValue))&&(Nr(Ti()),g3(i,t))},h3=(i,t)=>{const e=i.getInput();if(!e)return null;switch(t.input){case"checkbox":return d3(e);case"radio":return f3(e);case"file":return p3(e);default:return t.inputAutoTrim?e.value.trim():e.value}},d3=i=>i.checked?1:0,f3=i=>i.checked?i.value:null,p3=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,m3=(i,t)=>{const e=zt();if(!e)return;const n=r=>{t.input==="select"?y3(e,th(r),t):t.input==="radio"&&b3(e,th(r),t)};Cg(t.inputOptions)||_g(t.inputOptions)?(Nr(Ti()),Il(t.inputOptions).then(r=>{i.hideLoading(),n(r)})):typeof t.inputOptions=="object"?n(t.inputOptions):Sa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},g3=(i,t)=>{const e=i.getInput();e&&(Ke(e),Il(t.inputValue).then(n=>{e.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,Fe(e),e.focus(),i.hideLoading()}).catch(n=>{Sa(`Error in inputValue promise: ${n}`),e.value="",Fe(e),e.focus(),i.hideLoading()}))};function y3(i,t,e){const n=Ms(i,X.select);if(!n)return;const r=(o,l,u)=>{const d=document.createElement("option");d.value=u,Bn(d,l),d.selected=GE(u,e.inputValue),o.appendChild(d)};t.forEach(o=>{const l=o[0],u=o[1];if(Array.isArray(u)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,n.appendChild(d),u.forEach(f=>r(d,f[1],f[0]))}else r(n,u,l)}),n.focus()}function b3(i,t,e){const n=Ms(i,X.radio);if(!n)return;t.forEach(o=>{const l=o[0],u=o[1],d=document.createElement("input"),f=document.createElement("label");d.type="radio",d.name=X.radio,d.value=l,GE(l,e.inputValue)&&(d.checked=!0);const p=document.createElement("span");Bn(p,u),p.className=X.label,f.appendChild(d),f.appendChild(p),n.appendChild(f)});const r=n.querySelectorAll("input");r.length&&r[0].focus()}const th=i=>{const t=[];return i instanceof Map?i.forEach((e,n)=>{let r=e;typeof r=="object"&&(r=th(r)),t.push([n,r])}):Object.keys(i).forEach(e=>{let n=i[e];typeof n=="object"&&(n=th(n)),t.push([e,n])}),t},GE=(i,t)=>!!t&&t!==null&&t!==void 0&&t.toString()===i.toString(),v3=i=>{const t=te.innerParams.get(i);i.disableButtons(),t.input?$E(i,"confirm"):jg(i,!0)},w3=i=>{const t=te.innerParams.get(i);i.disableButtons(),t.returnInputValueOnDeny?$E(i,"deny"):Ig(i,!1)},A3=(i,t)=>{i.disableButtons(),t(Xr.cancel)},$E=(i,t)=>{const e=te.innerParams.get(i);if(!e.input){Sa(`The "input" parameter is needed to be set when using returnInputValueOn${Tg(t)}`);return}const n=i.getInput(),r=h3(i,e);e.inputValidator?S3(i,r,t):n&&!n.checkValidity()?(i.enableButtons(),i.showValidationMessage(e.validationMessage||n.validationMessage)):t==="deny"?Ig(i,r):jg(i,r)},S3=(i,t,e)=>{const n=te.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Il(n.inputValidator(t,n.validationMessage))).then(o=>{i.enableButtons(),i.enableInput(),o?i.showValidationMessage(o):e==="deny"?Ig(i,t):jg(i,t)})},Ig=(i,t)=>{const e=te.innerParams.get(i);e.showLoaderOnDeny&&Nr(xa()),e.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Il(e.preDeny(t,e.validationMessage))).then(r=>{r===!1?(i.hideLoading(),Vl(i)):i.close({isDenied:!0,value:typeof r>"u"?t:r})}).catch(r=>qE(i,r))):i.close({isDenied:!0,value:t})},rS=(i,t)=>{i.close({isConfirmed:!0,value:t})},qE=(i,t)=>{i.rejectPromise(t)},jg=(i,t)=>{const e=te.innerParams.get(i);e.showLoaderOnConfirm&&Nr(),e.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Il(e.preConfirm(t,e.validationMessage))).then(r=>{yn(Eh())||r===!1?(i.hideLoading(),Vl(i)):rS(i,typeof r>"u"?t:r)}).catch(r=>qE(i,r))):rS(i,t)};function eh(){const i=te.innerParams.get(this);if(!i)return;const t=te.domCache.get(this);Ke(t.loader),Ch()?i.icon&&Fe(Gr()):x3(t),Jn([t.popup,t.actions],X.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const x3=i=>{const t=i.loader.getAttribute("data-button-to-replace"),e=t?i.popup.getElementsByClassName(t):[];e.length?Fe(e[0],"inline-block"):KB()&&Ke(i.actions)};function XE(){const i=te.innerParams.get(this),t=te.domCache.get(this);return t?_h(t.popup,i.input):null}function YE(i,t,e){const n=te.domCache.get(i);t.forEach(r=>{n[r].disabled=e})}function WE(i,t){const e=zt();if(!(!e||!i))if(i.type==="radio"){const n=e.querySelectorAll(`[name="${X.radio}"]`);for(let r=0;r<n.length;r++)n[r].disabled=t}else i.disabled=t}function KE(){YE(this,["confirmButton","denyButton","cancelButton"],!1)}function ZE(){YE(this,["confirmButton","denyButton","cancelButton"],!0)}function QE(){WE(this.getInput(),!1)}function JE(){WE(this.getInput(),!0)}function t2(i){const t=te.domCache.get(this),e=te.innerParams.get(this);Bn(t.validationMessage,i),t.validationMessage.className=X["validation-message"],e.customClass&&e.customClass.validationMessage&&jt(t.validationMessage,e.customClass.validationMessage),Fe(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",X["validation-message"]),CE(n),jt(n,X.inputerror))}function e2(){const i=te.domCache.get(this);i.validationMessage&&Ke(i.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Jn(t,X.inputerror))}const Ds={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},E3=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],T3={allowEnterKey:void 0},C3=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],n2=i=>Object.prototype.hasOwnProperty.call(Ds,i),i2=i=>E3.indexOf(i)!==-1,s2=i=>T3[i],_3=i=>{n2(i)||an(`Unknown parameter "${i}"`)},M3=i=>{C3.includes(i)&&an(`The parameter "${i}" is incompatible with toasts`)},R3=i=>{const t=s2(i);t&&SE(i,t)},a2=i=>{i.backdrop===!1&&i.allowOutsideClick&&an('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&an(`Invalid theme "${i.theme}"`);for(const t in i)_3(t),i.toast&&M3(t),R3(t)};function r2(i){const t=rn(),e=zt(),n=te.innerParams.get(this);if(!e||Yi(e,n.hideClass.popup)){an("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=D3(i),o=Object.assign({},n,r);a2(o),t&&(t.dataset.swal2Theme=o.theme),BE(this,o),te.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const D3=i=>{const t={};return Object.keys(i).forEach(e=>{if(i2(e)){const n=i;t[e]=n[e]}else an(`Invalid parameter to update: ${e}`)}),t};function o2(){var i;const t=te.domCache.get(this),e=te.innerParams.get(this);if(!e){l2(this);return}t.popup&&ft.swalCloseEventFinishedCallback&&(ft.swalCloseEventFinishedCallback(),delete ft.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),(i=ft.eventEmitter)===null||i===void 0||i.emit("didDestroy"),k3(this)}const k3=i=>{l2(i),delete i.params,delete ft.keydownHandler,delete ft.keydownTarget,delete ft.currentInstance},l2=i=>{i.isAwaitingPromise?(Mp(te,i),i.isAwaitingPromise=!0):(Mp(Or,i),Mp(te,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},Mp=(i,t)=>{for(const e in i)i[e].delete(t)};var L3=Object.freeze({__proto__:null,_destroy:o2,close:Rs,closeModal:Rs,closePopup:Rs,closeToast:Rs,disableButtons:ZE,disableInput:JE,disableLoading:eh,enableButtons:KE,enableInput:QE,getInput:XE,handleAwaitingPromise:Vl,hideLoading:eh,rejectPromise:VE,resetValidationMessage:e2,showValidationMessage:t2,update:r2});const P3=(i,t,e)=>{i.toast?O3(i,t,e):(B3(t),F3(t),I3(i,t,e))},O3=(i,t,e)=>{t.popup.onclick=()=>{i&&(N3(i)||i.timer||i.input)||e(Xr.close)}},N3=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let nh=!1;const B3=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(t){i.container.onmouseup=()=>{},t.target===i.container&&(nh=!0)}}},F3=i=>{i.container.onmousedown=t=>{t.target===i.container&&t.preventDefault(),i.popup.onmouseup=function(e){i.popup.onmouseup=()=>{},(e.target===i.popup||e.target instanceof HTMLElement&&i.popup.contains(e.target))&&(nh=!0)}}},I3=(i,t,e)=>{t.container.onclick=n=>{if(nh){nh=!1;return}n.target===t.container&&xh(i.allowOutsideClick)&&e(Xr.backdrop)}},j3=i=>typeof i=="object"&&i!==null&&"jquery"in i,oS=i=>i instanceof Element||j3(i),z3=i=>{const t={};return typeof i[0]=="object"&&!oS(i[0])?Object.assign(t,i[0]):["title","html","icon"].forEach((e,n)=>{const r=i[n];typeof r=="string"||oS(r)?t[e]=r:r!==void 0&&Sa(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof r}`)}),t};function U3(...i){return new this(...i)}function H3(i){class t extends this{_main(n,r){return super._main(n,Object.assign({},i,r))}}return t}const V3=()=>ft.timeout&&ft.timeout.getTimerLeft(),c2=()=>{if(ft.timeout)return QB(),ft.timeout.stop()},u2=()=>{if(ft.timeout){const i=ft.timeout.start();return Og(i),i}},G3=()=>{const i=ft.timeout;return i&&(i.running?c2():u2())},$3=i=>{if(ft.timeout){const t=ft.timeout.increase(i);return Og(t,!0),t}},q3=()=>!!(ft.timeout&&ft.timeout.isRunning());let lS=!1;const gm={};function X3(i="data-swal-template"){gm[i]=this,lS||(document.body.addEventListener("click",Y3),lS=!0)}const Y3=i=>{for(let t=i.target;t&&t!==document;t=t.parentNode)for(const e in gm){const n=t.getAttribute&&t.getAttribute(e);if(n){gm[e].fire({template:n});return}}};class W3{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){const n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){const n=(...r)=>{this.removeListener(t,n),e.apply(this,r)};this.on(t,n)}emit(t,...e){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,e)}catch(r){console.error(r)}})}removeListener(t,e){const n=this._getHandlersByEventName(t),r=n.indexOf(e);r>-1&&n.splice(r,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}ft.eventEmitter=new W3;const K3=(i,t)=>{ft.eventEmitter&&ft.eventEmitter.on(i,t)},Z3=(i,t)=>{ft.eventEmitter&&ft.eventEmitter.once(i,t)},Q3=(i,t)=>{if(ft.eventEmitter){if(!i){ft.eventEmitter.reset();return}t?ft.eventEmitter.removeListener(i,t):ft.eventEmitter.removeAllListeners(i)}};var J3=Object.freeze({__proto__:null,argsToParams:z3,bindClickHandler:X3,clickCancel:z5,clickConfirm:FE,clickDeny:j5,enableLoading:Nr,fire:U3,getActions:zl,getCancelButton:$r,getCloseButton:Dg,getConfirmButton:Ti,getContainer:rn,getDenyButton:xa,getFocusableElements:kg,getFooter:TE,getHtmlContainer:Mg,getIcon:Gr,getIconContent:$B,getImage:EE,getInputLabel:qB,getLoader:qr,getPopup:zt,getProgressSteps:Rg,getTimerLeft:V3,getTimerProgressBar:Th,getTitle:xE,getValidationMessage:Eh,increaseTimer:$3,isDeprecatedParameter:s2,isLoading:YB,isTimerRunning:q3,isUpdatableParameter:i2,isValidParameter:n2,isVisible:I5,mixin:H3,off:Q3,on:K3,once:Z3,resumeTimer:u2,showLoading:Nr,stopTimer:c2,toggleTimer:G3});class tF{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const h2=["swal-title","swal-html","swal-footer"],eF=i=>{const t=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!t)return{};const e=t.content;return cF(e),Object.assign(nF(e),iF(e),sF(e),aF(e),rF(e),oF(e),lF(e,h2))},nF=i=>{const t={};return Array.from(i.querySelectorAll("swal-param")).forEach(n=>{va(n,["name","value"]);const r=n.getAttribute("name"),o=n.getAttribute("value");!r||!o||(r in Ds&&typeof Ds[r]=="boolean"?t[r]=o!=="false":r in Ds&&typeof Ds[r]=="object"?t[r]=JSON.parse(o):t[r]=o)}),t},iF=i=>{const t={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(n=>{const r=n.getAttribute("name"),o=n.getAttribute("value");!r||!o||(t[r]=new Function(`return ${o}`)())}),t},sF=i=>{const t={};return Array.from(i.querySelectorAll("swal-button")).forEach(n=>{va(n,["type","color","aria-label"]);const r=n.getAttribute("type");if(!(!r||!["confirm","cancel","deny"].includes(r))){if(t[`${r}ButtonText`]=n.innerHTML,t[`show${Tg(r)}Button`]=!0,n.hasAttribute("color")){const o=n.getAttribute("color");o!==null&&(t[`${r}ButtonColor`]=o)}if(n.hasAttribute("aria-label")){const o=n.getAttribute("aria-label");o!==null&&(t[`${r}ButtonAriaLabel`]=o)}}}),t},aF=i=>{const t={},e=i.querySelector("swal-image");return e&&(va(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},rF=i=>{const t={},e=i.querySelector("swal-icon");return e&&(va(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},oF=i=>{const t={},e=i.querySelector("swal-input");e&&(va(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));const n=Array.from(i.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(r=>{va(r,["value"]);const o=r.getAttribute("value");if(!o)return;const l=r.innerHTML;t.inputOptions[o]=l})),t},lF=(i,t)=>{const e={};for(const n in t){const r=t[n],o=i.querySelector(r);o&&(va(o,[]),e[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return e},cF=i=>{const t=h2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||an(`Unrecognized element <${n}>`)})},va=(i,t)=>{Array.from(i.attributes).forEach(e=>{t.indexOf(e.name)===-1&&an([`Unrecognized attribute "${e.name}" on <${i.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},d2=10,uF=i=>{var t,e;const n=rn(),r=zt();if(!n||!r)return;typeof i.willOpen=="function"&&i.willOpen(r),(t=ft.eventEmitter)===null||t===void 0||t.emit("willOpen",r);const l=window.getComputedStyle(document.body).overflowY;if(fF(n,r,i),setTimeout(()=>{hF(n,r)},d2),Lg()&&(dF(n,i.scrollbarPadding!==void 0?i.scrollbarPadding:!1,l),Y5()),!Ch()&&!ft.previousActiveElement&&(ft.previousActiveElement=document.activeElement),typeof i.didOpen=="function"){const u=i.didOpen;setTimeout(()=>u(r))}(e=ft.eventEmitter)===null||e===void 0||e.emit("didOpen",r)},ih=i=>{const t=zt();if(!t||i.target!==t)return;const e=rn();e&&(t.removeEventListener("animationend",ih),t.removeEventListener("transitionend",ih),e.style.overflowY="auto",Jn(e,X["no-transition"]))},hF=(i,t)=>{ME(t)?(i.style.overflowY="hidden",t.addEventListener("animationend",ih),t.addEventListener("transitionend",ih)):i.style.overflowY="auto"},dF=(i,t,e)=>{W5(),t&&e!=="hidden"&&n3(e),setTimeout(()=>{i.scrollTop=0})},fF=(i,t,e)=>{var n;(n=e.showClass)!==null&&n!==void 0&&n.backdrop&&jt(i,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),Fe(t,"grid"),setTimeout(()=>{var r;(r=e.showClass)!==null&&r!==void 0&&r.popup&&jt(t,e.showClass.popup),t.style.removeProperty("opacity")},d2)):Fe(t,"grid"),jt([document.documentElement,document.body],X.shown),e.heightAuto&&e.backdrop&&!e.toast&&jt([document.documentElement,document.body],X["height-auto"])};var cS={email:(i,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(i,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function pF(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=cS.email),i.input==="url"&&(i.inputValidator=cS.url))}function mF(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(an('Target parameter is not valid, defaulting to "body"'),i.target="body")}function gF(i){pF(i),i.showLoaderOnConfirm&&!i.preConfirm&&an(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mF(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),r5(i)}let Ai;var Eu=new WeakMap;class Ae{constructor(...t){if(FB(this,Eu,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Ai=this;const e=Object.freeze(this.constructor.argsToParams(t));this.params=e,this.isAwaitingPromise=!1,IB(Eu,this,this._main(Ai.params))}_main(t,e={}){if(a2(Object.assign({},e,t)),ft.currentInstance){const o=Or.swalPromiseResolve.get(ft.currentInstance),{isAwaitingPromise:l}=ft.currentInstance;ft.currentInstance._destroy(),l||o({isDismissed:!0}),Lg()&&zE()}ft.currentInstance=Ai;const n=bF(t,e);gF(n),Object.freeze(n),ft.timeout&&(ft.timeout.stop(),delete ft.timeout),clearTimeout(ft.restoreFocusTimeout);const r=vF(Ai);return BE(Ai,n),te.innerParams.set(Ai,n),yF(Ai,r,n)}then(t){return JA(Eu,this).then(t)}finally(t){return JA(Eu,this).finally(t)}}const yF=(i,t,e)=>new Promise((n,r)=>{const o=l=>{i.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Or.swalPromiseResolve.set(i,n),Or.swalPromiseReject.set(i,r),t.confirmButton.onclick=()=>{v3(i)},t.denyButton.onclick=()=>{w3(i)},t.cancelButton.onclick=()=>{A3(i,o)},t.closeButton.onclick=()=>{o(Xr.close)},P3(e,t,o),U5(ft,e,o),u3(i,e),uF(e),wF(ft,e,o),AF(t,e),setTimeout(()=>{t.container.scrollTop=0})}),bF=(i,t)=>{const e=eF(i),n=Object.assign({},Ds,t,e,i);return n.showClass=Object.assign({},Ds.showClass,n.showClass),n.hideClass=Object.assign({},Ds.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},vF=i=>{const t={popup:zt(),container:rn(),actions:zl(),confirmButton:Ti(),denyButton:xa(),cancelButton:$r(),loader:qr(),closeButton:Dg(),validationMessage:Eh(),progressSteps:Rg()};return te.domCache.set(i,t),t},wF=(i,t,e)=>{const n=Th();Ke(n),t.timer&&(i.timeout=new tF(()=>{e("timer"),delete i.timeout},t.timer),t.timerProgressBar&&n&&(Fe(n),Pn(n,t,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&Og(t.timer)})))},AF=(i,t)=>{if(!t.toast){if(!xh(t.allowEnterKey)){SE("allowEnterKey"),EF();return}SF(i)||xF(i,t)||mm(-1,1)}},SF=i=>{const t=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&yn(e))return e.focus(),!0;return!1},xF=(i,t)=>t.focusDeny&&yn(i.denyButton)?(i.denyButton.focus(),!0):t.focusCancel&&yn(i.cancelButton)?(i.cancelButton.focus(),!0):t.focusConfirm&&yn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,EF=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ae.prototype.disableButtons=ZE;Ae.prototype.enableButtons=KE;Ae.prototype.getInput=XE;Ae.prototype.disableInput=JE;Ae.prototype.enableInput=QE;Ae.prototype.hideLoading=eh;Ae.prototype.disableLoading=eh;Ae.prototype.showValidationMessage=t2;Ae.prototype.resetValidationMessage=e2;Ae.prototype.close=Rs;Ae.prototype.closePopup=Rs;Ae.prototype.closeModal=Rs;Ae.prototype.closeToast=Rs;Ae.prototype.rejectPromise=VE;Ae.prototype.update=r2;Ae.prototype._destroy=o2;Object.assign(Ae,J3);Object.keys(L3).forEach(i=>{Ae[i]=function(...t){if(Ai&&Ai[i])return Ai[i](...t)}});Ae.DismissReason=Xr;Ae.version="11.26.18";const sh=Ae;sh.default=sh;typeof document<"u"&&(function(i,t){var e=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const uS=[{key:"title",getter:i=>i.getTitle()},{key:"html",getter:i=>i.getHtmlContainer()},{key:"confirmButtonText",getter:i=>i.getConfirmButton()},{key:"denyButtonText",getter:i=>i.getDenyButton()},{key:"cancelButtonText",getter:i=>i.getCancelButton()},{key:"footer",getter:i=>i.getFooter()},{key:"closeButtonHtml",getter:i=>i.getCloseButton()},{key:"iconHtml",getter:i=>i.getIconContent()},{key:"loaderHtml",getter:i=>i.getLoader()}],Rp=()=>{};function TF(i){function t(r){const o={},l={},u=uS.map(d=>d.key);return Object.entries(r).forEach(d=>{let[f,p]=d;u.includes(f)&&qf.isValidElement(p)?(o[f]=p,l[f]=" "):l[f]=p}),[o,l]}function e(r,o){Object.entries(o).forEach(l=>{let[u,d]=l;const p=uS.find(b=>b.key===u).getter(i),m=dS.createRoot(p);m.render(d),r.__roots.push(m)})}function n(r){r.__roots.forEach(o=>{o.unmount()}),r.__roots=[]}return class extends i{static argsToParams(r){if(qf.isValidElement(r[0])||qf.isValidElement(r[1])){const o={};return["title","html","icon"].forEach((l,u)=>{r[u]!==void 0&&(o[l]=r[u])}),o}else return i.argsToParams(r)}_main(r,o){this.__roots=[],this.__params=Object.assign({},o,r);const[l,u]=t(this.__params),d=u.willOpen||Rp,f=u.didOpen||Rp,p=u.didDestroy||Rp;return super._main(Object.assign({},u,{willOpen:m=>{e(this,l),d(m)},didOpen:m=>{setTimeout(()=>{f(m)})},didDestroy:m=>{p(m),n(this)}}))}update(r){Object.assign(this.__params,r),n(this);const[o,l]=t(this.__params);super.update(l),e(this,o)}}}const ur=TF(sh);function CF({onNext:i,onExtend:t,onMarkAndMove:e,extensionsUsed:n}){const r=Math.max(0,3-n);return M.useEffect(()=>(ur.fire({title:R.jsx("span",{className:"text-3xl font-bold text-gray-800",children:"Time to Move On"}),html:R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mb-4 text-indigo-600",children:R.jsx(iR,{size:40})}),R.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Keeping a steady pace prevents burnout. You're doing great!"}),R.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[R.jsxs("button",{onClick:()=>{ur.clickConfirm(),ur.close(),i()},className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-xl flex items-center justify-center gap-3 transition-colors",children:["Next Slide ",R.jsx(El,{size:24})]}),R.jsx("button",{onClick:()=>{ur.close(),e()},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-colors",children:"Mark for Review & Move On"}),r>0?R.jsxs("button",{onClick:()=>{ur.close(),t()},className:"w-full py-3 border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 rounded-xl font-medium transition-colors",children:["Extend (1 min)  ",r," left"]}):R.jsx("p",{className:"text-sm font-bold text-rose-500 mt-2 bg-rose-50 p-2 rounded-lg border border-rose-200",children:"No extensions left. Panic prevention active."})]})]}),showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,background:"#ffffff",width:"450px",padding:"2rem",borderRadius:"1.5rem",backdrop:`
        rgba(15, 23, 42, 0.9)
        left top
        no-repeat
      `}),()=>{ur.close()}),[r,i,t,e]),null}function _F({slides:i,onFinish:t}){const[e,n]=M.useState(0),r=i[e],{formattedTime:o,start:l}=fm({initialTime:300,onExpire:t});M.useEffect(()=>{l()},[l]);const u=()=>{e<i.length-1&&n(f=>f+1)},d=()=>{e>0&&n(f=>f-1)};return R.jsx(ra.div,{className:"review-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:R.jsxs("div",{className:"review-container",children:[R.jsxs("div",{className:"review-header",children:[R.jsxs("div",{className:"review-title",children:[R.jsx(GM,{size:20,className:"text-purple-400"}),R.jsx("span",{children:"Review Mode"}),R.jsx("span",{className:"review-subtitle",children:"Consolidating last 5 slides"})]}),R.jsxs("div",{className:"review-timer",children:[R.jsx(Rr,{size:18,style:{color:"white"}}),R.jsx("span",{className:"tabular-nums",style:{color:"white"},children:o})]})]}),R.jsxs("div",{className:"review-main",children:[R.jsxs("div",{className:"review-sidebar",children:[R.jsxs("div",{className:"review-progress",children:[R.jsx("p",{className:"section-label",children:"Progress"}),R.jsx("div",{className:"progress-pills",children:i.map((f,p)=>R.jsx("div",{className:`progress-pill ${p===e?"active":p<e?"completed":""}`,onClick:()=>n(p)},p))}),R.jsxs("p",{className:"slide-counter",children:["Slide ",e+1," of ",i.length]})]}),R.jsxs("div",{className:"review-controls",children:[R.jsxs("button",{onClick:d,disabled:e===0,className:"review-nav-btn",children:[R.jsx(TM,{size:18}),R.jsx("span",{children:"Prev"})]}),R.jsxs("button",{onClick:u,className:"review-nav-btn",disabled:e===i.length-1,children:[R.jsx("span",{children:"Next"}),R.jsx(El,{size:18})]})]}),R.jsxs("button",{className:"finish-review-btn",onClick:t,children:[R.jsx(Cm,{size:20}),R.jsx("span",{children:"Finish Review"})]})]}),R.jsx("div",{className:"review-viewer",children:R.jsx(bE,{fileUrl:r.fileUrl,pageNumber:r.pageNumber})})]})]})})}function MF({timeout:i=6e4,onBoredomDetected:t,isActive:e}){const[n,r]=M.useState(Date.now()),o=M.useCallback(()=>{r(Date.now())},[]);return M.useEffect(()=>{if(!e)return;const l=["mousemove","mousedown","keypress","scroll","touchstart"];l.forEach(d=>window.addEventListener(d,o));const u=setInterval(()=>{Date.now()-n>i&&(t&&t(),r(Date.now()))},5e3);return()=>{l.forEach(d=>window.removeEventListener(d,o)),clearInterval(u)}},[e,n,i,t,o]),null}function RF(){const i=Sl(),{state:t,dispatch:e}=Tm(),{slides:n,currentSlideIndex:r,isActive:o,isPanicMode:l,extensionsUsed:u,totalTime:d}=t,f=n[r],[p,m]=M.useState(!1),[b,v]=M.useState(null),[S,w]=M.useState(!1),[E,x]=M.useState(!1),[C,_]=M.useState(0),{timeLeft:k,formattedTime:D,isRunning:N,start:P,pause:I,reset:V}=fm({initialTime:0,onExpire:()=>m(!0)}),{formattedTime:W,start:J,pause:nt}=fm({initialTime:d,onExpire:()=>{}});MF({timeout:45e3,isActive:N&&!p&&!E,onBoredomDetected:()=>w(!0)}),M.useEffect(()=>{(!t.isConfigured||n.length===0)&&i("/")},[t.isConfigured,n.length,i]),M.useEffect(()=>(o&&!E?J():nt(),()=>nt()),[o,E,J,nt]),M.useEffect(()=>{m(!1),v(null),w(!1),V(0)},[r,V]);const pt=ut=>{v(ut),e({type:"UPDATE_SLIDE_DIFFICULTY",payload:{slideId:f.id,difficulty:ut}}),V(ut),P()},it=()=>{I(),m(!1);const ut=C+1;_(ut),ut===5?x(!0):yt()},yt=()=>{r<n.length-1?e({type:"NEXT_SLIDE"}):i("/summary")},F=()=>{x(!1),_(0),yt()},U=M.useMemo(()=>E?n.slice(Math.max(0,r-4),r+1):[],[E,r,n]),Q=()=>{e({type:"USE_EXTENSION"}),V(k+60),P(),m(!1)},lt=()=>{it()};return f?R.jsxs("div",{className:"examix-container horizontal !p-0",children:[R.jsxs("div",{className:"session-content",children:[R.jsxs("div",{className:"controls-sidebar",children:[R.jsxs("div",{className:"examix-logo",children:[R.jsx("div",{className:"logo-circle"}),R.jsx("span",{children:"EXAMIX"})]}),R.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",width:"100%"}}),R.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsxs("div",{className:"stat-box text-center",children:[R.jsx("p",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",fontWeight:"bold",letterSpacing:"0.1em",marginBottom:"4px"},children:"SLIDE"}),R.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[r+1," / ",n.length]})]}),R.jsxs("div",{className:"stat-box text-center",children:[R.jsx("p",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",fontWeight:"bold",letterSpacing:"0.1em",marginBottom:"4px"},children:"HELP"}),R.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[u,"/3"]})]})]}),R.jsxs("div",{className:"timer-card-session",style:{marginBottom:"1rem",background:"rgba(255,255,255,0.05)"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"rgba(255,255,255,0.5)",marginBottom:"0.5rem"},children:[R.jsx(Rr,{size:16,className:"text-purple-300"}),R.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold"},children:"TOTAL TIME"})]}),R.jsx("div",{style:{fontSize:"2.5rem",fontVariantNumeric:"tabular-nums",fontWeight:700,fontFamily:"monospace",lineHeight:1},children:W})]}),R.jsxs("div",{className:"timer-card",children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"rgba(255,255,255,0.5)",marginBottom:"1rem"},children:[R.jsx(Rr,{size:16}),R.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold"},children:"TIME LEFT"})]}),R.jsx("div",{style:{fontSize:"4rem",fontVariantNumeric:"tabular-nums",fontWeight:700,fontFamily:"monospace",lineHeight:1},children:D})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[R.jsx("p",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",fontWeight:"bold",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"TIME PER SLIDE"}),b?R.jsxs("div",{className:"sidebar-section",style:{display:"flex",alignItems:"center",gap:"12px",background:"rgba(255,255,255,0.1)"},children:[R.jsx(Cm,{size:20,className:"text-emerald-400"}),R.jsxs("div",{className:"flex flex-col",children:[R.jsxs("span",{style:{fontWeight:"bold",fontSize:"1rem",letterSpacing:"0.05em"},children:[b,"s"]}),R.jsx("span",{style:{fontSize:"0.7rem",opacity:.6},children:"Allocated"})]}),R.jsx("button",{onClick:()=>{v(null),e({type:"UPDATE_SLIDE_DIFFICULTY",payload:{slideId:f.id,difficulty:null}})},className:"ml-auto text-xs opacity-50 hover:opacity-100",children:"Change"})]}):R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem"},children:[15,30,45,60,90,120].map(ut=>R.jsx("button",{onClick:()=>pt(ut),className:"difficulty-btn",style:{aspectRatio:"1/1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0.5rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",fontWeight:"700",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s"},children:R.jsxs("span",{children:[ut,"s"]})},ut))})]}),R.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("button",{onClick:it,disabled:!b,className:"start-study-btn",children:["Next Slide ",R.jsx(El,{size:20})]}),R.jsx("button",{onClick:()=>i("/"),style:{background:"transparent",color:"rgba(255,255,255,0.3)",border:"none",cursor:"pointer",fontSize:"0.8rem",fontWeight:600},children:"Exit Session"})]})]}),R.jsx("div",{className:"pdf-area",children:R.jsx("div",{className:"pdf-glass-container",children:R.jsx(bE,{fileUrl:f.fileUrl,pageNumber:f.pageNumber})})})]}),R.jsx(ox,{children:E&&R.jsx(_F,{slides:U,onFinish:F})}),p&&R.jsx(CF,{onNext:it,onExtend:Q,onMarkAndMove:lt,extensionsUsed:u})]}):R.jsx("div",{className:"examix-container vertical justify-center items-center",children:R.jsxs("div",{className:"text-center p-8",children:[R.jsx(MM,{size:48,className:"mx-auto mb-4 text-rose-400"}),R.jsx("h2",{className:"text-2xl font-bold text-white",children:"Session Error"}),R.jsx("button",{onClick:()=>i("/"),className:"create-account-btn mt-4",children:"Restart"})]})})}function DF(){const i=Sl(),{state:t}=Tm(),{totalTime:e,slides:n,extensionsUsed:r,startTime:o,goal:l}=t,u=M.useRef(!1),d=n.filter(m=>m.status==="completed").length,f=o?Math.floor((Date.now()-o)/1e3/60):0;M.useEffect(()=>{!u.current&&o&&(u.current=!0,fetch("http://localhost:3000/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({goal:l,timeSpent:f,slidesTotal:n.length,slidesCompleted:d,extensionsUsed:r,panicMode:t.isPanicMode})}).catch(m=>console.error("Failed to save session:",m)))},[o,l,f,n.length,d,r,t.isPanicMode]);const p=()=>{i("/"),window.location.reload()};return R.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 animate-fade-in relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-[128px] pointer-events-none"}),R.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/20 rounded-full blur-[128px] pointer-events-none"}),R.jsxs("div",{className:"w-full max-w-4xl relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[R.jsxs("div",{className:"text-left space-y-6 animate-slide-in-left",children:[R.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-300 text-sm font-bold uppercase tracking-wider backdrop-blur-md",children:[R.jsx(OS,{size:14,className:"animate-pulse"}),"Session Complete"]}),R.jsxs("h1",{className:"text-6xl font-extrabold text-white leading-tight",children:["You crushed your ",R.jsx("br",{}),R.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"study goal!"})]}),R.jsxs("p",{className:"text-xl text-white/60 max-w-md",children:["Great job focusing on ",R.jsx("span",{className:"text-white font-semibold",children:l}),". Here is how you performed."]}),R.jsx("div",{className:"pt-8",children:R.jsxs("button",{onClick:p,className:"group relative px-8 py-4 rounded-2xl bg-white text-slate-900 font-bold text-lg flex items-center gap-3 transition-all hover:scale-[1.02] active:scale-[0.98] shadow-[0_0_40px_rgba(255,255,255,0.3)]",children:["Start New Session",R.jsx(HM,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"})]})})]}),R.jsxs("div",{className:"relative animate-scale-in delay-100",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/30 to-fuchsia-600/30 rounded-[2.5rem] blur-xl"}),R.jsxs("div",{className:"relative bg-black/40 backdrop-blur-2xl border border-white/10 rounded-[2.5rem] p-8 shadow-2xl",children:[R.jsxs("div",{className:"flex items-center justify-between mb-8",children:[R.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-lg shadow-orange-500/20",children:R.jsx(WM,{size:32,className:"text-white"})}),R.jsxs("div",{className:"text-right",children:[R.jsx("p",{className:"text-sm text-white/40 font-bold uppercase tracking-widest",children:"TOTAL SCORE"}),R.jsx("p",{className:"text-4xl font-black text-white",children:"100%"})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[R.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors",children:[R.jsxs("p",{className:"text-sm font-bold text-blue-300 mb-1 flex items-center gap-2",children:[R.jsx(Rr,{size:14})," Time"]}),R.jsxs("p",{className:"text-2xl font-bold text-white",children:[f," ",R.jsx("span",{className:"text-sm text-white/40 font-normal",children:"min"})]})]}),R.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors",children:[R.jsxs("p",{className:"text-sm font-bold text-purple-300 mb-1 flex items-center gap-2",children:[R.jsx(Cm,{size:14})," Slides"]}),R.jsxs("p",{className:"text-2xl font-bold text-white",children:[d," ",R.jsxs("span",{className:"text-lg text-white/40 font-normal",children:["/ ",n.length]})]})]}),R.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors",children:[R.jsxs("p",{className:"text-sm font-bold text-amber-300 mb-1 flex items-center gap-2",children:[R.jsx(oR,{size:14})," Extensions"]}),R.jsxs("p",{className:"text-2xl font-bold text-white",children:[r," ",R.jsx("span",{className:"text-lg text-white/40 font-normal",children:"used"})]})]}),R.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors",children:[R.jsxs("p",{className:"text-sm font-bold text-emerald-300 mb-1 flex items-center gap-2",children:[R.jsx(XM,{size:14})," Focus"]}),R.jsx("p",{className:"text-2xl font-bold text-white",children:"High"})]})]}),R.jsxs("div",{className:"p-5 bg-gradient-to-r from-indigo-600/20 to-violet-600/20 rounded-2xl border border-indigo-500/30 flex items-center justify-between group cursor-pointer hover:bg-indigo-600/30 transition-colors",children:[R.jsxs("div",{children:[R.jsx("p",{className:"font-bold text-indigo-200 text-sm mb-0.5",children:"Unlock Detailed Insights"}),R.jsx("p",{className:"text-xs text-indigo-300/60",children:"View retention graphs & export data"})]}),R.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500/20 flex items-center justify-center group-hover:bg-indigo-500 group-hover:text-white transition-all text-indigo-400",children:R.jsx(El,{size:16})})]})]})]})]})]})}function kF(){return R.jsx(bM,{children:R.jsx(rM,{children:R.jsx("div",{className:"w-full h-full",children:R.jsxs(B_,{children:[R.jsx(Qo,{path:"/",element:R.jsx(NB,{})}),R.jsx(Qo,{path:"/session",element:R.jsx(RF,{})}),R.jsx(Qo,{path:"/summary",element:R.jsx(DF,{})}),R.jsx(Qo,{path:"*",element:R.jsx(O_,{to:"/",replace:!0})})]})})})})}ks.workerSrc=new URL(""+new URL("pdf.worker.min-qwK7q_zL.mjs",import.meta.url).href,import.meta.url).toString();dS.createRoot(document.getElementById("root")).render(R.jsx(M.StrictMode,{children:R.jsx(kF,{})}));
